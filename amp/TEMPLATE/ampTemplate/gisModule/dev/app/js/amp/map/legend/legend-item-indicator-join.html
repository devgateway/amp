<span class="templateBugWorkaround">
    <h3 data-i18n="amp.gis:title-<%= title %>"><%= title %></h3>
  <small><%= obj.description %></small>

  <% if (status === 'loading') { %>
    <p><em data-18n="amp.gis:legend-loading">Loading...</em>></p>
  <% } else if(colourBuckets && colourBuckets.length > 0) { %>
    <% colourBuckets.each(function(bucket) { %>
      <% if(bucket.get('value') && !_.isNaN(bucket.get('value')[0]) && _.isFinite(bucket.get('value')[0])) { %>
      <div>
        <span style="background: <%= bucket.hex() %> !important" class="color-block legend-sample"></span>        
        <%          
          var ratioOtherIndicator = self.app.data.indicatorTypes.findWhere({'orig-name': Constants.INDICATOR_TYPE_RATIO_OTHER});
          var percentIndicator = self.app.data.indicatorTypes.findWhere({'orig-name': Constants.INDICATOR_TYPE_RATIO_PERCENTAGE});        
          if(model.get('gapAnalysis') === false && ((percentIndicator && percentIndicator.get('id') === model.get('indicatorTypeId')) || (ratioOtherIndicator && ratioOtherIndicator.get('id') === model.get('indicatorTypeId')))) { %>        
          <%= util.formatPercentage()(bucket.get('value')[0]) %>&mdash;<%= util.formatPercentage()(bucket.get('value')[1]) %>
        <% } else { %>
          <%= util.formatKMB()(bucket.get('value')[0]) %>&mdash;<%= util.formatKMB()(bucket.get('value')[1]) %> <%= unit %>
        <% } %>
      </div>
      <% } %>
    <% }) %>
  <% } else { %>
    <p><em data-18n="amp.gis:legend-noDataAvailable">No Data Available</em>></p>
  <% } %>
</span>
