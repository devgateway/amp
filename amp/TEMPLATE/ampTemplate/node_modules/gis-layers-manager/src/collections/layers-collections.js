var Deferred = require('jquery').Deferred;
var _ = require('underscore');
var Backbone = require('backbone');
var Setting = require('../models/indicator-layer');

module.exports  = Backbone.Collection.extend({
	model : Setting,
	url: function() {
		return '/rest/indicator/indicator-layer?offset=' + (this.page.get('currentPageNumber') * this.page.get('recordsPerPage')) + '&count=' + this.page.get('recordsPerPage');
	},
	parse: function (response) {
		this.page = new Backbone.Model(response.page);
		return response.data;
	},
	page: new Backbone.Model({
		pageArea: null,
		recordsPerPage: 10,
		currentPageNumber: 0,
		totalPageCount: 1,
		totalRecords: 10
	}),
});