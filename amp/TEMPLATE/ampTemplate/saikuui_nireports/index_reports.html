<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript"> 
    	if (!window.console) console = {log: function() {}, warn: function() {}, error: function() {}, info: function(){}}; 
    	console.log('START!!!!');
    	window.saiku_time = new Date().getTime();
    </script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Aid Management Platform - Reports</title>

    <!-- Start of changes for AMP Filters -->	
	<link rel="stylesheet" href="css/bootstrap/bootstrap.min.css">
	<link rel="stylesheet" href="css/bootstrap/bootstrap-theme.min.css">
	<link rel="stylesheet" href="/TEMPLATE/ampTemplate/node_modules/amp-filter/dist/amp-filter.css">
	<link rel="stylesheet" href="/TEMPLATE/ampTemplate/node_modules/amp-settings/dist/amp-settings.css">
	<!-- End of changes for AMP Filters -->

    <!--  jQuery CSS -->
    <link rel="stylesheet" href="css/jquery/jquery-ui.css" type="text/css" media="all" />
    <link rel="stylesheet" href="css/saiku/src/giveitsomestyle.css" type="text/css" media="screen"/>
	<!-- Start of changes for AMP Filters -->
    <link rel="stylesheet" href="js/saiku/plugins/AMPMode/styles.css" type="text/css">
	<!-- End of changes for AMP Filters -->
	<!-- Start Custom Code for Pagination -->
	<link rel="stylesheet" href="js/saiku/plugins/Pagination/pagination.css" type="text/css">
	<!-- End Custom Code for Pagination -->
	<!-- Start Custom Code for AMP Info -->
	<link rel="stylesheet" href="js/saiku/plugins/AMPInfo/ampinfo.css" type="text/css">
	<!-- End Custom Code for AMP Info -->
    <!-- Saiku CSS -->
    <link rel="stylesheet" href="css/saiku/src/styles.css" type="text/css">
    <link rel="stylesheet" href="css/saiku/src/saiku.table.css" type="text/css">
    <link rel="shortcut icon" href="favicon.ico">

</head>
<body>
<div id="header" class="hide" style="display:none"></div>

<div class="processing_container"></div>
<div class="processing">
    <div class="processing_inner">
<!--         <span class="saiku_logo">&nbsp;</span> -->
        <div class="processing_content">
            <span class="processing_image">&nbsp;</span>
            <span class="processing_message i18n">Loading UI...</span>
        </div>
    </div>
</div>

<!-- Start of changes for AMP Filters -->
<script src="/TEMPLATE/ampTemplate/saikuui_nireports/js/jquery/jquery.min.js" type="text/javascript"></script>
<script src="js/bootstrap_3.2.0.min.js" type="text/javascript"></script>
<script src="/TEMPLATE/ampTemplate/node_modules/amp-filter/dist/amp-filter.js" type="text/javascript"></script>
<script src="/TEMPLATE/ampTemplate/node_modules/amp-settings/dist/amp-settings.js" type="text/javascript"></script>
<script src="/TEMPLATE/ampTemplate/saikuui_nireports/js/jquery/jquery-ui.min.js" type="text/javascript"></script>
<!-- End of changes for AMP Filters -->

<script src="js/jquery/jquery-mobile-touch.js" type="text/javascript"></script>
<script type="text/javascript" src="js/jquery/jquery.blockUI.min.js"></script>

<script type="text/javascript">

    // Replace the normal jQuery getScript function with one that supports
    // debugging and which references the script files as external resources
    // rather than inline.
    jQuery.extend({
        getScript: function(url, callback) {
            var head = document.getElementsByTagName("head")[0];
            var script = document.createElement("script");
            script.src = url;

            // Handle Script loading
            {
                var done = false;

                // Attach handlers for all browsers
                script.onload = script.onreadystatechange = function(){
                    if ( !done && (!this.readyState ||
                            this.readyState == "loaded" || this.readyState == "complete") ) {
                        done = true;
                        if (callback)
                            callback();

                        // Handle memory leak in IE
                        script.onload = script.onreadystatechange = null;
                    }
                };
            }

            head.appendChild(script);

            // We handle everything using the script element injection
            return undefined;
        }
    });
</script>
<!-- Backbone.js and deps -->
<script type="text/javascript" src="js/backbone/underscore.js"></script>
<script type="text/javascript" src="js/backbone/json2.js"></script>
<script type="text/javascript" src="js/backbone/backbone.min.js"></script>

<!-- Saiku Project -->
<script type="text/javascript" src="js/Logging.js"></script>
<script type="text/javascript" src="js/saiku/Settings.js"></script>
<script type="text/javascript" src="js/saiku/models/SaikuQuery.js"></script>
<script type="text/javascript" src="js/saiku/render/SaikuRenderer.js"></script>
<script type="text/javascript" src="js/saiku/render/SaikuTableRenderer.js"></script>
<script type="text/javascript" src="js/saiku/render/AMPTableRenderer.js"></script>
<script type="text/javascript" src="js/saiku/models/Dimension.js"></script>
<script type="text/javascript" src="js/saiku/views/QueryToolbar.js"></script>
<script type="text/javascript" src="js/saiku/views/WorkspaceToolbar.js"></script>
<script type="text/javascript" src="js/saiku/views/Table.js"></script>
<script type="text/javascript" src="js/saiku/views/Workspace.js"></script>
<script type="text/javascript" src="js/saiku/views/Tab.js"></script>
<script type="text/javascript" src="js/saiku/models/Repository.js"></script>
<script type="text/javascript" src="js/saiku/models/Result.js"></script>
<script type="text/javascript" src="js/saiku/plugins/AMPFilters/FilterUtils.js"></script>
<script type="text/javascript" src="/TEMPLATE/ampTemplate/script/common/CommonFilterUtils.js"></script>
<script type="text/javascript" src="/TEMPLATE/ampTemplate/script/common/TranslationManager.js"></script>
<script type="text/javascript" src="js/saiku/models/Query.js"></script>
<script type="text/javascript" src="js/saiku/models/Session.js"></script>
<script type="text/javascript" src="js/saiku/models/SessionWorkspace.js"></script>
<script type="text/javascript" src="js/saiku/models/Plugin.js"></script>
<script type="text/javascript" src="js/saiku/Saiku.js"></script>
<script type="text/javascript" src="js/saiku/adapters/SaikuServer.js"></script>
<script type="text/javascript" src="js/saiku/routers/QueryRouter.js"></script>

<script type="text/javascript" src="js/saiku/plugins/I18n/plugin.js"></script>
<script type="text/javascript" src="js/saiku/plugins/Sorting/plugin.js"></script>

<script type="text/javascript" src="/TEMPLATE/ampTemplate/script/common/md5.js"></script>

<!-- CCC dependencies -->
<script type="text/javascript" src="js/saiku/plugins/CCC_Chart/jquery.tipsy.js"></script>
<link type="text/css" href="js/saiku/plugins/CCC_Chart/tipsy.css" rel="stylesheet"/>

<!-- Number formatting for Saiku Grid -->
<script type="text/javascript" src="js/numeral_1.5.3.min.js" charset="utf-8"></script>

<!-- Templates -->
<script type="text/x-jquery-tmpl" id="template-toolbar">
</script>

<script type="text/x-jquery-tmpl" id="template-upgrade">
</script>

<script type="text/x-jquery-tmpl" id="template-cubes">           
</script>

<script type="text/x-jquery-tmpl" id="template-dimensions">       
</script>

<script type="text/x-jquery-tmpl" id="template-measures">
</script>

<script type="text/x-jquery-tmpl" id="template-calculated-measures">
</script>

<script type="text/x-query-tmpl" id="template-splash">
</script>

<script type="text/x-jquery-tmpl" id="template-workspace">
        <div class="workspace">
            <div class="workspace_inner">
                <div class="query_toolbar"></div>
                <div class="workspace_toolbar"></div>
                <div class="upgrade"></div>
                <div class="parameter_input" />
                <div class="workspace_editor hide">
                    <div id='mdx_editor' class='mdx_input hide'>
                    </div>
                    <span class="editor_info hide"></span>

                </div>
                <div id="query_processing" class="query_processing" style="display:none;"><span class="processing_image">&nbsp;&nbsp;</span> <span class="i18n">Running query...</span>  [&nbsp;<a class="cancel i18n" href="#cancel">Cancel</a>&nbsp;]</div>

                <div class="workspace_results_info" align="right" />
                <div class="workspace_results">

                </div>
            </div>
        </div>
</script>

<script type="text/x-jquery-tmpl" id="template-attributes">
</script>

<script type="text/x-jquery-tmpl" id="template-workspace-dropzones">
</script>

<script type="text/x-jquery-tmpl" id="template-workspace-toolbar">
        <ul>
           <!-- Start Custom Code for Pagination -->
           <li class="seperator"><a href="#first_page" 
           		class="i18n first_page button disabled_toolbar pagination_sprite" 
                title="First Page"></a></li>
            <li><a href="#prev_page" 
                class="i18n prev_page button disabled_toolbar pagination_sprite" 
                title="Prev Page"></a></li>
			<li>
				<input type="text" class="pagination_info" disabled style="display:none"></input>
			</li>
            <li><a href="#next_page" 
                class="i18n next_page button disabled_toolbar pagination_sprite" 
                title="Next Page"></a></li>
            <li><a href="#last_page" 
                class="i18n last_page button disabled_toolbar pagination_sprite" 
                title="Last Page"></a></li>
			<!-- End Custom Code for Pagination -->

            <li class="seperator"><a href="#export_amp_xls"
                class="i18n export_xls button disabled_toolbar sprite"
                title="Export XLS"></a></li>
			<li><a href="#export_amp_xls_plain"
                class="i18n export_xls button disabled_toolbar sprite"
                title="Export XLS (without styles)"></a></li>
            <li><a href="#export_amp_csv"
                class="i18n export_csv button disabled_toolbar sprite"
                title="Export CSV"></a></li>
            <li><a href="#export_amp_pdf"
                class="i18n export_pdf button disabled_toolbar sprite"
                title="Export PDF"></a></li>
            <li><a href="#switch_to_mdx"
                class="i18n switch_to_mdx button disabled_toolbar"
                title="Switch to MDX Mode"></a></li>
            <li class="seperator">
                <a href="#export_amp_dual_currency"
                  class="i18n export_dual_currency button disabled_toolbar sprite"
                  title="Dual currency report export"/></a></li>
        </ul>
</script>

<script type="text/x-jquery-tmpl" id="template-query-toolbar">
</script>

<script type="text/x-jquery-tmpl" id="template-open-dialog">
</script>

<script type="text/x-jquery-tmpl" id="template-repository-objects">
</script>

<script type="text/x-jquery-tmpl" id="template-repository-folder">
</script>

<script type="text/x-jquery-tmpl" id="template-repository-file">
</script>

<script type="text/x-jquery-tmpl" id="template-selections">
</script>
        
<script type="text/x-jquery-tmpl" id="template-selections-options">
</script>

<script type="text/x-jquery-tmpl" id="template-permissions">
</script>

<script type="text/x-jquery-tmpl" id="template-permissions-rolelist">
</script>

<script type="text/x-jquery-tmpl" id="template-drillthrough">
</script>
        
<script type="text/x-jquery-tmpl" id="template-drillthrough-list">
</script>
        
<script type="text/x-jquery-tmpl" id="template-drillthrough-dimensions">
</script>

<script type="text/x-jquery-tmpl" id="template-drillthrough-measures">
</script>

	<script type="text/x-jquery-tmpl" id="template-sorting-popup">
		<div>
			<table style='width: 100%;'>
				<tr style='width: 100%;'>
					<td style='width: 100%;'>
						<span>
							Hierarchy Level:					
							<select id='levelPicked'>
								<% _.each(hierarchies, function(hierarchy) { %>
                           			<option id='<%= hierarchy.entityName %>'><%= hierarchy.textValue %></option>
                				<% }); %>
							</select>
						</span>
					</td>
				</tr>
				<tr style='width: 100%;'>
					<td style='width: 100%;'>
						<span>
							Sort By:					
							<select id='levelSorter'>
								<% _.each(columns, function(column) { %>
                           			<option id='<%= column.entityName %>'><%= column.columnName %></option>
                				<% }); %>
							</select>
						</span>
					</td>
				</tr>
				<tr style='width: 100%;'>
					<td style='width: 100%;'>
						<span>
							Sort Order:					
							<select name="levelSortOrder" class="dropdwn_sm">
								<option value="ascending">Ascending</option>
								<option value="descending">Descending</option>
							</select>
						</span>
					</td>
				</tr>
			</table>
		</div>
    </script>
    
	<!-- Start of changes for AMP Filters. Move this to the plugin functionality -->
	<div id='filter-popup' class='panel panel-primary' style="display:none;"></div>
	<div id='settings-popup' class='panel panel-primary' style="display:none;"></div>	
	<!-- End of changes for AMP Filters -->
    <div id="deflated-currencies-container" class="panel panel-primary">
        <div class="panel-heading">
            <button type="button" class="close cancel" aria-hidden="true">×</button>
            <h3 class="panel-title i18n">Settings</h3>
        </div>
        <div class="panel-body">        
            <table align="center">
                <tbody>
                    <tr>
                        <td class="i18n">Currency</td>
                        <td>
                            <select name="amp_currency" id="amp_deflated_currency"></select>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="panel-footer">
            <div class="pull-right">
                <button type="button" class="btn btn-sm btn-warning cancel i18n" title="Revert filters to state when opened.">Cancel</button>
                <button type="button" class="btn btn-sm btn-success export i18n">Export</button>
            </div>
        </div>
    </div>
</body>
</html>