<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">

<struts-config>
	<form-beans>
		<form-bean name="gisDashboardForm" type="org.digijava.module.gis.form.GisDashboardForm" />
		<form-bean name="gisTableWidgetCreationForm" type="org.digijava.module.gis.form.TableWidgetCreationForm" />
		<form-bean name="gisTableWidgetTeaserForm" type="org.digijava.module.gis.form.TableWidgetTeaserForm" />
		<form-bean name="gisTableWidgetDataForm" type="org.digijava.module.gis.form.AdminTableWidgetDataForm" />
	    <form-bean name="gisMapLoaderForm" type="org.digijava.module.gis.form.GisMapLoaderForm" />
		<form-bean name="gisFoundingDetailsForm" type="org.digijava.module.gis.form.GisFoundingDetailsForm"/>
		<form-bean name="gisDemoForm" type="org.digijava.module.gis.form.GisDemoForm"/>
	  <form-bean name="gisWidgetPlacesForm" type="org.digijava.module.gis.form.WidgetPlacesForm"/>
	  <form-bean name="gisIndicatorChartForm" type="org.digijava.module.gis.form.AdminIndicatorChartsForm"/>
	  <form-bean name="gisWidgetTeaserForm" type="org.digijava.module.gis.form.WidgetTeaserForm"/>
	  <form-bean name="gisWidgetChartForm" type="org.digijava.module.gis.form.ShowWidgetChartForm"/>
	  <form-bean name="gisSectorByDonorTeaserForm" type="org.digijava.module.gis.form.SectorByDonorTeaserForm"/>
	  
	</form-beans>
	
	<global-forwards>
		<forward name="listTableWidgets" path="/gis/adminTableWidgets.do" redirect="true"/>
	</global-forwards>	
	
	<action-mappings>
		<action name="gisDashboardForm" path="/gis/showGisDashboard" type="org.digijava.module.gis.action.ShowGisDashboard" validate="false">
			<forward name="forward" path="/showLayout.do?layout=gisDashboardLayout"/>
			<forward name="forwardOld" path="/showLayout.do?layout=gis_dashboard"/>
		</action>
		<action name="gisTableWidgetCreationForm" path="/gis/adminTableWidgets" parameter="actType" scope="request" type="org.digijava.module.gis.action.AdminTableWidgets" validate="false">
			<forward name="forward" path="/showLayout.do?layout=gis_tableWidgetAdmin"/>
			<forward name="showAdd" path="/showLayout.do?layout=add_tableWidget"/>
			<forward name="showEdit" path="/showLayout.do?layout=edit_tableWidget"/>
			<forward name="showAddColumnPopup" path="/showLayout.do?layout=popup_addWidgetColumn"/>
			<forward name="returnToEdit" path="/gis/adminTableWidgets.do?actType=edit" redirect="true"/>
		</action>
	    <action name="gisDashboardForm" path="/gis/index" type="org.digijava.module.gis.action.ShowGisDashboard" validate="false">
    	  <forward name="forward" path="/showLayout.do?layout=gis_dashboard" />
    	</action>
	    <action name="gisMapLoaderForm" path="/gis/mapLoader" scope="request" type="org.digijava.module.gis.action.MapLoader" validate="false">
    	  <forward name="forward" path="/showLayout.do?layout=mapLoader" />
	    </action>
    	<action name="gisMapLoaderForm" path="/gis/gisService" scope="request" type="org.digijava.module.gis.action.GisService" validate="false">
	      <forward name="forward" path="/showLayout.do?layout=mapLoader" />
    	</action>
	<action name="gisMapLoaderForm" path="/gis/getActivityMap" scope="request" type="org.digijava.module.gis.action.GetActivityMap" validate="false">
	      <forward name="forward" path="/showLayout.do?layout=mapLoader" />
	 </action>
	<action name="gisFoundingDetailsForm" path="/gis/getFoundingDetails" scope="request" type="org.digijava.module.gis.action.GetFoundingDetails" validate="false">
	      <forward name="forward" path="/showLayout.do?layout=mapLoader" />
	 </action>
	
	<action name="gisFoundingDetailsForm" path="/gis/getFoundingDetails" scope="request" type="org.digijava.module.gis.action.GetFoundingDetails" validate="false">
	      <forward name="forward" path="/showLayout.do?layout=mapLoader" />
	</action>

	<action name="gisDemoForm" path="/gis/showDemo" scope="request" type="org.digijava.module.gis.action.ShowDemo" validate="false">
	      <forward name="forward" path="/showLayout.do?layout=gisDemo" />
	</action>
    	
	<action name="gisTableWidgetTeaserForm" path="/gis/widgetTest" scope="request" type="org.digijava.module.gis.action.TestWidget" validate="false">
	      <forward name="forward" path="/showLayout.do?layout=widgetTestPage" />
    	</action>
    	<action name="gisTableWidgetDataForm" path="/gis/tableWidgetData" scope="session" parameter="actType" type="org.digijava.module.gis.action.AdminTableWidgetData" validate="false">
	      <forward name="forward" path="/showLayout.do?layout=edit_tableWidgetData" />
    	</action>
    	<action name="gisTableWidgetTeaserForm" path="/gis/previewTable" scope="request" type="org.digijava.module.gis.action.PreviewTableWidget" validate="false">
	      <forward name="forward" path="/showLayout.do?layout=edit_tableWidgetData" />
    	</action>

		  <action name="gisIndicatorChartForm" parameter="actType"
		   path="/gis/indicatorchartwidgets" scope="session"
		   type="org.digijava.module.gis.action.AdminIndicatorChartWidgets" validate="false">
		   <forward name="forward" path="/showLayout.do?layout=gis_indicchartwidgets"/>
		   <forward name="showEdit" path="/showLayout.do?layout=gis_editindicchartwidget"/>
		   <forward name="showList" path="/gis/indicatorchartwidgets.do" redirect="true"/>
		  </action>


		  <action name="gisWidgetPlacesForm" parameter="actType"
		   path="/gis/widgetplaces" scope="session"
		   type="org.digijava.module.gis.action.AdminWidgetPlaces" validate="false">
		   <forward name="forward" path="/showLayout.do?layout=gis_widgetPlaces"/>
		   <forward name="showAssignWidget" path="/showLayout.do?layout=gis_widgetPlaceAssign"/>
		   <forward name="showPlacesList" path="/gis/widgetplaces.do" redirect="true"/>
		  </action>

		  <action name="gisWidgetChartForm" parameter="actType"
		   path="/gis/widgetchart" scope="request"
		   type="org.digijava.module.gis.action.ShowWidgetChart" validate="false"/>

		  <action name="gisSectorByDonorTeaserForm" parameter="actType"
		   path="/gis/showSectorByDonorChart" scope="request"
		   type="org.digijava.module.gis.action.ShowSectorByDonorChart" validate="false"/>
		
		<!-- Teasers below this -->
		<action name="gisTableWidgetTeaserForm" path="/gis/tableWidgetTeaser" type="org.digijava.module.gis.action.TableWidgetTeaser"/>
		<action name="gisWidgetTeaserForm" path="/gis/widgetTeaser" type="org.digijava.module.gis.action.WidgetTeaser"/>
		<action name="gisSectorByDonorTeaserForm" path="/gis/sectorByDonorTeaser" type="org.digijava.module.gis.action.SectorsByDonorTeaser"/>
		<action name="gisDashboardForm" path="/gis/dashboardMapTeaser" type="org.digijava.module.gis.action.DashboardMapTeaser"/>
	</action-mappings>
</struts-config>
