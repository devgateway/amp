{"version":3,"file":"1290.bundle.js","mappings":"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","sources":["modules/report_generator/utils/constants.js","modules/report_generator/actions/stateUIActions.js","modules/report_generator/utils/Utils.js","modules/report_generator/reducers/utils/stateUIDataConverter.js","modules/report_generator/reducers/stateUIReducer.js","modules/report_generator/actions/previewActions.js","modules/report_generator/reducers/previewReducer.js","modules/report_generator/actions/settingsActions.js","modules/report_generator/reducers/settingsReducer.js","modules/report_generator/actions/layoutActions.js","modules/report_generator/reducers/layoutReducer.js","modules/report_generator/actions/mementoAction.js","modules/report_generator/reducers/mementoReducer.js","modules/report_generator/actions/languagesActions.js","modules/report_generator/reducers/languagesReducer.js","modules/report_generator/reducers/rootReducer.js","modules/report_generator/components/StartUp.jsx","modules/report_generator/static/images/icon-information.svg","modules/report_generator/components/MainHeader.jsx","modules/report_generator/components/ErrorMessage.jsx","modules/report_generator/components/MultiLingualInputText.jsx","modules/report_generator/components/SaveModal.jsx","modules/report_generator/components/MainMenu.jsx","modules/report_generator/components/sections/OptionsList.jsx","modules/report_generator/components/sections/ColumnsSelector.jsx","modules/report_generator/components/sections/ColumnsSorter.jsx","modules/report_generator/components/sections/InputWrapper.jsx","modules/report_generator/components/sections/ColumnsSection.jsx","modules/report_generator/components/sections/OptionsContent.jsx","modules/report_generator/components/sections/ReportingDetailsSection.jsx","modules/report_generator/components/sections/MeasuresSection.jsx","modules/report_generator/components/sections/NavigationButtons.jsx","modules/report_generator/components/sections/PreviewSection.jsx","modules/report_generator/components/MainContent.jsx","modules/report_generator/utils/appliedFiltersExtenalCode.js","modules/report_generator/components/Filters.jsx","modules/report_generator/components/Settings.jsx","modules/report_generator/reducers/utils/settingsDataConverter.js","modules/report_generator/components/FiltersAndSettings.jsx","modules/report_generator/components/ReportGeneratorHome.jsx","modules/report_generator/components/ReportGenerator.router.jsx","modules/report_generator/index.js","modules/sscdashboard/utils/constants.js","utils/actions/fetchTranslations.js","utils/actions/translationsActions.js","utils/components/Loading.jsx","utils/components/WithRouter.jsx","utils/loadTranslations.js","utils/reducers/translationsReducer.js"],"sourcesContent":["export const TRN_PREFIX_REPORT = 'amp.reportGenerator:';\nexport const TRN_PREFIX_TAB = 'amp.tabGenerator:';\nexport const URL_METADATA = '/rest/reports/designer';\nexport const URL_PREVIEW = '/rest/data/report/preview';\nexport const URL_GET_REPORT = '/rest/reports/{reportId}';\nexport const URL_SAVE_NEW = '/rest/reports';\nexport const URL_SAVE = '/rest/reports/';\nexport const URL_SETTINGS_REPORTS = '/rest/settings-definitions/reports';\nexport const URL_SETTINGS_TABS = '/rest/settings-definitions/tabs';\nexport const URL_GLOBAL_SETTINGS = '/rest/amp/settings';\nexport const URL_LAYOUT = '/rest/security/layout';\nexport const URL_LANGUAGES = '/rest/translations/languages';\nexport const REPORTS = 'REPORTS';\nexport const TABS = 'TABS';\nexport const PROFILE_TAB = 'T';\nexport const PROFILE_REPORT = 'R';\nexport const TYPE_DONOR = 'D';\nexport const TYPE_PLEDGE = 'P';\nexport const TYPE_COMPONENT = 'C';\nexport const TYPE_REGIONAL = 'R';\nexport const TYPE_GPI = 'G';\nexport const SETTINGS_YEAR_RANGE = 'year-range';\nexport const RUN_REPORT_NAME = 'Dynamic Report';\n\nexport const SUMMARY_REPORT = 'summary-report';\nexport const ANNUAL_REPORT = 'annual-report';\nexport const QUARTERLY_REPORT = 'quarterly-report';\nexport const MONTHLY_REPORT = 'monthly-report';\nexport const TOTALS_ONLY = 'totals-only';\nexport const TOTAL_GROUPING_RADIO_OPTIONS = [ANNUAL_REPORT, QUARTERLY_REPORT, MONTHLY_REPORT, TOTALS_ONLY];\nexport const TOTAL_GROUPING_CHECKBOX_OPTIONS = [SUMMARY_REPORT];\n\nexport const FUNDING_DONOR = 'funding-donor';\nexport const REGIONAL_REPORT = 'funding-regional';\nexport const COMPONENT_REPORT = 'funding-component';\nexport const PLEDGES_REPORT = 'funding-pledges';\nexport const FUNDING_GROUPING_RADIO_OPTIONS = [FUNDING_DONOR, REGIONAL_REPORT, COMPONENT_REPORT, PLEDGES_REPORT];\n\nexport const SHOW_PLEDGES = 'show-pledges';\nexport const EMPTY_FUNDING_COLUMNS = 'empty-funding-columns';\nexport const SPLIT_BY_FUNDING = 'split-by-funding';\nexport const SHOW_ORIGINAL_CURRENCY = 'show-original-currency';\nexport const USE_FILTERS = 'use-filters';\nexport const OPTIONS_CHECKBOX_OPTIONS = [EMPTY_FUNDING_COLUMNS, SPLIT_BY_FUNDING, SHOW_ORIGINAL_CURRENCY, SHOW_PLEDGES,\n  /* USE_FILTERS */];\n\n// Section with constants for the API errors, MUST MATCH ApiError.java and the ids assigned to each API error.\nexport const ERROR_CLASS_REPORT_DESIGNER_ID = '17';\nexport const API_ERROR_DUPLICATED_NAME = '05';\n\nexport const IS_MEASURELESS_REPORT = true; // One day this could be a GS/FM setting.\nexport const FM_IS_PUBLIC_REPORT_ENABLED = 'fm-is-public-report-enabled';\n","import { fetchApiData } from '../../../utils/loadTranslations';\nimport {\n  PROFILE_REPORT,\n  TYPE_DONOR,\n  URL_GET_REPORT, URL_METADATA, URL_SAVE, URL_SAVE_NEW\n} from '../utils/constants';\n\nexport const UPDATE_REPORT_DETAILS_TOTAL_GROUPING = 'UPDATE_REPORT_DETAILS_TOTAL_GROUPING';\nexport const UPDATE_REPORT_DETAILS_TOTALS_ONLY = 'UPDATE_REPORT_DETAILS_TOTALS_ONLY';\nexport const UPDATE_REPORT_DETAILS_FUNDING_GROUPING = 'UPDATE_REPORT_DETAILS_FUNDING_GROUPING';\nexport const UPDATE_REPORT_DETAILS_ALLOW_EMPTY_FUNDING_COLUMNS = 'UPDATE_REPORT_DETAILS_ALLOW_EMPTY_FUNDING_COLUMNS';\nexport const UPDATE_REPORT_DETAILS_SPLIT_BY_FUNDING = 'UPDATE_REPORT_DETAILS_SPLIT_BY_FUNDING';\nexport const UPDATE_REPORT_DETAILS_SHOW_ORIGINAL_CURRENCIES = 'UPDATE_REPORT_DETAILS_SHOW_ORIGINAL_CURRENCIES';\nexport const UPDATE_REPORT_DETAILS_DESCRIPTION = 'UPDATE_REPORT_DETAILS_DESCRIPTION';\nexport const UPDATE_REPORT_DETAILS_NAME_MULTILANG = 'UPDATE_REPORT_DETAILS_NAME_MULTILANG';\nexport const UPDATE_REPORT_DETAILS_NAME = 'UPDATE_REPORT_DETAILS_NAME';\nexport const REVERT_REPORT_DETAILS_NAME = 'REVERT_REPORT_DETAILS_NAME';\nexport const UPDATE_REPORT_DETAILS_ALSO_SHOW_PLEDGES = 'UPDATE_REPORT_DETAILS_ALSO_SHOW_PLEDGES';\nexport const UPDATE_REPORT_DETAILS_USE_ABOVE_FILTERS = 'UPDATE_REPORT_DETAILS_USE_ABOVE_FILTERS';\nexport const UPDATE_REPORT_DETAILS_REPORT_CATEGORY = 'UPDATE_REPORT_DETAILS_REPORT_CATEGORY';\nexport const UPDATE_COLUMNS_SELECTED_COLUMN = 'UPDATE_COLUMNS_SELECTED_COLUMN';\nexport const UPDATE_COLUMNS_SORT_COLUMN = 'UPDATE_COLUMNS_SORT_COLUMN';\nexport const RESET_COLUMNS_SELECTED_COLUMN = 'RESET_COLUMNS_SELECTED_COLUMN';\nexport const UPDATE_MEASURES_SORT_COLUMN = 'UPDATE_MEASURES_SORT_COLUMN';\nexport const UPDATE_MEASURES_SELECTED_COLUMN = 'UPDATE_MEASURES_SELECTED_COLUMN';\nexport const RESET_MEASURES_SELECTED_COLUMN = 'RESET_MEASURES_SELECTED_COLUMN';\nexport const UPDATE_HIERARCHIES_SORT_COLUMN = 'UPDATE_HIERARCHIES_SORT_COLUMN';\nexport const UPDATE_HIERARCHIES_SELECTED_COLUMN = 'UPDATE_HIERARCHIES_SELECTED_COLUMN';\nexport const UPDATE_HIERARCHIES_LIST = 'UPDATE_HIERARCHIES_LIST';\nexport const SET_INITIAL_HIERARCHIES = 'SET_INITIAL_HIERARCHIES';\nexport const UPDATE_APPLIED_FILTERS = 'UPDATE_APPLIED_FILTERS';\nexport const UPDATE_INCLUDE_LOCATION_WITH_CHILDREN = 'UPDATE_INCLUDE_LOCATION_WITH_CHILDREN';\nexport const UPDATE_APPLIED_SETTINGS = 'UPDATE_APPLIED_SETTINGS';\nexport const UPDATE_PROFILE = 'UPDATE_PROFILE';\nexport const UPDATE_ID = 'UPDATE_ID';\n\nexport const FETCH_METADATA_PENDING = 'FETCH_METADATA_PENDING';\nexport const FETCH_METADATA_SUCCESS = 'FETCH_METADATA_SUCCESS';\nexport const FETCH_METADATA_ERROR = 'FETCH_METADATA_ERROR';\nexport const FETCH_METADATA_IGNORE = 'FETCH_METADATA_IGNORE';\n\nexport const FETCH_REPORT_PENDING = 'FETCH_REPORT_PENDING';\nexport const FETCH_REPORT_SUCCESS = 'FETCH_REPORT_SUCCESS';\nexport const FETCH_REPORT_ERROR = 'FETCH_REPORT_ERROR';\n\nexport const SAVE_NEW_REPORT_PENDING = 'SAVE_NEW_REPORT_PENDING';\nexport const SAVE_NEW_REPORT_SUCCESS = 'SAVE_NEW_REPORT_SUCCESS';\nexport const SAVE_NEW_REPORT_ERROR = 'SAVE_NEW_REPORT_ERROR';\nexport const SAVE_REPORT_PENDING = 'SAVE_REPORT_PENDING';\nexport const SAVE_REPORT_SUCCESS = 'SAVE_REPORT_SUCCESS';\nexport const SAVE_REPORT_ERROR = 'SAVE_REPORT_ERROR';\nexport const RUN_REPORT_PENDING = 'RUN_REPORT_PENDING';\nexport const RUN_REPORT_SUCCESS = 'RUN_REPORT_SUCCESS';\nexport const RUN_REPORT_ERROR = 'RUN_REPORT_ERROR';\n\nexport const MARK_EXISTING_REPORT_SANITIZED = 'MARK_EXISTING_REPORT_SANITIZED';\n\nexport function updateReportDetailsTotalGrouping(payload) {\n  return {\n    type: UPDATE_REPORT_DETAILS_TOTAL_GROUPING,\n    payload\n  };\n}\n\nexport function updateReportDetailsTotalsOnly(payload) {\n  return {\n    type: UPDATE_REPORT_DETAILS_TOTALS_ONLY,\n    payload\n  };\n}\n\nexport function updateReportDetailsFundingGrouping(payload) {\n  return {\n    type: UPDATE_REPORT_DETAILS_FUNDING_GROUPING,\n    payload\n  };\n}\n\nexport function updateReportDetailsAllowEmptyFundingColumns(payload) {\n  return {\n    type: UPDATE_REPORT_DETAILS_ALLOW_EMPTY_FUNDING_COLUMNS,\n    payload\n  };\n}\n\nexport function updateReportDetailsSplitByFunding(payload) {\n  return {\n    type: UPDATE_REPORT_DETAILS_SPLIT_BY_FUNDING,\n    payload\n  };\n}\n\nexport function updateReportDetailsShowOriginalCurrencies(payload) {\n  return {\n    type: UPDATE_REPORT_DETAILS_SHOW_ORIGINAL_CURRENCIES,\n    payload\n  };\n}\n\nexport function updateReportDetailsAlsoShowPledges(payload) {\n  return {\n    type: UPDATE_REPORT_DETAILS_ALSO_SHOW_PLEDGES,\n    payload\n  };\n}\n\nexport function updateReportDetailsUseAboveFilters(payload) {\n  return {\n    type: UPDATE_REPORT_DETAILS_USE_ABOVE_FILTERS,\n    payload\n  };\n}\n\nexport function updateReportDetailsDescription(payload) {\n  return {\n    type: UPDATE_REPORT_DETAILS_DESCRIPTION,\n    payload\n  };\n}\n\nexport function updateReportDetailsNameMultiLang(payload, lang) {\n  return {\n    type: UPDATE_REPORT_DETAILS_NAME_MULTILANG,\n    payload,\n    lang\n  };\n}\n\nexport function updateReportDetailsName(payload) {\n  return {\n    type: UPDATE_REPORT_DETAILS_NAME,\n    payload,\n  };\n}\n\nexport function revertReportDetailsName(payload) {\n  return {\n    type: REVERT_REPORT_DETAILS_NAME,\n    payload,\n  };\n}\n\nexport function updateReportDetailsNameReportCategory(payload) {\n  return {\n    type: UPDATE_REPORT_DETAILS_REPORT_CATEGORY,\n    payload\n  };\n}\n\nexport function updateColumnsSelected(payload) {\n  return {\n    type: UPDATE_COLUMNS_SELECTED_COLUMN,\n    payload\n  };\n}\n\nexport function updateColumnsSorting(payload) {\n  return {\n    type: UPDATE_COLUMNS_SORT_COLUMN,\n    payload\n  };\n}\n\nexport function resetColumnsSelected() {\n  return {\n    type: RESET_COLUMNS_SELECTED_COLUMN\n  };\n}\n\nexport function updateHierarchiesAvailable(payload) {\n  return {\n    type: UPDATE_HIERARCHIES_LIST,\n    payload\n  };\n}\n\nexport function updateHierarchiesSelected(payload) {\n  return {\n    type: UPDATE_HIERARCHIES_SELECTED_COLUMN,\n    payload\n  };\n}\n\nexport function updateHierarchiesSorting(payload) {\n  return {\n    type: UPDATE_HIERARCHIES_SORT_COLUMN,\n    payload\n  };\n}\n\nexport function setInitialHierarchies(available, selected, order) {\n  return {\n    type: SET_INITIAL_HIERARCHIES,\n    available,\n    selected,\n    order,\n  };\n}\n\nexport function updateMeasuresSelected(payload) {\n  return {\n    type: UPDATE_MEASURES_SELECTED_COLUMN,\n    payload\n  };\n}\n\nexport function updateMeasuresSorting(payload) {\n  return {\n    type: UPDATE_MEASURES_SORT_COLUMN,\n    payload\n  };\n}\n\nexport function resetMeasuresSelected(payload) {\n  return {\n    type: RESET_MEASURES_SELECTED_COLUMN,\n    payload\n  };\n}\n\nexport function fetchMetaDataPending() {\n  return {\n    type: FETCH_METADATA_PENDING\n  };\n}\n\nexport function fetchMetaDataSuccess(payload) {\n  return {\n    type: FETCH_METADATA_SUCCESS,\n    payload\n  };\n}\n\nexport function fetchMetaDataError(error) {\n  return {\n    type: FETCH_METADATA_ERROR,\n    error\n  };\n}\n\nexport function fetchMetaDataIgnore() {\n  return {\n    type: FETCH_METADATA_IGNORE,\n  };\n}\n\nexport function fetchReportPending() {\n  return {\n    type: FETCH_REPORT_PENDING\n  };\n}\n\nexport function fetchReportSuccess(payload) {\n  return {\n    type: FETCH_REPORT_SUCCESS,\n    payload\n  };\n}\n\nexport function fetchReportError(error) {\n  return {\n    type: FETCH_REPORT_ERROR,\n    error\n  };\n}\n\nexport function updateAppliedFilters(payload, html) {\n  return {\n    type: UPDATE_APPLIED_FILTERS,\n    payload,\n    html\n  };\n}\n\nexport function updateIncludeLocationWithChildren(payload) {\n  return {\n    type: UPDATE_INCLUDE_LOCATION_WITH_CHILDREN,\n    payload,\n  };\n}\n\nexport function updateAppliedSettings(payload) {\n  return {\n    type: UPDATE_APPLIED_SETTINGS,\n    payload\n  };\n}\n\nexport function updateProfile(payload) {\n  return {\n    type: UPDATE_PROFILE,\n    payload\n  };\n}\n\nexport function updateId(payload) {\n  return {\n    type: UPDATE_ID,\n    payload\n  };\n}\n\nexport function saveNewReportPending() {\n  return {\n    type: SAVE_NEW_REPORT_PENDING\n  };\n}\n\nexport function saveNewReportSuccess(payload) {\n  return {\n    type: SAVE_NEW_REPORT_SUCCESS,\n    payload\n  };\n}\n\nexport function saveNewReportError(error, id) {\n  return {\n    type: SAVE_NEW_REPORT_ERROR,\n    error,\n    id\n  };\n}\n\nexport function saveReportPending() {\n  return {\n    type: SAVE_REPORT_PENDING\n  };\n}\n\nexport function saveReportSuccess(payload) {\n  return {\n    type: SAVE_REPORT_SUCCESS,\n    payload\n  };\n}\n\nexport function saveReportError(error) {\n  return {\n    type: SAVE_REPORT_ERROR,\n    error\n  };\n}\n\nexport function runReportPending() {\n  return {\n    type: RUN_REPORT_PENDING\n  };\n}\n\nexport function runReportSuccess(payload) {\n  return {\n    type: RUN_REPORT_SUCCESS,\n    payload\n  };\n}\n\nexport function runReportError(error) {\n  return {\n    type: RUN_REPORT_ERROR,\n    error\n  };\n}\n\nexport function markExistingReportSanitized() {\n  return {\n    type: MARK_EXISTING_REPORT_SANITIZED,\n  };\n}\n\nlet getMetadataPromise = null;\nexport const getMetadata = (type, profile) => (dispatch, getState) => {\n  const state = getState();\n  if (state.uiReducer.metaDataPending || state.uiReducer.metaDataLoaded || state.uiReducer.error) {\n    dispatch(fetchMetaDataIgnore());\n    return getMetadataPromise;\n  } else {\n    dispatch(fetchMetaDataPending());\n    let url = URL_METADATA;\n    url += type ? `?type=${type}` : `?type=${TYPE_DONOR}`;\n    url += profile ? `&profile=${profile}` : `&type=${PROFILE_REPORT}`;\n    getMetadataPromise = Promise.all([fetchApiData({\n      url\n    })])\n      .then((data) => dispatch(fetchMetaDataSuccess(data[0])))\n      .catch(error => dispatch(fetchMetaDataError(error)));\n    return getMetadataPromise;\n  }\n};\n\nexport const fetchReport = (id) => dispatch => {\n  dispatch(fetchReportPending());\n  return fetchApiData({\n    url: URL_GET_REPORT.replace('{reportId}', id)\n  }).then((data) => dispatch(fetchReportSuccess(data)))\n    .catch(error => dispatch(fetchReportError(error)));\n};\n\nexport const saveNew = (data) => (dispatch, getState) => {\n  const state = getState();\n  // To restore the id in case we are using 'Save As' on an existing report and something fails in the BE.\n  const { id } = state.uiReducer;\n  dispatch(saveNewReportPending());\n  return fetchApiData({\n    url: `${URL_SAVE_NEW}?reportId=null`,\n    body: data\n  }).then((result) => dispatch(saveNewReportSuccess(result)))\n    .catch(error => dispatch(saveNewReportError(error, id)));\n};\n\nexport const save = (id, data) => dispatch => {\n  dispatch(saveReportPending());\n  return fetchApiData({\n    url: `${URL_SAVE}${id}`,\n    body: data\n  }).then((result) => dispatch(saveReportSuccess(result)))\n    .catch(error => dispatch(saveReportError(error)));\n};\n\nexport const runReport = (data) => dispatch => {\n  dispatch(runReportPending());\n  return fetchApiData({\n    url: `${URL_SAVE_NEW}?isDynamic=true`,\n    body: data\n  }).then((result) => dispatch(runReportSuccess(result)))\n    .catch(error => dispatch(runReportError(error)));\n};\n","import {\n  IS_MEASURELESS_REPORT, PROFILE_REPORT, PROFILE_TAB, TRN_PREFIX_REPORT, TRN_PREFIX_TAB\n} from './constants';\n\nexport function validateSaveModal(title, columns, reportDetails, hierarchies, measures) {\n  if (title === null || title === undefined || title.toString().trim().length === 0) {\n    return 'missingTitle';\n  }\n  if (!columns || columns.length === 0) {\n    return 'missingColumns';\n  }\n  if (reportDetails.selectedSummaryReport && hierarchies.selected.length === 0 && measures.selected.length === 0) {\n    return 'summaryReportWithoutMeasuresAndHierarchies';\n  }\n  return null;\n}\n\nexport function javaHashCode(s) {\n  let h = 0;\n  for (let i = 0; i < s.length; i++) {\n    // eslint-disable-next-line no-bitwise\n    h = Math.imul(31, h) + s.charCodeAt(i) | 0;\n  }\n  return h;\n}\n\nexport function convertTotalGrouping(value) {\n  switch (value) {\n    case 'annual-report':\n      return 'A';\n    case 'quarterly-report':\n      return 'Q';\n    case 'monthly-report':\n      return 'M';\n    case 'totals-only':\n      return 'T';\n    default:\n      return null;\n  }\n}\n\nexport function revertTotalGrouping(value) {\n  switch (value) {\n    case 'A':\n      return 'annual-report';\n    case 'Q':\n      return 'quarterly-report';\n    case 'M':\n      return 'monthly-report';\n    case 'T':\n      return 'totals-only';\n    default:\n      return null;\n  }\n}\n\nexport function convertReportType(value) {\n  switch (value) {\n    case 'funding-donor':\n      return 'D';\n    case 'funding-regional':\n      return 'R';\n    case 'funding-component':\n      return 'C';\n    case 'funding-pledges':\n      return 'P';\n    default:\n      return null;\n  }\n}\n\nexport function revertReportType(value) {\n  switch (value) {\n    case 'D':\n      return 'funding-donor';\n    case 'R':\n      return 'funding-regional';\n    case 'C':\n      return 'funding-component';\n    case 'P':\n      return 'funding-pledges';\n    default:\n      return null;\n  }\n}\n\nexport function hasFilters(filters) {\n  return filters && Object.keys(filters).length > 0 && Object.keys(filters).some(i => filters[i]);\n}\n\n/**\n * Note: Always a pure function.\n * @param data\n * @returns {string}\n */\nexport function getProfileFromReport(data) {\n  if (data && data.tab === true) {\n    return PROFILE_TAB;\n  }\n  return PROFILE_REPORT;\n}\n\nexport function areEnoughDataForPreview(columns, measures, hierarchies, reportDetails, profile) {\n  if (profile !== PROFILE_TAB) {\n    if (columns && measures && hierarchies && reportDetails && columns.available && columns.available.length > 0) {\n      if (columns.selected.length > 0 && (IS_MEASURELESS_REPORT || measures.selected.length > 0)) {\n        const selectedSummaryReport = reportDetails && reportDetails.selectedSummaryReport;\n        if (!selectedSummaryReport) {\n          if (columns.selected.length === hierarchies.selected.length) {\n            return false;\n          }\n        } else if (measures.selected.length === 0 && hierarchies.selected.length === 0) {\n          return false;\n        }\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n/**\n * Return translations for tabs and reports.\n * Default to reports if missing key for tabs.\n * @param key\n * @param profile\n * @param translations\n * @returns {*}\n */\nexport function translate(key, profile, translations) {\n  const prefix = profile === PROFILE_TAB ? TRN_PREFIX_TAB : TRN_PREFIX_REPORT;\n  let value = translations[prefix + key];\n  if (!value) {\n    value = translations[TRN_PREFIX_REPORT + key];\n  }\n  return value;\n}\n","import { revertTotalGrouping } from '../../utils/Utils';\n\n/**\n * IMPORTANT: KEEP THIS FUNCTIONS PURE BECAUSE THEY WILL BE USED INSIDE stateUIReducer.js!!!\n * https://reactjs.org/docs/components-and-props.html\n * @param data\n */\n\nexport function convertReportDetails(reportDetails, data) {\n  const _reportDetails = { ...reportDetails };\n  _reportDetails.description = data.description;\n  _reportDetails.name = data.name;\n  _reportDetails.selectedShowOriginalCurrencies = data.showOriginalCurrency;\n  _reportDetails.selectedTotalGrouping = revertTotalGrouping(data.groupingOption);\n  _reportDetails.selectedSummaryReport = data.summary;\n  _reportDetails.selectedSplitByFunding = data.splitByFunding;\n  _reportDetails.selectedAllowEmptyFundingColumns = data.allowEmptyFundingColumns;\n  _reportDetails.selectedAlsoShowPledges = data.alsoShowPledges;\n  _reportDetails.isTab = data.tab;\n  _reportDetails.publicView = data.publicView;\n  _reportDetails.workspaceLinked = data.workspaceLinked;\n  _reportDetails.selectedReportCategory = data.reportCategory;\n  _reportDetails.ownerId = data.ownerId;\n  _reportDetails.includeLocationChildren = data.includeLocationChildren;\n  return _reportDetails;\n}\n\nexport function convertColumns(columns, data) {\n  const _columns = { ...columns };\n  _columns.selected = data.columns.sort((i, j) => i.orderId > j.orderId).map(i => i.id);\n  return _columns;\n}\n\nexport function convertHierarchies(hierarchies, data, columns) {\n  const _hierarchies = { ...hierarchies };\n  _hierarchies.available = columns.available.filter(i => data.hierarchies.find(j => j.id === i.id));\n  _hierarchies.selected = data.hierarchies.sort((i, j) => i.levelId > j.levelId).map(i => i.id);\n  // Note: Dont do _hierarchies.order = _hierarchies.selected because it will break the hierarchies selection.\n  _hierarchies.order = data.hierarchies.sort((i, j) => i.levelId > j.levelId).map(i => i.id);\n  return _hierarchies;\n}\n\nexport function convertMeasures(measures, data) {\n  const _measures = { ...measures };\n  _measures.selected = data.measures.sort((i, j) => i.orderId > j.orderId).map(i => i.id);\n  _measures.order = _measures.selected;\n  return _measures;\n}\n","import {\n  UPDATE_REPORT_DETAILS_ALLOW_EMPTY_FUNDING_COLUMNS,\n  UPDATE_REPORT_DETAILS_DESCRIPTION,\n  UPDATE_REPORT_DETAILS_FUNDING_GROUPING,\n  UPDATE_REPORT_DETAILS_SHOW_ORIGINAL_CURRENCIES,\n  UPDATE_REPORT_DETAILS_SPLIT_BY_FUNDING,\n  UPDATE_REPORT_DETAILS_TOTAL_GROUPING,\n  UPDATE_REPORT_DETAILS_TOTALS_ONLY,\n  UPDATE_COLUMNS_SELECTED_COLUMN,\n  UPDATE_COLUMNS_SORT_COLUMN,\n  UPDATE_MEASURES_SELECTED_COLUMN,\n  UPDATE_MEASURES_SORT_COLUMN,\n  UPDATE_HIERARCHIES_SELECTED_COLUMN,\n  UPDATE_HIERARCHIES_SORT_COLUMN,\n  UPDATE_HIERARCHIES_LIST,\n  FETCH_METADATA_PENDING,\n  FETCH_METADATA_SUCCESS,\n  FETCH_METADATA_ERROR,\n  RESET_MEASURES_SELECTED_COLUMN,\n  RESET_COLUMNS_SELECTED_COLUMN,\n  FETCH_REPORT_SUCCESS,\n  UPDATE_REPORT_DETAILS_ALSO_SHOW_PLEDGES,\n  FETCH_REPORT_PENDING,\n  FETCH_REPORT_ERROR,\n  UPDATE_REPORT_DETAILS_NAME_MULTILANG,\n  UPDATE_REPORT_DETAILS_REPORT_CATEGORY,\n  UPDATE_APPLIED_FILTERS,\n  UPDATE_APPLIED_SETTINGS,\n  UPDATE_REPORT_DETAILS_USE_ABOVE_FILTERS,\n  UPDATE_PROFILE,\n  UPDATE_ID,\n  SAVE_NEW_REPORT_PENDING,\n  SAVE_NEW_REPORT_SUCCESS,\n  SAVE_NEW_REPORT_ERROR,\n  SAVE_REPORT_PENDING,\n  SAVE_REPORT_SUCCESS,\n  SAVE_REPORT_ERROR,\n  RUN_REPORT_PENDING,\n  RUN_REPORT_SUCCESS,\n  RUN_REPORT_ERROR,\n  SET_INITIAL_HIERARCHIES,\n  UPDATE_REPORT_DETAILS_NAME,\n  REVERT_REPORT_DETAILS_NAME, UPDATE_INCLUDE_LOCATION_WITH_CHILDREN, MARK_EXISTING_REPORT_SANITIZED,\n} from '../actions/stateUIActions';\nimport {\n  convertReportDetails\n} from './utils/stateUIDataConverter';\nimport { getProfileFromReport } from '../utils/Utils';\n\nconst initialState = {\n  reportDetails: {\n    selectedTotalGrouping: null,\n    selectedSummaryReport: false,\n    selectedFundingGrouping: null,\n    selectedAllowEmptyFundingColumns: false,\n    selectedSplitByFunding: false,\n    selectedShowOriginalCurrencies: false,\n    selectedAlsoShowPledges: false,\n    selectedUseAboveFilters: false,\n    description: null,\n    name: null,\n    isTab: false,\n    publicView: false,\n    workspaceLinked: false,\n    selectedReportCategory: null,\n    ownerId: null,\n    includeLocationChildren: true\n  },\n  columns: {\n    available: [],\n    selected: [],\n  },\n  hierarchies: {\n    available: [],\n    selected: [],\n    order: []\n  },\n  measures: {\n    available: [],\n    selected: [],\n    order: [],\n  },\n  activeStep: 0,\n  metaDataLoaded: false,\n  metaDataPending: false,\n  error: null,\n  filters: null,\n  appliedFilters: null,\n  settings: null,\n  reportCategories: [],\n  reportLoaded: false,\n  reportPending: false,\n  type: null,\n  profile: null,\n  id: null,\n  reportSaving: false,\n  reportSaved: false,\n  reportSaveError: null,\n  runReportPending: false,\n  runReportSuccess: false,\n  runReportError: false,\n  existingReportSanitized: false,\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case UPDATE_REPORT_DETAILS_TOTAL_GROUPING:\n      return {\n        ...state,\n        reportDetails: {\n          ...state.reportDetails,\n          selectedTotalGrouping: action.payload\n        }\n      };\n    case UPDATE_REPORT_DETAILS_TOTALS_ONLY:\n      return {\n        ...state,\n        reportDetails: {\n          ...state.reportDetails,\n          selectedSummaryReport: action.payload\n        }\n      };\n    case UPDATE_REPORT_DETAILS_FUNDING_GROUPING:\n      return {\n        ...state,\n        reportDetails: {\n          ...state.reportDetails,\n          selectedFundingGrouping: action.payload\n        }\n      };\n    case UPDATE_REPORT_DETAILS_ALLOW_EMPTY_FUNDING_COLUMNS:\n      return {\n        ...state,\n        reportDetails: {\n          ...state.reportDetails,\n          selectedAllowEmptyFundingColumns: action.payload\n        }\n      };\n    case UPDATE_REPORT_DETAILS_SPLIT_BY_FUNDING:\n      return {\n        ...state,\n        reportDetails: {\n          ...state.reportDetails,\n          selectedSplitByFunding: action.payload\n        }\n      };\n    case UPDATE_REPORT_DETAILS_SHOW_ORIGINAL_CURRENCIES:\n      return {\n        ...state,\n        reportDetails: {\n          ...state.reportDetails,\n          selectedShowOriginalCurrencies: action.payload\n        }\n      };\n    case UPDATE_REPORT_DETAILS_ALSO_SHOW_PLEDGES:\n      return {\n        ...state,\n        reportDetails: {\n          ...state.reportDetails,\n          selectedAlsoShowPledges: action.payload\n        }\n      };\n    case UPDATE_REPORT_DETAILS_USE_ABOVE_FILTERS:\n      return {\n        ...state,\n        reportDetails: {\n          ...state.reportDetails,\n          selectedUseAboveFilters: action.payload\n        }\n      };\n    case UPDATE_REPORT_DETAILS_DESCRIPTION:\n      return {\n        ...state,\n        reportDetails: {\n          ...state.reportDetails,\n          description: action.payload\n        }\n      };\n    case UPDATE_REPORT_DETAILS_NAME_MULTILANG:\n      return {\n        ...state,\n        reportDetails: {\n          ...state.reportDetails,\n          name: {\n            ...state.reportDetails.name,\n            [action.lang]: action.payload,\n          }\n        }\n      };\n    case UPDATE_REPORT_DETAILS_NAME:\n      return {\n        ...state,\n        reportDetails: {\n          ...state.reportDetails,\n          name: action.payload,\n        }\n      };\n    case REVERT_REPORT_DETAILS_NAME:\n      return {\n        ...state,\n        reportDetails: {\n          ...state.reportDetails,\n          name: action.payload,\n        }\n      };\n    case UPDATE_REPORT_DETAILS_REPORT_CATEGORY:\n      return {\n        ...state,\n        reportDetails: {\n          ...state.reportDetails,\n          selectedReportCategory: action.payload\n        }\n      };\n    case UPDATE_COLUMNS_SELECTED_COLUMN:\n      return {\n        ...state,\n        columns: {\n          ...state.columns,\n          selected: action.payload\n        }\n      };\n    case UPDATE_COLUMNS_SORT_COLUMN:\n      return {\n        ...state,\n        columns: {\n          ...state.columns,\n          selected: action.payload\n        }\n      };\n    case RESET_COLUMNS_SELECTED_COLUMN:\n      return {\n        ...state,\n        columns: {\n          ...state.columns,\n          selected: [],\n        },\n        hierarchies: {\n          available: [],\n          selected: [],\n          order: []\n        }\n      };\n    case UPDATE_HIERARCHIES_LIST:\n      return {\n        ...state,\n        hierarchies: {\n          ...state.hierarchies,\n          available: action.payload\n        }\n      };\n    case UPDATE_HIERARCHIES_SELECTED_COLUMN:\n      return {\n        ...state,\n        hierarchies: {\n          ...state.hierarchies,\n          selected: action.payload\n        }\n      };\n    case UPDATE_HIERARCHIES_SORT_COLUMN:\n      return {\n        ...state,\n        hierarchies: {\n          ...state.hierarchies,\n          order: action.payload\n        }\n      };\n    case SET_INITIAL_HIERARCHIES:\n      return {\n        ...state,\n        hierarchies: {\n          available: action.available,\n          selected: action.selected,\n          order: action.order\n        }\n      };\n    case UPDATE_MEASURES_SELECTED_COLUMN:\n      return {\n        ...state,\n        measures: {\n          ...state.measures,\n          selected: action.payload\n        }\n      };\n    case UPDATE_MEASURES_SORT_COLUMN:\n      return {\n        ...state,\n        measures: {\n          ...state.measures,\n          order: action.payload\n        }\n      };\n    case RESET_MEASURES_SELECTED_COLUMN:\n      return {\n        ...state,\n        measures: {\n          ...state.measures,\n          selected: action.payload.selected,\n          order: action.payload.order,\n        }\n      };\n    case UPDATE_APPLIED_FILTERS:\n      return {\n        ...state,\n        filters: action.payload,\n        appliedFilters: action.html,\n      };\n    case UPDATE_INCLUDE_LOCATION_WITH_CHILDREN:\n      return {\n        ...state,\n        reportDetails: {\n          ...state.reportDetails,\n          includeLocationChildren: action.payload,\n        }\n      };\n    case UPDATE_APPLIED_SETTINGS:\n      return {\n        ...state,\n        settings: action.payload\n      };\n    case FETCH_METADATA_PENDING:\n      return {\n        ...state,\n        metaDataPending: true\n      };\n    case FETCH_METADATA_SUCCESS: {\n      return {\n        ...state,\n        metaDataPending: false,\n        metaDataLoaded: true,\n        measures: {\n          ...state.measures,\n          available: action.payload.measures,\n        },\n        columns: {\n          ...state.columns,\n          available: action.payload.columns,\n        },\n        options: action.payload.options,\n        reportCategories: action.payload.reportCategories,\n        type: action.payload.type,\n        profile: action.payload.profile,\n      };\n    }\n    case FETCH_METADATA_ERROR:\n      return {\n        ...state,\n        metaDataLoaded: false,\n        metaDataPending: false,\n        error: action.error\n      };\n    case FETCH_REPORT_SUCCESS:\n      return {\n        ...state,\n        reportDetails: convertReportDetails(state.reportDetails, action.payload),\n        columns: {\n          selected: action.payload.columns.map(i => i.id)\n        },\n        hierarchies: {\n          available: action.payload.hierarchies,\n          selected: action.payload.hierarchies.map(i => i.id),\n          order: action.payload.hierarchies.map(i => i.id)\n        },\n        measures: {\n          selected: action.payload.measures.map(i => i.id),\n          order: action.payload.measures.map(i => i.id)\n        },\n        settings: action.payload.settings,\n        filters: action.payload.filters,\n        appliedFilters: null,\n        reportLoaded: true,\n        reportPending: false,\n        type: action.payload.type,\n        profile: getProfileFromReport(action.payload),\n        id: action.payload.id\n      };\n    case FETCH_REPORT_PENDING:\n      return {\n        ...state,\n        reportLoaded: false,\n        reportPending: true\n      };\n    case FETCH_REPORT_ERROR:\n      return {\n        ...state,\n        reportLoaded: false,\n        reportPending: false\n      };\n    case UPDATE_PROFILE:\n      return {\n        ...state,\n        profile: action.payload,\n      };\n    case UPDATE_ID:\n      return {\n        ...state,\n        id: action.payload,\n      };\n    case SAVE_NEW_REPORT_PENDING:\n      return {\n        ...state,\n        id: null,\n        reportSaving: true,\n        reportSaved: false,\n        reportSaveError: null\n      };\n    case SAVE_NEW_REPORT_SUCCESS:\n      return {\n        ...state,\n        id: action.payload.id,\n        reportSaving: false,\n        reportSaved: true,\n        reportSaveError: null\n      };\n    case SAVE_NEW_REPORT_ERROR:\n      return {\n        ...state,\n        id: action.id,\n        reportSaving: false,\n        reportSaved: false,\n        reportSaveError: action.error\n      };\n    case SAVE_REPORT_PENDING:\n      return {\n        ...state,\n        reportSaving: true,\n        reportSaved: false,\n        reportSaveError: null\n      };\n    case SAVE_REPORT_SUCCESS:\n      return {\n        ...state,\n        reportSaving: false,\n        reportSaved: true,\n        reportSaveError: null\n      };\n    case SAVE_REPORT_ERROR:\n      return {\n        ...state,\n        reportSaving: false,\n        reportSaved: false,\n        reportSaveError: action.payload\n      };\n    case RUN_REPORT_PENDING:\n      return {\n        ...state,\n        runReportPending: true,\n        runReportError: false,\n        runReportSuccess: false,\n      };\n    case RUN_REPORT_SUCCESS:\n      return {\n        ...state,\n        runReportPending: false,\n        runReportError: false,\n        runReportSuccess: true,\n      };\n    case RUN_REPORT_ERROR:\n      return {\n        ...state,\n        runReportPending: false,\n        runReportError: true,\n        runReportSuccess: false,\n      };\n    case MARK_EXISTING_REPORT_SANITIZED:\n      return {\n        ...state,\n        existingReportSanitized: true,\n      };\n    default:\n      return state;\n  }\n};\n","import { URL_PREVIEW } from '../utils/constants';\nimport { fetchApiData } from '../../../utils/loadTranslations';\n\nexport const FETCH_PREVIEW_PENDING = 'FETCH_PREVIEW_PENDING';\nexport const FETCH_PREVIEW_SUCCESS = 'FETCH_PREVIEW_SUCCESS';\nexport const FETCH_PREVIEW_ERROR = 'FETCH_PREVIEW_ERROR';\nexport const UPDATE_PREVIEW_ID = 'UPDATE_PREVIEW_ID';\nexport const IGNORE_PREVIEW = 'IGNORE_PREVIEW';\n\nexport function fetchPreviewPending() {\n  return {\n    type: FETCH_PREVIEW_PENDING\n  };\n}\n\nexport function fetchPreviewSuccess(payload) {\n  return {\n    type: FETCH_PREVIEW_SUCCESS,\n    payload\n  };\n}\n\nexport function fetchPreviewError(error) {\n  return {\n    type: FETCH_PREVIEW_ERROR,\n    error\n  };\n}\n\nexport function updatePreviewId(id, name) {\n  return {\n    type: UPDATE_PREVIEW_ID,\n    id,\n    name\n  };\n}\n\n/**\n * Use this function to dispatch an action that ignores the data from the EP because is not the\n * newest (the problem is the user can click the UI faster than the server can respond AND we\n * cant be sure the responses come in order from the server).\n * @returns {{type: string}}\n */\nexport function ignorePreview() {\n  return {\n    type: IGNORE_PREVIEW,\n  };\n}\n\nexport const getPreview = (body) => (dispatch, getState) => {\n  dispatch(fetchPreviewPending());\n  return fetchApiData({\n    url: URL_PREVIEW,\n    body,\n    headers: { 'Content-Type': 'application/json', Accept: 'text/html' }\n  }).then((data) => {\n    const state = getState();\n    if (state.previewReducer.lastReportId === body.id) {\n      return dispatch(fetchPreviewSuccess(data));\n    }\n    return dispatch(ignorePreview());\n  }).catch(error => dispatch(fetchPreviewError(error)));\n};\n","import {\n  FETCH_PREVIEW_ERROR,\n  FETCH_PREVIEW_PENDING,\n  FETCH_PREVIEW_SUCCESS, IGNORE_PREVIEW,\n  UPDATE_PREVIEW_ID\n} from '../actions/previewActions';\n\nconst initialState = {\n  lastReportId: 0,\n  lastReportName: undefined,\n  pending: false,\n  loaded: false,\n  error: false,\n  results: undefined\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_PREVIEW_PENDING:\n      return {\n        ...state,\n        pending: true\n      };\n    case FETCH_PREVIEW_SUCCESS: {\n      return {\n        ...state,\n        pending: false,\n        loaded: true,\n        results: action.payload,\n      };\n    }\n    case FETCH_PREVIEW_ERROR:\n      return {\n        ...state,\n        loaded: false,\n        pending: false,\n        error: action.error\n      };\n    case UPDATE_PREVIEW_ID:\n      return {\n        ...state,\n        lastReportId: action.id,\n        lastReportName: action.name,\n        loaded: false,\n        pending: false,\n        error: false\n      };\n    case IGNORE_PREVIEW:\n      return {\n        ...state,\n      };\n    default:\n      return state;\n  }\n};\n","import { fetchApiData } from '../../../utils/loadTranslations';\nimport { URL_GLOBAL_SETTINGS } from '../utils/constants';\n\nexport const FETCH_GLOBAL_SETTINGS_PENDING = 'FETCH_GLOBAL_SETTINGS_PENDING';\nexport const FETCH_GLOBAL_SETTINGS_SUCCESS = 'FETCH_GLOBAL_SETTINGS_SUCCESS';\nexport const FETCH_GLOBAL_SETTINGS_ERROR = 'FETCH_GLOBAL_SETTINGS_ERROR';\n\nexport function fetchGlobalSettingsPending() {\n  return {\n    type: FETCH_GLOBAL_SETTINGS_PENDING\n  };\n}\n\nexport function fetchGlobalSettingsSuccess(payload, payload2) {\n  return {\n    type: FETCH_GLOBAL_SETTINGS_SUCCESS,\n    payload,\n    payload2\n  };\n}\n\nexport function fetchGlobalSettingsError(error) {\n  return {\n    type: FETCH_GLOBAL_SETTINGS_ERROR,\n    error\n  };\n}\n\nexport const fetchGlobalSettings = (settingsURL) => dispatch => {\n  dispatch(fetchGlobalSettingsPending());\n  return Promise.all([fetchApiData({\n    url: URL_GLOBAL_SETTINGS\n  }), fetchApiData({\n    url: settingsURL\n  })]).then((data) => dispatch(fetchGlobalSettingsSuccess(data[0], data[1])))\n    .catch(error => dispatch(fetchGlobalSettingsError(error)));\n};\n","import {\n  FETCH_GLOBAL_SETTINGS_ERROR,\n  FETCH_GLOBAL_SETTINGS_PENDING,\n  FETCH_GLOBAL_SETTINGS_SUCCESS\n} from '../actions/settingsActions';\n\nconst initialState = {\n  pending: false,\n  loaded: false,\n  error: false,\n  globalSettings: undefined,\n  reportGlobalSettings: undefined,\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_GLOBAL_SETTINGS_PENDING:\n      return {\n        ...state,\n        pending: true,\n      };\n    case FETCH_GLOBAL_SETTINGS_SUCCESS: {\n      return {\n        ...state,\n        pending: false,\n        loaded: true,\n        globalSettings: action.payload,\n        reportGlobalSettings: action.payload2\n      };\n    }\n    case FETCH_GLOBAL_SETTINGS_ERROR:\n      return {\n        ...state,\n        loaded: false,\n        pending: false,\n        error: action.error\n      };\n    default:\n      return state;\n  }\n};\n","import { URL_LAYOUT } from '../utils/constants';\nimport { fetchApiData } from '../../../utils/loadTranslations';\n\nexport const FETCH_LAYOUT_PENDING = 'FETCH_LAYOUT_PENDING';\nexport const FETCH_LAYOUT_SUCCESS = 'FETCH_LAYOUT_SUCCESS';\nexport const FETCH_LAYOUT_ERROR = 'FETCH_LAYOUT_ERROR';\nexport const UPDATE_PREVIEW_ID = 'UPDATE_PREVIEW_ID';\nexport const IGNORE_PREVIEW = 'IGNORE_PREVIEW';\n\nexport function fetchLayoutPending() {\n  return {\n    type: FETCH_LAYOUT_PENDING\n  };\n}\n\nexport function fetchLayoutSuccess(payload) {\n  return {\n    type: FETCH_LAYOUT_SUCCESS,\n    payload\n  };\n}\n\nexport function fetchLayoutError(error) {\n  return {\n    type: FETCH_LAYOUT_ERROR,\n    error\n  };\n}\n\nexport const getLayout = () => (dispatch) => {\n  dispatch(fetchLayoutPending());\n  return fetchApiData({ url: URL_LAYOUT })\n    .then((data) => dispatch(fetchLayoutSuccess(data)))\n    .catch(error => dispatch(fetchLayoutError(error)));\n};\n","import { FETCH_LAYOUT_ERROR, FETCH_LAYOUT_PENDING, FETCH_LAYOUT_SUCCESS } from '../actions/layoutActions';\n\nconst initialState = {\n  pending: false,\n  loaded: false,\n  error: false,\n  results: undefined\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_LAYOUT_PENDING:\n      return {\n        ...state,\n        pending: true\n      };\n    case FETCH_LAYOUT_SUCCESS: {\n      return {\n        ...state,\n        pending: false,\n        loaded: true,\n        results: action.payload,\n      };\n    }\n    case FETCH_LAYOUT_ERROR:\n      return {\n        ...state,\n        loaded: false,\n        pending: false,\n        error: action.error\n      };\n    default:\n      return state;\n  }\n};\n","export const SET_SETTINGS_DATA = 'SET_SETTINGS_DATA';\nexport const SET_FILTERS_DATA = 'SET_FILTERS_DATA';\nexport const SET_COLUMNS_DATA = 'SET_COLUMNS_DATA';\nexport const SET_HIERARCHIES_DATA = 'SET_HIERARCHIES_DATA';\nexport const SET_MEASURES_DATA = 'SET_MEASURES_DATA';\n\nexport function setSettingsData(payload) {\n  return {\n    type: SET_SETTINGS_DATA,\n    payload,\n  };\n}\n\nexport function setFiltersData(payload) {\n  return {\n    type: SET_FILTERS_DATA,\n    payload,\n  };\n}\n\nexport function setColumnsData(payload) {\n  return {\n    type: SET_COLUMNS_DATA,\n    payload,\n  };\n}\n\nexport function setHierarchiesData(payload) {\n  return {\n    type: SET_HIERARCHIES_DATA,\n    payload,\n  };\n}\n\nexport function setMeasuresData(payload) {\n  return {\n    type: SET_MEASURES_DATA,\n    payload,\n  };\n}\n","import {\n  SET_COLUMNS_DATA, SET_FILTERS_DATA, SET_HIERARCHIES_DATA, SET_MEASURES_DATA, SET_SETTINGS_DATA\n} from '../actions/mementoAction';\n\nconst initialState = {\n  columns: [],\n  measures: [],\n  hierarchies: [],\n  filters: undefined,\n  settings: undefined,\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SET_SETTINGS_DATA:\n      return {\n        ...state,\n        settings: action.payload\n      };\n    case SET_FILTERS_DATA: {\n      return {\n        ...state,\n        filters: action.payload,\n      };\n    }\n    case SET_COLUMNS_DATA:\n      return {\n        ...state,\n        columns: action.payload,\n      };\n    case SET_HIERARCHIES_DATA:\n      return {\n        ...state,\n        hierarchies: action.payload,\n      };\n    case SET_MEASURES_DATA:\n      return {\n        ...state,\n        measures: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n","import { fetchApiData } from '../../../utils/loadTranslations';\nimport { URL_LANGUAGES } from '../utils/constants';\n\nexport const FETCH_LANGUAGES_PENDING = 'FETCH_LANGUAGES_PENDING';\nexport const FETCH_LANGUAGES_SUCCESS = 'FETCH_LANGUAGES_SUCCESS';\nexport const FETCH_LANGUAGES_ERROR = 'FETCH_LANGUAGES_ERROR';\n\nexport function fetchLanguagesPending() {\n  return {\n    type: FETCH_LANGUAGES_PENDING\n  };\n}\n\nexport function fetchLanguagesSuccess(payload) {\n  return {\n    type: FETCH_LANGUAGES_SUCCESS,\n    payload,\n  };\n}\n\nexport function fetchLanguagesError(error) {\n  return {\n    type: FETCH_LANGUAGES_ERROR,\n    error\n  };\n}\n\nexport const fetchLanguages = () => dispatch => {\n  dispatch(fetchLanguagesPending());\n  return fetchApiData({\n    url: URL_LANGUAGES\n  }).then((data) => dispatch(fetchLanguagesSuccess(data)))\n    .catch(error => dispatch(fetchLanguagesError(error)));\n};\n","import {\n  FETCH_LANGUAGES_ERROR,\n  FETCH_LANGUAGES_PENDING,\n  FETCH_LANGUAGES_SUCCESS\n} from '../actions/languagesActions';\n\nconst initialState = {\n  pending: false,\n  loaded: false,\n  error: false,\n  data: undefined,\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_LANGUAGES_PENDING:\n      return {\n        ...state,\n        pending: true,\n      };\n    case FETCH_LANGUAGES_SUCCESS: {\n      return {\n        ...state,\n        pending: false,\n        loaded: true,\n        data: action.payload,\n      };\n    }\n    case FETCH_LANGUAGES_ERROR:\n      return {\n        ...state,\n        loaded: false,\n        pending: false,\n        error: action.error\n      };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport translationsReducer from '../../../utils/reducers/translationsReducer';\nimport uiReducer from './stateUIReducer';\nimport previewReducer from './previewReducer';\nimport settingsReducer from './settingsReducer';\nimport layoutReducer from './layoutReducer';\nimport mementoReducer from './mementoReducer';\nimport languagesReducer from './languagesReducer';\n\nexport default combineReducers({\n  translationsReducer,\n  uiReducer,\n  previewReducer,\n  settingsReducer,\n  layoutReducer,\n  mementoReducer,\n  languagesReducer\n});\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport fetchTranslations from '../../../utils/actions/fetchTranslations';\nimport { Loading } from '../../../utils/components/Loading';\nimport defaultTrnPack from '../config/initialTranslations.json';\n\nexport const ReportGeneratorContext = React.createContext({ translations: defaultTrnPack, store: null });\n\n/**\n * Component used to load everything we need before launching the APP\n * TODO check if we should abstract it to a Load Translations component to avoid copy ^\n */\nclass Startup extends Component {\n  componentDidMount() {\n    const { _fetchTranslations } = this.props;\n    _fetchTranslations(defaultTrnPack);\n  }\n\n  render() {\n    const { translationPending, children, store } = this.props;\n    if (translationPending) {\n      return (<Loading />);\n    } else {\n      const { translations } = this.props;\n      document.title = translations['amp.reportGenerator:page-title'];\n      return (\n        <ReportGeneratorContext.Provider value={{ translations, store }}>\n          {children}\n        </ReportGeneratorContext.Provider>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = state => ({\n  translationPending: state.translationsReducer.pending,\n  translations: state.translationsReducer.translations\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  _fetchTranslations: fetchTranslations\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Startup);\n\nStartup.propTypes = {\n  children: PropTypes.object.isRequired,\n  translationPending: PropTypes.bool,\n  translations: PropTypes.object,\n  _fetchTranslations: PropTypes.func.isRequired,\n  store: PropTypes.object.isRequired,\n};\n\nStartup.defaultProps = {\n  translationPending: false,\n  translations: undefined,\n};\n","var _style, _path, _g;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgIconInformation(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 1792 1792\",\n    style: {\n      enableBackground: \"new 0 0 1792 1792\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _style || (_style = /*#__PURE__*/React.createElement(\"style\", {\n    type: \"text/css\"\n  }, \"\\n\\t.st0{fill:none;enable-background:new    ;}\\n\\t.st1{fill:#90C845;}\\n\")), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st0\",\n    d: \"z\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st1\",\n    d: \"M1181,1433.5v-178.1c0-10.4-3.3-18.9-10-25.6s-15.2-10-25.6-10h-106.9v-570c0-10.4-3.3-18.9-10-25.6 s-15.2-10-25.6-10H646.6c-10.4,0-18.9,3.3-25.6,10s-10,15.2-10,25.6v178.1c0,10.4,3.3,18.9,10,25.6s15.2,10,25.6,10h106.9v356.3 H646.6c-10.4,0-18.9,3.3-25.6,10s-10,15.2-10,25.6v178.1c0,10.4,3.3,18.9,10,25.6s15.2,10,25.6,10h498.8c10.4,0,18.9-3.3,25.6-10 S1181,1443.9,1181,1433.5z M1038.5,435.9V257.8c0-10.4-3.3-18.9-10-25.6s-15.2-10-25.6-10H789.1c-10.4,0-18.9,3.3-25.6,10 s-10,15.2-10,25.6v178.1c0,10.4,3.3,18.9,10,25.6s15.2,10,25.6,10h213.8c10.4,0,18.9-3.3,25.6-10S1038.5,446.3,1038.5,435.9z  M1751,899.1c0,155.1-38.2,298.2-114.7,429.2s-180.2,234.7-311.2,311.2s-274.1,114.7-429.2,114.7s-298.2-38.2-429.2-114.7 s-234.7-180.2-311.2-311.2S41,1054.2,41,899.1s38.2-298.2,114.7-429.2s180.2-234.7,311.2-311.2S740.9,44,896,44 s298.2,38.2,429.2,114.7s234.7,180.2,311.2,311.2S1751,743.9,1751,899.1z\"\n  }))));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconInformation);\nexport default __webpack_public_path__ + \"static/media/icon-information.8e04e00193a931d03078c1a407ab2d7d.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport {\n  Grid, GridColumn, GridRow, Header\n} from 'semantic-ui-react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport { ReportGeneratorContext } from './StartUp';\nimport InfoIcon from '../static/images/icon-information.svg';\nimport { translate } from '../utils/Utils';\nimport { PROFILE_TAB } from '../utils/constants';\n\nclass MainHeader extends Component {\n  handleResetAll = () => {\n    const { translations, profile } = this.props;\n    // eslint-disable-next-line no-restricted-globals\n    if (confirm(translate('confirmResetAll', profile, translations))) {\n      // eslint-disable-next-line no-restricted-globals\n      location.reload();\n    }\n  }\n\n  handleCancel = () => {\n    const { translations, profile } = this.props;\n    // eslint-disable-next-line no-restricted-globals\n    if (confirm(translate('confirmCancel', profile, translations))) {\n      if (profile !== PROFILE_TAB) {\n        window.location.href = '/viewTeamReports.do?tabs=false&reset=true';\n      } else {\n        window.location.href = '/viewTeamReports.do?tabs=true&reset=true';\n      }\n    }\n  }\n\n  render() {\n    const { translations, profile } = this.props;\n    const tooltipText = (\n      <Tooltip id=\"reset-all-tooltip\">\n        {translate('resetAllTooltip', profile, translations)}\n      </Tooltip>\n    );\n    return (\n      <>\n        <Grid>\n          <GridRow>\n            <GridColumn width=\"6\" textAlign=\"left\">\n              <Header textAlign=\"left\" size=\"medium\">\n                {translate('reportGenerator', profile, translations)}\n              </Header>\n            </GridColumn>\n            <GridColumn width=\"4\" textAlign=\"left\" />\n            <GridColumn width=\"6\" textAlign=\"right\">\n              <span className=\"green_text bold pointer\" onClick={this.handleResetAll}>\n                {translate('resetAll', profile, translations)}\n                <OverlayTrigger trigger={['hover', 'focus']} overlay={tooltipText}>\n                  <img className=\"info-icon\" src={InfoIcon} alt=\"info-icon\" />\n                </OverlayTrigger>\n              </span>\n&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;\n              <span className=\"red_text bold pointer\" onClick={this.handleCancel}>\n                {translate('cancel', profile, translations)}\n              </span>\n            </GridColumn>\n          </GridRow>\n          <GridRow>\n            <GridColumn>{translate('appDescription', profile, translations)}</GridColumn>\n          </GridRow>\n        </Grid>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations,\n  profile: state.uiReducer.profile,\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MainHeader);\n\nMainHeader.propTypes = {\n  translations: PropTypes.object.isRequired,\n  profile: PropTypes.string,\n};\n\nMainHeader.defaultProps = {\n  profile: undefined,\n};\n\nMainHeader.contextType = ReportGeneratorContext;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class ErrorMessage extends Component {\n  render() {\n    const { visible, message, warning } = this.props;\n    return (\n      <div className={!visible ? 'invisible-tab' : 'red_text'} style={warning ? { color: '#2480c6' } : null}>\n        {message}\n      </div>\n    );\n  }\n}\n\nErrorMessage.propTypes = {\n  visible: PropTypes.bool.isRequired,\n  message: PropTypes.string.isRequired,\n  warning: PropTypes.bool\n};\n\nErrorMessage.defaultProps = {\n  warning: false,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Tab, Menu } from 'semantic-ui-react';\n\nexport default class MultiLingualInputText extends Component {\n  render() {\n    const {\n      languages, values, onChange, isMultiLanguage, mandatory\n    } = this.props;\n    if (isMultiLanguage) {\n      const panes = [];\n      let _languages = [];\n      if (mandatory && mandatory.length === 1) {\n        _languages.push(languages.find(i => i.id === mandatory[0]));\n        languages.forEach(i => {\n          if (!_languages.find(j => j.id === i.id)) {\n            _languages.push(i);\n          }\n        });\n      } else {\n        _languages = languages;\n      }\n      _languages.forEach((item, i) => {\n        panes.push({\n          menuItem: (\n            mandatory.find(j => j === item.id) ? (\n              <Menu.Item key=\"messages\">\n                <div className=\"red_text\" style={{ float: 'left', paddingRight: '5px' }}>* </div>\n                {item.id}\n              </Menu.Item>\n            ) : item.id\n          ),\n          render: () => {\n            const value = values[i];\n            return (\n              <Tab.Pane>\n                <input\n                  type=\"text\"\n                  value={value}\n                  key={item.id}\n                  onChange={(event) => onChange(item.id, event.target.value)}\n                  placeholder={`(${item.id})`} />\n              </Tab.Pane>\n            );\n          }\n        });\n      });\n      return (<Tab panes={panes} />);\n    } else {\n      return (\n        <input\n          type=\"text\"\n          value={values[0]}\n          onChange={(event) => onChange(null, event.target.value)} />\n      );\n    }\n  }\n}\n\nMultiLingualInputText.propTypes = {\n  values: PropTypes.array.isRequired,\n  languages: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired,\n  isMultiLanguage: PropTypes.bool.isRequired,\n  mandatory: PropTypes.array,\n};\n\nMultiLingualInputText.defaultProps = {\n  mandatory: [],\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Button, Checkbox, Divider, Dropdown, Form, Header, Icon, Label, Modal\n} from 'semantic-ui-react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport ErrorMessage from './ErrorMessage';\nimport { translate, validateSaveModal } from '../utils/Utils';\nimport {\n  updateReportDetailsNameMultiLang, updateReportDetailsName,\n  updateReportDetailsNameReportCategory, revertReportDetailsName\n} from '../actions/stateUIActions';\nimport { PROFILE_TAB } from '../utils/constants';\nimport MultiLingualInputText from './MultiLingualInputText';\n\nclass SaveModal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { modalSaveError: null, openReportOnSave: false, originalState: undefined };\n  }\n\n  shouldComponentUpdate(nextProps, nextState, nextContext) {\n    const { open } = this.props;\n    if (open !== nextProps.open) {\n      this.setState({ modalSaveError: null });\n    }\n    return (this.props !== nextProps || this.state !== nextState || this.context !== nextContext);\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const { originalState } = this.state;\n    const { name } = this.props;\n    if (!originalState && !this.isLoading()) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({\n        originalState: {\n          name\n        }\n      });\n    }\n  }\n\n  validateAndSave = () => {\n    const {\n      save, close, name, columns, reportDetails, hierarchies, measures\n    } = this.props;\n    const { openReportOnSave } = this.state;\n    const msg = validateSaveModal(name, columns, reportDetails, hierarchies, measures);\n    if (msg) {\n      this.setState({ modalSaveError: msg });\n    } else {\n      save(openReportOnSave);\n      this.setState({\n        originalState: {\n          name\n        }\n      });\n      close();\n    }\n  }\n\n  handleCategoryChange = (e, { value }) => {\n    const { _updateReportDetailsNameReportCategory } = this.props;\n    _updateReportDetailsNameReportCategory(value);\n  }\n\n  handleCancel = () => {\n    const { close, _revertReportDetailsName } = this.props;\n    const { originalState } = this.state;\n    _revertReportDetailsName(originalState.name);\n    this.setState({ originalState: undefined });\n    close();\n  }\n\n  generateSaveModal = () => {\n    const {\n      translations, open, isNewReport, reportPending, metaDataPending, profile\n    } = this.props;\n    const loading = reportPending || metaDataPending;\n    return (\n      <Modal\n        className=\"save-modal\"\n        closeIcon={false}\n        open={open}\n        onClose={() => this.handleCancel()}\n        centered\n        size=\"small\"\n      >\n        <Header content={isNewReport\n          ? translate('saveAs', profile, translations)\n          : translate('save', profile, translations)} />\n        <Modal.Content>\n          {this.generateSaveModalContent()}\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color=\"green\" onClick={this.validateAndSave} loading={loading} disabled={loading}>\n            <Icon name=\"save\" />\n            {isNewReport\n              ? translate('saveNew', profile, translations)\n              : translate('save', profile, translations)}\n          </Button>\n          <Button color=\"red\" onClick={this.handleCancel}>\n            <Icon name=\"cancel\" />\n            {translate('cancel', profile, translations)}\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n\n  handleChangeAutoOpen = () => {\n    const { openReportOnSave } = this.state;\n    this.setState({ openReportOnSave: !openReportOnSave });\n  }\n\n  isLoading = () => {\n    const { reportPending, metaDataPending } = this.props;\n    return reportPending || metaDataPending;\n  }\n\n  generateSaveModalContent = () => {\n    const {\n      translations, name, selectedReportCategory, reportCategories, profile, languages,\n      globalSettings\n    } = this.props;\n    const { modalSaveError, openReportOnSave } = this.state;\n    if (!globalSettings) {\n      return null;\n    }\n    const loading = this.isLoading();\n    const options = reportCategories ? reportCategories.map(i => ({ key: i.id, text: i.label, value: i.id })) : [];\n    const names = [];\n    if (name) {\n      if (globalSettings.multilingual) {\n        languages.forEach(l => {\n          if (name[l.id]) {\n            names.push(name[l.id]);\n          } else {\n            names.push('');\n          }\n        });\n      } else {\n        names.push(name);\n      }\n    }\n    return (\n      <Form loading={loading}>\n        {!loading ? (\n          <>\n            <Form.Field>\n              <Label>\n                <div className=\"red_text\" style={{ float: 'left', paddingRight: '5px' }}>* </div>\n                <div>{translate('enterReportTitle', profile, translations)}</div>\n              </Label>\n              <MultiLingualInputText\n                values={names}\n                languages={languages}\n                isMultiLanguage={globalSettings.multilingual}\n                mandatory={[globalSettings['default-language']]}\n                onChange={this.handleChangeName} />\n            </Form.Field>\n            {reportCategories ? (\n              <Form.Field>\n                <Label>{translate('category', profile, translations)}</Label>\n                <Dropdown\n                  className=\"category-dropdown\"\n                  placeholder={translate('selectCategory', profile, translations)}\n                  selection\n                  options={options}\n                  defaultValue={selectedReportCategory}\n                  onChange={this.handleCategoryChange}\n            />\n              </Form.Field>\n            ) : null}\n            {profile !== PROFILE_TAB ? (\n              <Form.Field>\n                <Checkbox\n                  toggle\n                  label={translate('autoOpen', profile, translations)}\n                  checked={openReportOnSave}\n                  onChange={this.handleChangeAutoOpen} />\n              </Form.Field>\n            ) : null}\n            {modalSaveError ? (\n              <>\n                <Divider />\n                <ErrorMessage visible message={translate(modalSaveError, profile, translations)} />\n              </>\n            ) : null}\n          </>\n        ) : null}\n      </Form>\n    );\n  }\n\n  handleChangeName = (lang, text) => {\n    const { _updateReportDetailsName, _updateReportDetailsNameMultiLang } = this.props;\n    if (lang) {\n      _updateReportDetailsNameMultiLang(text, lang);\n    } else {\n      _updateReportDetailsName(text);\n    }\n  }\n\n  render() {\n    const { languages } = this.props;\n    if (!languages) {\n      return null;\n    }\n    return (\n      <div className=\"invisible\">\n        {this.generateSaveModal()}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations,\n  reportPending: state.uiReducer.reportPending,\n  name: state.uiReducer.reportDetails.name,\n  columns: state.uiReducer.columns.selected,\n  metaDataPending: state.uiReducer.metaDataPending,\n  selectedReportCategory: state.uiReducer.reportDetails.selectedReportCategory,\n  reportCategories: state.uiReducer.reportCategories,\n  reportDetails: state.uiReducer.reportDetails,\n  hierarchies: state.uiReducer.hierarchies,\n  measures: state.uiReducer.measures,\n  isTab: state.uiReducer.isTab,\n  profile: state.uiReducer.profile,\n  languages: state.languagesReducer.data,\n  globalSettings: state.settingsReducer.globalSettings,\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  _updateReportDetailsNameMultiLang: (data, lang) => updateReportDetailsNameMultiLang(data, lang),\n  _updateReportDetailsName: (data) => updateReportDetailsName(data),\n  _updateReportDetailsNameReportCategory: (data) => updateReportDetailsNameReportCategory(data),\n  _revertReportDetailsName: (data) => revertReportDetailsName(data),\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SaveModal);\n\nSaveModal.propTypes = {\n  translations: PropTypes.object.isRequired,\n  open: PropTypes.bool.isRequired,\n  isNewReport: PropTypes.bool.isRequired,\n  close: PropTypes.func.isRequired,\n  save: PropTypes.func.isRequired,\n  reportPending: PropTypes.bool,\n  metaDataPending: PropTypes.bool,\n  name: PropTypes.string,\n  _updateReportDetailsName: PropTypes.func.isRequired,\n  _updateReportDetailsNameMultiLang: PropTypes.func.isRequired,\n  _updateReportDetailsNameReportCategory: PropTypes.func.isRequired,\n  _revertReportDetailsName: PropTypes.func.isRequired,\n  selectedReportCategory: PropTypes.number,\n  reportCategories: PropTypes.array,\n  columns: PropTypes.array,\n  reportDetails: PropTypes.object,\n  hierarchies: PropTypes.object,\n  measures: PropTypes.object,\n  profile: PropTypes.string,\n  languages: PropTypes.any,\n  globalSettings: PropTypes.object,\n};\n\nSaveModal.defaultProps = {\n  reportPending: false,\n  metaDataPending: false,\n  name: undefined,\n  selectedReportCategory: null,\n  reportCategories: [],\n  columns: [],\n  reportDetails: undefined,\n  hierarchies: undefined,\n  measures: undefined,\n  profile: undefined,\n  languages: undefined,\n  globalSettings: undefined\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Button, Item, Menu,\n} from 'semantic-ui-react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { FM_IS_PUBLIC_REPORT_ENABLED, PROFILE_TAB } from '../utils/constants';\nimport './MainMenu.css';\nimport SaveModal from './SaveModal';\nimport { getLayout } from '../actions/layoutActions';\nimport { areEnoughDataForPreview, translate } from '../utils/Utils';\n\nconst MENU = 'menu';\n\nclass MainMenu extends Component {\n  constructor() {\n    super();\n    this.state = {\n      modalSaveError: null, saveModalOpen: false, isNewReport: false\n    };\n  }\n\n  componentDidMount() {\n    const { _getLayout } = this.props;\n    _getLayout();\n  }\n\n  handleItemClick = (e, { name }) => {\n    const { onClick } = this.props;\n    let index = -1;\n    // eslint-disable-next-line default-case\n    switch (name) {\n      case MENU + 0:\n        index = 0;\n        break;\n      case MENU + 1:\n        index = 1;\n        break;\n      case MENU + 2:\n        index = 2;\n        break;\n    }\n    onClick(index);\n  }\n\n  setSaveModalOpen = (open, isNew) => {\n    this.setState({ saveModalOpen: open, isNewReport: isNew });\n  }\n\n  render() {\n    const {\n      modalSaveError, saveModalOpen, isNewReport\n    } = this.state;\n    const {\n      translations, tab, saveNewReport, saveReport, loaded, results, runReport, id, options,\n      columns, measures, hierarchies, reportDetails, profile, runReportPending, reportSaving\n    } = this.props;\n    return (\n      <>\n        <Menu fluid vertical>\n          <Menu.Item\n            name={MENU + 0}\n            content={`1. ${translate('reportingDetails', profile, translations)}`}\n            active={tab === 0}\n            onClick={this.handleItemClick}\n              />\n          <Menu.Item\n            name={MENU + 1}\n            content={`2. ${translate('columns', profile, translations)}`}\n            active={tab === 1}\n            onClick={this.handleItemClick}\n              />\n          <Menu.Item\n            name={MENU + 2}\n            content={`3. ${translate('financialMeasures', profile, translations)}`}\n            active={tab === 2}\n            onClick={this.handleItemClick}\n              />\n          {loaded && results.logged ? (\n            <Item className=\"save_buttons_item\">\n              <Button\n                color=\"green\"\n                onClick={() => this.setSaveModalOpen(true, false)}\n                disabled={!id || reportSaving}>\n                {translate('save', profile, translations)}\n              </Button>\n              <Button\n                color=\"orange\"\n                onClick={() => this.setSaveModalOpen(true, true)}\n                disabled={reportSaving}>\n                {translate('saveAs', profile, translations)}\n              </Button>\n            </Item>\n          ) : null }\n        </Menu>\n        {(loaded && !results.logged && !id\n          && options && options.find(i => i.name === FM_IS_PUBLIC_REPORT_ENABLED).visible\n          && profile !== PROFILE_TAB) ? (\n            <Item>\n              <Button\n                size=\"huge\"\n                fluid\n                color=\"green\"\n                onClick={runReport}\n                disabled={!areEnoughDataForPreview(columns, measures, hierarchies, reportDetails, profile)\n                || runReportPending}>\n                {translate('plusRunReport', profile, translations)}\n              </Button>\n            </Item>\n          ) : null }\n        <SaveModal\n          open={saveModalOpen}\n          modalSaveError={modalSaveError}\n          isNewReport={isNewReport}\n          save={isNewReport ? saveNewReport : saveReport}\n          close={() => this.setSaveModalOpen(false)} />\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations,\n  description: state.uiReducer.reportDetails.description,\n  selectedReportCategory: state.uiReducer.reportDetails.selectedReportCategory,\n  loaded: state.layoutReducer.loaded,\n  results: state.layoutReducer.results,\n  id: state.uiReducer.id,\n  options: state.uiReducer.options,\n  reportDetails: state.uiReducer.reportDetails,\n  columns: state.uiReducer.columns,\n  measures: state.uiReducer.measures,\n  hierarchies: state.uiReducer.hierarchies,\n  profile: state.uiReducer.profile,\n  runReportPending: state.uiReducer.runReportPending,\n  reportSaving: state.uiReducer.reportSaving,\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  _getLayout: () => getLayout()\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MainMenu);\n\nMainMenu.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  translations: PropTypes.object.isRequired,\n  tab: PropTypes.number.isRequired,\n  saveNewReport: PropTypes.func.isRequired,\n  saveReport: PropTypes.func.isRequired,\n  loaded: PropTypes.bool,\n  results: PropTypes.object,\n  _getLayout: PropTypes.func.isRequired,\n  runReport: PropTypes.func.isRequired,\n  id: PropTypes.number,\n  options: PropTypes.any,\n  reportDetails: PropTypes.object,\n  columns: PropTypes.object,\n  measures: PropTypes.object,\n  hierarchies: PropTypes.object,\n  profile: PropTypes.string,\n  runReportPending: PropTypes.bool.isRequired,\n  reportSaving: PropTypes.bool\n};\n\nMainMenu.defaultProps = {\n  loaded: false,\n  results: undefined,\n  id: undefined,\n  options: undefined,\n  reportDetails: undefined,\n  columns: undefined,\n  measures: undefined,\n  hierarchies: undefined,\n  profile: undefined,\n  reportSaving: false,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport InfoIcon from '../../static/images/icon-information.svg';\n\nexport default class OptionsList extends Component {\n  render() {\n    const {\n      title, tooltip, isRequired, children, className\n    } = this.props;\n    const tooltipText = tooltip ? (\n      <Tooltip id={tooltip}>\n        {tooltip}\n      </Tooltip>\n    ) : null;\n    return (\n      <>\n        <div className=\"option-list-title\">\n          {isRequired ? <span className=\"red_text\">* </span> : null}\n          <span>{title}</span>\n          {tooltip ? (\n            <OverlayTrigger trigger={['hover', 'focus']} overlay={tooltipText}>\n              <img className=\"info-icon\" src={InfoIcon} alt=\"info-icon\" />\n            </OverlayTrigger>\n          ) : null}\n        </div>\n        <div className={`option-list-content ${className || ''}`}>\n          {children}\n        </div>\n      </>\n    );\n  }\n}\n\nOptionsList.propTypes = {\n  title: PropTypes.string.isRequired,\n  isRequired: PropTypes.bool,\n  tooltip: PropTypes.string,\n  children: PropTypes.object,\n  className: PropTypes.string,\n};\n\nOptionsList.defaultProps = {\n  isRequired: false,\n  tooltip: null,\n  children: undefined,\n  className: null,\n};\n","/* eslint-disable max-len */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Accordion, Checkbox, Form, Icon\n} from 'semantic-ui-react';\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport InfoIcon from '../../static/images/icon-information.svg';\n\nexport default class ColumnsSelector extends Component {\n  constructor() {\n    super();\n    this.state = { activeIndex: [] }; // No need to keep this in Redux's store.\n  }\n\n  handleHeaderClick = (e, titleProps) => {\n    const { index } = titleProps;\n    const { activeIndex } = this.state;\n    if (activeIndex.includes(index)) {\n      activeIndex.splice(activeIndex.findIndex(i => i === index));\n    } else {\n      activeIndex.push(index);\n    }\n    this.setState({ activeIndex });\n  }\n\n  onItemClick = (id) => {\n    const { onColumnSelectionChange } = this.props;\n    onColumnSelectionChange(id);\n  }\n\n  handleCategoryTitleClick = (i, wasChecked, event) => {\n    const { columns, selected } = this.props;\n    const categories = this.extractCategories(columns);\n    const ids = columns.filter(j => j.category === categories[i]);\n    ids.forEach(j => {\n      if (wasChecked) {\n        if (selected.find(k => k === j.id)) {\n          this.onItemClick(j.id);\n        }\n      } else if (!selected.find(k => k === j.id)) {\n        this.onItemClick(j.id);\n      }\n    });\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  // eslint-disable-next-line class-methods-use-this,react/sort-comp\n  extractCategories(columns) {\n    const categories = new Set();\n    columns.forEach(item => {\n      categories.add(item.category);\n    });\n    return Array.from(categories);\n  }\n\n  accordionActive = (activeIndex, i) => {\n    const { openSections } = this.props;\n    return activeIndex.includes(i) || openSections;\n  }\n\n  render() {\n    const {\n      columns, showLoadingWhenEmpty, selected, radio, noCategories, isLoading\n    } = this.props;\n    const { activeIndex } = this.state;\n    if (columns.length > 0 && !isLoading) {\n      if (!noCategories) {\n        const categories = this.extractCategories(columns);\n        return (\n          <Form>\n            <Accordion fluid styled exclusive={false}>\n              {categories.map((cat, i) => {\n                const subList = columns.filter(col => (col.category === cat));\n                const subSelectedList = selected.filter(j => subList.find(k => k.id === j));\n                const isChecked = subSelectedList.length === subList.length;\n                return (\n                  <div key={Math.random()}>\n                    <Accordion.Title\n                      index={i}\n                      active={this.accordionActive(activeIndex, i)}\n                      onClick={this.handleHeaderClick}>\n                      <div className={`ui checkbox general-checkbox${!isChecked && subSelectedList.length > 0 ? ' partial' : ''}`}>\n                        <input\n                          className=\"hidden\"\n                          id={`${i}_cat`}\n                          type=\"checkbox\"\n                          defaultChecked={isChecked} />\n                        <label\n                          className=\"general-label\"\n                          htmlFor={`${i}_cat`}\n                          onClick={this.handleCategoryTitleClick.bind(null, i, isChecked)} />\n                      </div>\n                      <Icon name=\"dropdown\" className=\"dropdown-right\" />\n                      <span className=\"category-title\">\n                        {`${cat} (${subSelectedList.length}/${subList.length})`}\n                      </span>\n                    </Accordion.Title>\n                    <Accordion.Content active={this.accordionActive(activeIndex, i)}>\n                      {subList.map(col => (\n                        <div className=\"column-item\" key={Math.random()}>\n                          <Checkbox\n                            key={Math.random()}\n                            radio={radio}\n                            onClick={this.onItemClick.bind(null, col.id)}\n                            id={col.id}\n                            value={col.id}\n                            checked={selected.find(j => j === col.id) !== undefined}\n                            label={col.label ? col.label : col.name} />\n                        </div>\n                      ))}\n                    </Accordion.Content>\n                  </div>\n                );\n              })}\n            </Accordion>\n          </Form>\n        );\n      } else {\n        return (\n          <Form>\n            {columns.map((col) => {\n              const tooltipText = col.description ? (\n                <Tooltip id={col.description}>\n                  {col.description}\n                </Tooltip>\n              ) : null;\n              return (\n                <div className=\"column-item\" key={Math.random()}>\n                  <Checkbox\n                    color=\"green\"\n                    id={Math.random()}\n                    label={col.label ? col.label : col.name}\n                    checked={selected.find(j => j === col.id) !== undefined}\n                    onChange={this.onItemClick.bind(null, col.id)} />\n                  {col.description ? (\n                    <OverlayTrigger trigger={['hover', 'focus']} overlay={tooltipText}>\n                      <img className=\"info-icon\" src={InfoIcon} alt=\"info-icon\" />\n                    </OverlayTrigger>\n                  ) : null}\n                </div>\n              );\n            })}\n          </Form>\n        );\n      }\n    } else if (showLoadingWhenEmpty) {\n      return (\n        <Form loading />\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nColumnsSelector.propTypes = {\n  columns: PropTypes.array,\n  selected: PropTypes.array,\n  onColumnSelectionChange: PropTypes.func.isRequired,\n  showLoadingWhenEmpty: PropTypes.bool,\n  radio: PropTypes.bool,\n  noCategories: PropTypes.bool,\n  openSections: PropTypes.bool,\n  isLoading: PropTypes.bool,\n};\n\nColumnsSelector.defaultProps = {\n  columns: [],\n  selected: [],\n  showLoadingWhenEmpty: false,\n  radio: false,\n  noCategories: false,\n  openSections: false,\n  isLoading: false\n};\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { DragDropContext, Draggable, Droppable } from 'react-beautiful-dnd';\nimport { Checkbox, Icon } from 'semantic-ui-react';\nimport { translate } from '../../utils/Utils';\n\nexport default class ColumnSorter extends Component {\n  constructor(props) {\n    super(props);\n    this.onDragEnd = this.onDragEnd.bind(this);\n  }\n\n  reorder = (list, startIndex, endIndex) => {\n    const result = Array.from(list);\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n    return result;\n  };\n\n  moveUp = (index) => {\n    const { order, onColumnSortChange } = this.props;\n    const items = this.reorder(order, index, index - 1);\n    onColumnSortChange(items);\n  }\n\n  moveDown = (index) => {\n    const { order, onColumnSortChange } = this.props;\n    const items = this.reorder(order, index, index + 1);\n    onColumnSortChange(items);\n  }\n\n  getListStyle = isDraggingOver => ({\n    background: isDraggingOver ? 'transparent' : 'transparent',\n    padding: '5px',\n  });\n\n  getItemStyle = (isDragging, draggableStyle) => ({\n    userSelect: 'none',\n    padding: '5px',\n    margin: '0 0 6px 0',\n    background: isDragging ? 'transparent' : 'transparent',\n    // styles we need to apply on draggables\n    ...draggableStyle\n  });\n\n  onDragEnd = (result) => {\n    const { order, onColumnSortChange } = this.props;\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n    const items = this.reorder(\n      order,\n      result.source.index,\n      result.destination.index\n    );\n    onColumnSortChange(items);\n  }\n\n  handleHeaderClick = (e, titleProps) => {\n    const { index } = titleProps;\n    const { activeIndex } = this.state;\n    const newIndex = activeIndex === index ? -1 : index;\n    this.setState({ activeIndex: newIndex });\n  }\n\n  onItemClick = (id) => {\n    const { onColumnSelectionChange } = this.props;\n    onColumnSelectionChange(id);\n  }\n\n  render() {\n    const {\n      columns, order, checkbox, keyPrefix, translations, selected, profile, isLoading\n    } = this.props;\n    if (columns.length > 0 && !isLoading) {\n      let sortedColumns = columns;\n      if (order.length > 0) {\n        sortedColumns = [];\n        order.forEach(i => {\n          sortedColumns.push(columns.find(j => j.id === i));\n        });\n      }\n      return (\n        <>\n          <DragDropContext onDragEnd={this.onDragEnd}>\n            <Droppable droppableId={`${keyPrefix}_droppable`}>\n              {(provided, snapshot) => (\n                <table\n                  {...provided.droppableProps}\n                  ref={provided.innerRef}\n                  style={this.getListStyle(snapshot.isDraggingOver)}\n                >\n                  <tbody>\n                    {sortedColumns.map((item, index) => (\n                      <Draggable key={item.id} draggableId={`${keyPrefix + item.id}`} index={index}>\n                        {(provided_, snapshot_) => (\n                          <tr\n                            className=\"sortable-tr\"\n                            ref={provided_.innerRef}\n                            {...provided_.draggableProps}\n                            {...provided_.dragHandleProps}\n                            style={this.getItemStyle(\n                              snapshot_.isDragging,\n                              provided_.draggableProps.style\n                            )}\n                        >\n                            <td className=\"sortable-td\">\n                              {checkbox\n                                ? (\n                                  <Checkbox\n                                    color=\"green\"\n                                    id={keyPrefix + item.id}\n                                    label={item.label ? item.label : item.name}\n                                    checked={selected.find(j => j === item.id) !== undefined}\n                                    onChange={this.onItemClick.bind(null, item.id)} />\n                                )\n                                : <span>{item.label ? item.label : item.name}</span> }\n                            </td>\n                            <td className=\"sortable-td td-arrows\">\n                              <span\n                                className={index === 0 ? 'disabled' : ''}\n                                title={translate('moveUp', profile, translations)}\n                                onClick={this.moveUp.bind(null, index)}>\n                                <Icon name=\"arrow up\" color=\"blue\" />\n                              </span>\n                              <span\n                                className={index === sortedColumns.length - 1 ? 'disabled' : ''}\n                                title={translate('moveDown', profile, translations)}\n                                onClick={this.moveDown.bind(null, index)}>\n                                <Icon name=\"arrow down\" color=\"blue\" />\n                              </span>\n                            </td>\n                          </tr>\n                        )}\n                      </Draggable>\n                    ))}\n                    {provided.placeholder}\n                  </tbody>\n                </table>\n              )}\n            </Droppable>\n          </DragDropContext>\n        </>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nColumnSorter.propTypes = {\n  columns: PropTypes.array,\n  order: PropTypes.array,\n  onColumnSortChange: PropTypes.func.isRequired,\n  checkbox: PropTypes.bool,\n  onColumnSelectionChange: PropTypes.func,\n  keyPrefix: PropTypes.string.isRequired,\n  translations: PropTypes.object.isRequired,\n  selected: PropTypes.array,\n  profile: PropTypes.any,\n  isLoading: PropTypes.bool,\n};\n\nColumnSorter.defaultProps = {\n  columns: [],\n  order: [],\n  checkbox: false,\n  onColumnSelectionChange: undefined,\n  selected: [],\n  isLoading: false,\n};\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class InputWrapper extends React.Component {\n  handleKeyDown = (event) => {\n    const { keyPress, keyEvent } = this.props;\n    if (event.key === keyPress) {\n      keyEvent(event);\n    }\n  }\n\n  render() {\n    const { children } = this.props;\n    return <div onKeyDown={this.handleKeyDown}>{children}</div>;\n  }\n}\n\nInputWrapper.propTypes = {\n  children: PropTypes.object.isRequired,\n  keyPress: PropTypes.string.isRequired,\n  keyEvent: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport {\n  Grid, GridColumn, Input\n} from 'semantic-ui-react';\nimport { PROFILE_TAB } from '../../utils/constants';\nimport OptionsList from './OptionsList';\nimport { ReportGeneratorContext } from '../StartUp';\nimport ColumnsSelector from './ColumnsSelector';\nimport {\n  updateColumnsSelected,\n  updateColumnsSorting,\n  updateHierarchiesSelected,\n  updateHierarchiesSorting,\n  updateHierarchiesAvailable,\n  resetColumnsSelected, setInitialHierarchies\n} from '../../actions/stateUIActions';\nimport ColumnSorter from './ColumnsSorter';\nimport ErrorMessage from '../ErrorMessage';\nimport { translate } from '../../utils/Utils';\nimport InputWrapper from './InputWrapper';\n\nclass ColumnsSection extends Component {\n  constructor() {\n    super();\n    this.state = { search: null, applySearch: false };\n  }\n\n  handleColumnSelection = (id) => {\n    const { selectedColumns, _updateColumnsSelected, columns } = this.props;\n    const index = selectedColumns.indexOf(id);\n    if (index > -1) {\n      selectedColumns.splice(index, 1);\n    } else {\n      selectedColumns.push(id);\n    }\n    _updateColumnsSelected(selectedColumns);\n    // Update the hierarchies only with the selected columns that are a hierarchy.\n    this.handleAvailableHierarchiesChange(selectedColumns.filter(i => columns.find(j => j.hierarchy && j.id === i)));\n    this.forceUpdate();\n  }\n\n  handleColumnSort = (data) => {\n    const { _updateColumnsSorting } = this.props;\n    _updateColumnsSorting(data);\n  }\n\n  handleAvailableHierarchiesChange = (data) => {\n    const {\n      _updateHierarchiesAvailable, columns, hierarchies, hierarchiesOrder, selectedColumns\n    } = this.props;\n    const _hierarchies = hierarchies;\n    if (data.length > _hierarchies.length) {\n      // We selected a new column.\n      let added = null;\n      data.forEach(i => {\n        if (!selectedColumns.find(j => j.id === i)) {\n          added = i;\n        }\n      });\n      if (added) {\n        _hierarchies.push(columns.find(i => i.id === added));\n        _updateHierarchiesAvailable(_hierarchies);\n        hierarchiesOrder.push(added);\n        this.handleHierarchySort(hierarchiesOrder);\n      }\n    } else {\n      // We removed a column.\n      let deleted = null;\n      hierarchies.forEach(i => {\n        if (!data.includes(i.id)) {\n          deleted = i.id;\n        }\n      });\n      if (deleted) {\n        let index = hierarchies.findIndex(i => i.id === deleted);\n        hierarchies.splice(index, 1);\n        index = hierarchiesOrder.findIndex(i => i === deleted);\n        hierarchiesOrder.splice(index, 1);\n        _updateHierarchiesAvailable(hierarchies);\n        this.handleHierarchySort(hierarchiesOrder);\n        this.handleHierarchySelection(deleted, true);\n      }\n    }\n  }\n\n  handleHierarchySelection = (id, deleted) => {\n    const { _updateHierarchiesSelected, selectedHierarchies } = this.props;\n    const index = selectedHierarchies.findIndex(i => i === id);\n    if (deleted) {\n      if (index > -1) {\n        selectedHierarchies.splice(index, 1);\n      }\n    } else if (selectedHierarchies.includes(id)) {\n      selectedHierarchies.splice(index, 1);\n    } else {\n      selectedHierarchies.push(id);\n    }\n    _updateHierarchiesSelected(selectedHierarchies);\n    this.forceUpdate();\n  }\n\n  handleHierarchySort = (data) => {\n    const { _updateHierarchiesSorting } = this.props;\n    _updateHierarchiesSorting(data);\n  }\n\n  handleSearch = (event) => {\n    this.setState({ search: event.target.value, applySearch: false });\n  }\n\n  handleReset = () => {\n    const {\n      _resetColumnsSelected, _updateColumnsSelected, id, initialColumns, _setInitialHierarchies, initialHierarchies\n    } = this.props;\n    if (id) {\n      _updateColumnsSelected(Object.assign([], initialColumns));\n      const _hierarchies = { ...initialHierarchies };\n      _setInitialHierarchies([..._hierarchies.available], [..._hierarchies.selected], [..._hierarchies.order]);\n    } else {\n      _resetColumnsSelected();\n    }\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  highlightColumns = (event) => {\n    const { search } = this.state;\n    if (search) {\n      this.setState({ applySearch: true });\n    }\n  }\n\n  render() {\n    const {\n      visible, translations, columns, selectedColumns, hierarchies, hierarchiesOrder, selectedHierarchies,\n      selectedSummaryReport, profile, existingReportSanitized\n    } = this.props;\n    const { search, applySearch } = this.state;\n    const _columns = search ? columns.filter(i => i.label.toLowerCase().indexOf(search.toLowerCase()) > -1) : columns;\n    return (\n      <div className={!visible ? 'invisible-tab' : ''}>\n        <Grid columns={3}>\n          <GridColumn computer=\"8\" tablet=\"16\">\n            <InputWrapper keyPress=\"Enter\" keyEvent={this.highlightColumns}>\n              <Input\n                icon=\"search\"\n                placeholder={translate('search', profile, translations)}\n                onChange={this.handleSearch} />\n            </InputWrapper>\n          </GridColumn>\n          <GridColumn computer=\"8\" textAlign=\"right\" tablet=\"16\">\n            <span className=\"green_text bold pointer reset-text\" onClick={this.handleReset}>\n              {translate('resetColumns', profile, translations)}\n            </span>\n          </GridColumn>\n          <Grid.Column computer=\"6\" tablet=\"16\">\n            <OptionsList\n              title={translate('availableColumns', profile, translations)}\n              tooltip={translate('availableColumnsTooltip', profile, translations)}\n              className=\"smallHeight\" >\n              <ColumnsSelector\n                openSections={applySearch}\n                columns={_columns}\n                selected={selectedColumns}\n                showLoadingWhenEmpty={!search}\n                isLoading={!existingReportSanitized}\n                onColumnSelectionChange={this.handleColumnSelection} />\n            </OptionsList>\n          </Grid.Column>\n          <Grid.Column computer=\"5\" tablet=\"16\">\n            <OptionsList\n              title={translate('selectedColumns', profile, translations)}\n              isRequired\n              tooltip={translate('selectedColumnsTooltip', profile, translations)}\n              className=\"smallHeight\" >\n              <ColumnSorter\n                keyPrefix=\"columns\"\n                translations={translations}\n                columns={columns.filter(i => selectedColumns.find(j => j === i.id))}\n                order={selectedColumns}\n                isLoading={!existingReportSanitized}\n                onColumnSortChange={this.handleColumnSort}\n                profile={profile} />\n            </OptionsList>\n          </Grid.Column>\n          <Grid.Column computer=\"5\" tablet=\"16\">\n            <OptionsList\n              title={translate('hierarchies', profile, translations)}\n              tooltip={translate('hierarchiesTooltip', profile, translations)}\n              className=\"smallHeight\" >\n              <ColumnSorter\n                keyPrefix=\"hierarchies\"\n                checkbox\n                selected={selectedHierarchies}\n                translations={translations}\n                columns={hierarchies}\n                order={hierarchiesOrder}\n                isLoading={!existingReportSanitized}\n                onColumnSelectionChange={this.handleHierarchySelection}\n                onColumnSortChange={this.handleHierarchySort}\n                profile={profile} />\n            </OptionsList>\n          </Grid.Column>\n          {selectedColumns.length === 0\n            ? (\n              <Grid.Column computer={16} className=\"narrowRow\">\n                <ErrorMessage visible message={translate('mustSelectOneColumn', profile, translations)} />\n              </Grid.Column>\n            )\n            : null }\n          {selectedColumns.length > 0 && selectedColumns.length === selectedHierarchies.length && !selectedSummaryReport\n            ? (\n              <Grid.Column computer={16} className=\"narrowRow\">\n                <ErrorMessage visible message={translate('needMoreHierarchies', profile, translations)} />\n              </Grid.Column>\n            )\n            : null }\n          {selectedHierarchies.length > 3\n            ? (\n              <Grid.Column computer={16} className=\"narrowRow\">\n                <ErrorMessage visible message={translate('moreThan3Hierarchies', profile, translations)} warning />\n              </Grid.Column>\n            )\n            : null}\n          {selectedColumns.length > 3 && profile === PROFILE_TAB\n            ? (\n              <Grid.Column computer={16} className=\"narrowRow\">\n                <ErrorMessage visible message={translate('noMoreThan3ColumnsInTabs', profile, translations)} />\n              </Grid.Column>\n            )\n            : null }\n        </Grid>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  translations: state.translationsReducer.translations,\n  columns: state.uiReducer.columns.available,\n  selectedColumns: state.uiReducer.columns.selected,\n  hierarchies: state.uiReducer.hierarchies.available,\n  selectedHierarchies: state.uiReducer.hierarchies.selected,\n  hierarchiesOrder: state.uiReducer.hierarchies.order,\n  selectedSummaryReport: state.uiReducer.reportDetails.selectedSummaryReport,\n  profile: state.uiReducer.profile,\n  id: state.uiReducer.id,\n  initialColumns: state.mementoReducer.columns,\n  initialHierarchies: state.mementoReducer.hierarchies,\n  existingReportSanitized: state.uiReducer.existingReportSanitized,\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  _updateColumnsSelected: (data) => updateColumnsSelected(data),\n  _updateColumnsSorting: (data) => updateColumnsSorting(data),\n  _updateHierarchiesSelected: (data) => updateHierarchiesSelected(data),\n  _updateHierarchiesSorting: (data) => updateHierarchiesSorting(data),\n  _updateHierarchiesAvailable: (data) => updateHierarchiesAvailable(data),\n  _resetColumnsSelected: () => resetColumnsSelected(),\n  _setInitialHierarchies: (available, selected, order) => setInitialHierarchies(available, selected, order),\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ColumnsSection);\n\nColumnsSection.propTypes = {\n  visible: PropTypes.bool.isRequired,\n  translations: PropTypes.object.isRequired,\n  columns: PropTypes.array,\n  selectedColumns: PropTypes.array,\n  _updateColumnsSelected: PropTypes.func.isRequired,\n  _updateColumnsSorting: PropTypes.func.isRequired,\n  hierarchies: PropTypes.array,\n  selectedHierarchies: PropTypes.array,\n  _updateHierarchiesAvailable: PropTypes.func.isRequired,\n  hierarchiesOrder: PropTypes.array,\n  _updateHierarchiesSorting: PropTypes.func.isRequired,\n  _updateHierarchiesSelected: PropTypes.func.isRequired,\n  selectedSummaryReport: PropTypes.bool,\n  _resetColumnsSelected: PropTypes.func.isRequired,\n  profile: PropTypes.string,\n  id: PropTypes.number,\n  initialColumns: PropTypes.array,\n  _setInitialHierarchies: PropTypes.func.isRequired,\n  initialHierarchies: PropTypes.array,\n  existingReportSanitized: PropTypes.bool,\n};\n\nColumnsSection.defaultProps = {\n  columns: [],\n  selectedColumns: [],\n  hierarchies: [],\n  selectedHierarchies: [],\n  hierarchiesOrder: [],\n  selectedSummaryReport: false,\n  profile: undefined,\n  id: undefined,\n  initialColumns: [],\n  initialHierarchies: [],\n  existingReportSanitized: false,\n};\n\nColumnsSection.contextType = ReportGeneratorContext;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Checkbox, Form, FormField\n} from 'semantic-ui-react';\n\nexport default class OptionsContent extends Component {\n  render() {\n    const {\n      radioList, checkList, changeRadioList, changeCheckList, selectedRadio, selectedCheckboxes, loading\n    } = this.props;\n    return (\n      <>\n        <Form loading={loading}>\n          <Form.Group className=\"fields-vertical\">\n            {radioList.map((item) => (\n              <Form.Radio\n                label={item.label}\n                value={item.name}\n                key={item.name}\n                checked={item.name === selectedRadio}\n                onChange={changeRadioList}\n              />\n            ))}\n          </Form.Group>\n          {checkList.map((item, i) => (\n            <FormField key={`form_field_${item.name}`}>\n              <Checkbox\n                toggle\n                key={item.name}\n                onChange={changeCheckList ? changeCheckList[i] : {}}\n                checked={selectedCheckboxes && selectedCheckboxes[i]}\n                label={item.label} />\n            </FormField>\n          ))}\n        </Form>\n      </>\n    );\n  }\n}\n\nOptionsContent.propTypes = {\n  radioList: PropTypes.array,\n  checkList: PropTypes.array,\n  selectedRadio: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  selectedCheckboxes: PropTypes.array,\n  changeRadioList: PropTypes.func.isRequired,\n  changeCheckList: PropTypes.any,\n  loading: PropTypes.bool,\n};\n\nOptionsContent.defaultProps = {\n  radioList: [],\n  checkList: [],\n  selectedRadio: undefined,\n  selectedCheckboxes: [],\n  loading: false,\n  changeRadioList: () => {},\n  changeCheckList: [],\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Form,\n  Grid, GridColumn, TextArea\n} from 'semantic-ui-react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport OptionsList from './OptionsList';\nimport { ReportGeneratorContext } from '../StartUp';\nimport {\n  FUNDING_GROUPING_RADIO_OPTIONS, OPTIONS_CHECKBOX_OPTIONS,\n  TOTAL_GROUPING_CHECKBOX_OPTIONS,\n  TOTAL_GROUPING_RADIO_OPTIONS\n} from '../../utils/constants';\nimport OptionsContent from './OptionsContent';\nimport {\n  updateReportDetailsTotalGrouping, updateReportDetailsTotalsOnly,\n  updateReportDetailsFundingGrouping, updateReportDetailsAllowEmptyFundingColumns,\n  updateReportDetailsSplitByFunding,\n  updateReportDetailsShowOriginalCurrencies,\n  updateReportDetailsDescription,\n  updateReportDetailsAlsoShowPledges, updateReportDetailsUseAboveFilters\n} from '../../actions/stateUIActions';\nimport { hasFilters, translate } from '../../utils/Utils';\n\nclass ReportingDetailSection extends Component {\n  constructor(props) {\n    super(props);\n    this.textAreaNode = React.createRef();\n    this.state = {}\n  }\n  // eslint-disable-next-line no-unused-vars\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const { selectedTotalGrouping, selectedFundingGrouping } = this.props;\n    // In the old report generator some options are pre-filled to a default value.\n    let options = this.getOptions(TOTAL_GROUPING_RADIO_OPTIONS);\n    if (selectedTotalGrouping === null && options.length > 0) {\n      const value = options[0] ? options[0].name : null;\n      if (value) {\n        this.selectTotalGrouping(null, { value });\n      }\n    }\n    options = this.getOptions(FUNDING_GROUPING_RADIO_OPTIONS);\n    if (selectedFundingGrouping === null && options.length > 0) {\n      const value = options[0] ? options[0].name : null;\n      if (value) {\n        this.selectFundingGrouping(null, { value });\n      }\n    }\n  }\n\n  selectTotalGrouping = (e, { value }) => {\n    const { _updateReportDetailsTotalGrouping } = this.props;\n    _updateReportDetailsTotalGrouping(value);\n  };\n\n  selectSummaryReport = () => {\n    const { _updateReportDetailsTotalsOnly, selectedSummaryReport } = this.props;\n    _updateReportDetailsTotalsOnly(!selectedSummaryReport);\n  }\n\n  selectFundingGrouping = (e, { value }) => {\n    const { _updateReportDetailsFundingGrouping } = this.props;\n    _updateReportDetailsFundingGrouping(value);\n  }\n\n  selectAllowEmptyFundingColumns = () => {\n    const { _updateReportDetailsAllowEmptyFundingColumns, selectedAllowEmptyFundingColumns } = this.props;\n    _updateReportDetailsAllowEmptyFundingColumns(!selectedAllowEmptyFundingColumns);\n  }\n\n  selectSplitByFunding = () => {\n    const { _updateReportDetailsSplitByFunding, selectedSplitByFunding } = this.props;\n    _updateReportDetailsSplitByFunding(!selectedSplitByFunding);\n  }\n\n  selectShowOriginalCurrencies = () => {\n    const { _updateReportDetailsShowOriginalCurrencies, selectedShowOriginalCurrencies } = this.props;\n    _updateReportDetailsShowOriginalCurrencies(!selectedShowOriginalCurrencies);\n  }\n\n  selectAlsoShowPledges = () => {\n    const { _updateReportDetailsAlsoShowPledges, selectedAlsoShowPledges } = this.props;\n    _updateReportDetailsAlsoShowPledges(!selectedAlsoShowPledges);\n  }\n\n  selectUseAboveFilters = () => {\n    const { _updateReportDetailsUseAboveFilters, selectedUseAboveFilters, filters } = this.props;\n    if (hasFilters(filters)) {\n      _updateReportDetailsUseAboveFilters(!selectedUseAboveFilters);\n    } else {\n      _updateReportDetailsUseAboveFilters(false);\n    }\n  }\n\n  changeDescription = (e, { value }) => {\n    const { _updateReportDetailsDescription } = this.props;\n    _updateReportDetailsDescription(value);\n  }\n\n  getOptions = (group) => {\n    const { options } = this.props;\n    const radios = [];\n    if (options) {\n      group.forEach(i => {\n        const option = options.find(j => j.name === i);\n        if (option && option.visible) {\n          radios.push({\n            name: i,\n            label: options.find(j => j.name === i).label\n          });\n        }\n      });\n    }\n    return radios;\n  }\n\n  /**\n   * We need this section ALWAYS in 2nd place from right to left.\n   * @returns {JSX.Element}\n   */\n  renderDescriptionSection = () => {\n    const { translations, profile, description } = this.props;\n    return (\n      <GridColumn computer=\"8\" tablet=\"16\">\n        <OptionsList\n          title={translate('reportDescription', profile, translations)}\n          tooltip={translate('reportDescriptionTooltip', profile, translations)} >\n          <Form className=\"description\">\n            <TextArea value={description || ''} onChange={this.changeDescription} ref={this.textAreaNode}/>\n          </Form>\n        </OptionsList>\n      </GridColumn>\n    );\n  }\n\n  renderGroupingSection = () => {\n    const {\n      translations, selectedTotalGrouping, selectedSummaryReport, profile, loading\n    } = this.props;\n    return (\n      <GridColumn computer=\"8\" tablet=\"16\">\n        <OptionsList\n          title={translate('totalGrouping', profile, translations)}\n          isRequired\n          tooltip={translate('totalGroupingTooltip', profile, translations)} >\n          <OptionsContent\n            radioList={this.getOptions(TOTAL_GROUPING_RADIO_OPTIONS)}\n            checkList={this.getOptions(TOTAL_GROUPING_CHECKBOX_OPTIONS)}\n            selectedRadio={selectedTotalGrouping}\n            selectedCheckboxes={[selectedSummaryReport]}\n            changeCheckList={[this.selectSummaryReport]}\n            changeRadioList={this.selectTotalGrouping}\n            loading={loading} />\n        </OptionsList>\n      </GridColumn>\n    );\n  }\n\n  renderFundingSection = () => {\n    const {\n      translations, selectedFundingGrouping, loading, profile\n    } = this.props;\n    return (\n      <GridColumn computer=\"8\" tablet=\"16\">\n        <OptionsList\n          title={translate('fundingGroup', profile, translations)}\n          tooltip={translate('fundingTooltip', profile, translations)}\n          isRequired >\n          <OptionsContent\n            radioList={this.getOptions(FUNDING_GROUPING_RADIO_OPTIONS)}\n            changeRadioList={this.selectFundingGrouping}\n            selectedRadio={selectedFundingGrouping}\n            loading={loading}\n        />\n        </OptionsList>\n      </GridColumn>\n    );\n  }\n\n  renderOptionsSection = () => {\n    const {\n      translations, selectedAllowEmptyFundingColumns, selectedSplitByFunding, selectedShowOriginalCurrencies,\n      loading, selectedAlsoShowPledges, selectedUseAboveFilters, profile\n    } = this.props;\n    return (\n      <GridColumn computer=\"8\" tablet=\"16\">\n        <OptionsList\n          title={translate('options', profile, translations)}\n          tooltip={translate('optionsTooltip', profile, translations)} >\n          <OptionsContent\n            checkList={this.getOptions(OPTIONS_CHECKBOX_OPTIONS)}\n            selectedCheckboxes={[selectedAllowEmptyFundingColumns, selectedSplitByFunding,\n              selectedShowOriginalCurrencies, selectedAlsoShowPledges, selectedUseAboveFilters]}\n            changeCheckList={[this.selectAllowEmptyFundingColumns, this.selectSplitByFunding,\n              this.selectShowOriginalCurrencies, this.selectAlsoShowPledges, this.selectUseAboveFilters]}\n            loading={loading} />\n        </OptionsList>\n      </GridColumn>\n    );\n  }\n\n  render() {\n    const { visible } = this.props;\n    const showGroupingSection = this.getOptions(TOTAL_GROUPING_RADIO_OPTIONS).length !== 1\n      || this.getOptions(TOTAL_GROUPING_CHECKBOX_OPTIONS).length !== 0;\n    return (\n      <div className={!visible ? 'invisible-tab' : ''}>\n        <Grid>\n          {showGroupingSection ? (\n            <>\n              {this.renderGroupingSection()}\n              {this.renderDescriptionSection()}\n            </>\n          ) : null}\n          {this.getOptions(FUNDING_GROUPING_RADIO_OPTIONS).length !== 1 ? (\n            this.renderFundingSection()\n          ) : null}\n          {!showGroupingSection ? this.renderDescriptionSection() : null}\n          {this.getOptions(OPTIONS_CHECKBOX_OPTIONS).length !== 0 ? (\n            this.renderOptionsSection()\n          ) : null}\n        </Grid>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  translations: state.translationsReducer.translations,\n  selectedTotalGrouping: state.uiReducer.reportDetails.selectedTotalGrouping,\n  selectedSummaryReport: state.uiReducer.reportDetails.selectedSummaryReport,\n  reportDetails: state.uiReducer.reportDetails,\n  selectedFundingGrouping: state.uiReducer.reportDetails.selectedFundingGrouping,\n  selectedAllowEmptyFundingColumns: state.uiReducer.reportDetails.selectedAllowEmptyFundingColumns,\n  selectedSplitByFunding: state.uiReducer.reportDetails.selectedSplitByFunding,\n  selectedShowOriginalCurrencies: state.uiReducer.reportDetails.selectedShowOriginalCurrencies,\n  selectedAlsoShowPledges: state.uiReducer.reportDetails.selectedAlsoShowPledges,\n  selectedUseAboveFilters: state.uiReducer.reportDetails.selectedUseAboveFilters,\n  description: state.uiReducer.reportDetails.description,\n  options: state.uiReducer.options,\n  loading: state.uiReducer.metaDataPending,\n  filters: state.uiReducer.filters,\n  profile: state.uiReducer.profile,\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  _updateReportDetailsTotalGrouping: (data) => updateReportDetailsTotalGrouping(data),\n  _updateReportDetailsTotalsOnly: (data) => updateReportDetailsTotalsOnly(data),\n  _updateReportDetailsFundingGrouping: (data) => updateReportDetailsFundingGrouping(data),\n  _updateReportDetailsAllowEmptyFundingColumns: (data) => updateReportDetailsAllowEmptyFundingColumns(data),\n  _updateReportDetailsSplitByFunding: (data) => updateReportDetailsSplitByFunding(data),\n  _updateReportDetailsShowOriginalCurrencies: (data) => updateReportDetailsShowOriginalCurrencies(data),\n  _updateReportDetailsDescription: (data) => updateReportDetailsDescription(data),\n  _updateReportDetailsAlsoShowPledges: (data) => updateReportDetailsAlsoShowPledges(data),\n  _updateReportDetailsUseAboveFilters: (data) => updateReportDetailsUseAboveFilters(data),\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ReportingDetailSection);\n\nReportingDetailSection.propTypes = {\n  translations: PropTypes.object.isRequired,\n  visible: PropTypes.bool.isRequired,\n  selectedTotalGrouping: PropTypes.string,\n  _updateReportDetailsTotalGrouping: PropTypes.func.isRequired,\n  selectedSummaryReport: PropTypes.bool,\n  _updateReportDetailsTotalsOnly: PropTypes.func.isRequired,\n  _updateReportDetailsFundingGrouping: PropTypes.func.isRequired,\n  selectedFundingGrouping: PropTypes.string,\n  _updateReportDetailsAllowEmptyFundingColumns: PropTypes.func.isRequired,\n  _updateReportDetailsSplitByFunding: PropTypes.func.isRequired,\n  _updateReportDetailsShowOriginalCurrencies: PropTypes.func.isRequired,\n  selectedAllowEmptyFundingColumns: PropTypes.bool,\n  selectedSplitByFunding: PropTypes.bool,\n  selectedShowOriginalCurrencies: PropTypes.bool,\n  selectedAlsoShowPledges: PropTypes.bool,\n  selectedUseAboveFilters: PropTypes.bool,\n  description: PropTypes.string,\n  _updateReportDetailsDescription: PropTypes.func.isRequired,\n  options: PropTypes.array,\n  loading: PropTypes.bool,\n  _updateReportDetailsAlsoShowPledges: PropTypes.func.isRequired,\n  _updateReportDetailsUseAboveFilters: PropTypes.func.isRequired,\n  filters: PropTypes.object,\n  profile: PropTypes.string,\n};\n\nReportingDetailSection.defaultProps = {\n  selectedTotalGrouping: undefined,\n  selectedSummaryReport: false,\n  selectedFundingGrouping: undefined,\n  selectedAllowEmptyFundingColumns: false,\n  selectedSplitByFunding: false,\n  selectedShowOriginalCurrencies: false,\n  selectedAlsoShowPledges: false,\n  selectedUseAboveFilters: false,\n  description: undefined,\n  options: undefined,\n  loading: false,\n  filters: null,\n  profile: undefined\n};\n\nReportingDetailSection.contextType = ReportGeneratorContext;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Grid, GridColumn, Input\n} from 'semantic-ui-react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { IS_MEASURELESS_REPORT, PROFILE_TAB } from '../../utils/constants';\nimport {\n  updateMeasuresSelected,\n  updateMeasuresSorting,\n  resetMeasuresSelected,\n} from '../../actions/stateUIActions';\nimport { ReportGeneratorContext } from '../StartUp';\nimport OptionsList from './OptionsList';\nimport ColumnsSelector from './ColumnsSelector';\nimport ErrorMessage from '../ErrorMessage';\nimport ColumnSorter from './ColumnsSorter';\nimport { translate } from '../../utils/Utils';\n\nclass MeasuresSection extends Component {\n  constructor() {\n    super();\n    this.state = { search: null };\n  }\n\n  handleMeasureSelection = (id) => {\n    const { _updateMeasuresSelected, selectedMeasures } = this.props;\n    const index = selectedMeasures.indexOf(id);\n    if (index > -1) {\n      selectedMeasures.splice(index, 1);\n    } else {\n      selectedMeasures.push(id);\n    }\n    _updateMeasuresSelected(selectedMeasures);\n    this.handleAvailableMeasuresChange(selectedMeasures);\n    this.forceUpdate();\n  }\n\n  handleMeasureSort = (data) => {\n    const { _updateMeasuresSorting } = this.props;\n    _updateMeasuresSorting(data);\n  }\n\n  handleSearch = (event) => {\n    this.setState({ search: event.target.value });\n  }\n\n  handleAvailableMeasuresChange(data) {\n    const { selectedMeasures, measuresOrder } = this.props;\n    if (data.length > measuresOrder.length) {\n      // We selected a new column.\n      let added = null;\n      data.forEach(i => {\n        if (!selectedMeasures.find(j => j.id === i)) {\n          added = i;\n        }\n      });\n      if (added) {\n        measuresOrder.push(added);\n        this.handleMeasureSort(measuresOrder);\n      }\n    } else {\n      // We removed a column.\n      let deleted = null;\n      measuresOrder.forEach(i => {\n        if (!data.includes(i)) {\n          deleted = i;\n        }\n      });\n      if (deleted) {\n        const index = measuresOrder.findIndex(i => i === deleted);\n        measuresOrder.splice(index, 1);\n        this.handleMeasureSort(measuresOrder);\n      }\n    }\n  }\n\n  handleReset = () => {\n    const { _resetMeasuresSelected, id, initialMeasures } = this.props;\n    if (id) {\n      _resetMeasuresSelected({\n        selected: [...initialMeasures].map(i => i.id),\n        order: [...initialMeasures].map(i => i.id)\n      });\n    } else {\n      _resetMeasuresSelected({ selected: [], order: [] });\n    }\n  }\n\n  render() {\n    const {\n      visible, translations, measures, selectedMeasures, measuresOrder, profile, existingReportSanitized\n    } = this.props;\n    const { search } = this.state;\n    const _measures = search ? measures.filter(i => i.label.toLowerCase().indexOf(search.toLowerCase()) > -1)\n      : measures;\n    return (\n      <div className={!visible ? 'invisible-tab' : ''}>\n        <Grid>\n          <GridColumn computer=\"8\">\n            <Input\n              icon=\"search\"\n              placeholder={translate('search', profile, translations)}\n              onChange={this.handleSearch} />\n          </GridColumn>\n          <GridColumn computer=\"8\" textAlign=\"right\">\n            <span className=\"green_text bold pointer reset-text\" onClick={this.handleReset}>\n              {translate('resetMeasures', profile, translations)}\n            </span>\n          </GridColumn>\n          <Grid.Column computer=\"8\" tablet=\"16\">\n            <OptionsList\n              title={translate('availableFinancialMeasures', profile, translations)}\n              tooltip={translate('availableMeasuresTooltip', profile, translations)}\n              isRequired\n              className=\"smallHeight\">\n              <ColumnsSelector\n                columns={_measures}\n                selected={selectedMeasures}\n                showLoadingWhenEmpty\n                noCategories\n                isLoading={!existingReportSanitized}\n                onColumnSelectionChange={this.handleMeasureSelection} />\n            </OptionsList>\n          </Grid.Column>\n          <Grid.Column computer=\"8\" tablet=\"16\">\n            <OptionsList\n              className=\"smallHeight\"\n              title={translate('orderSelectedFinancialMeasures', profile, translations)}\n              tooltip={translate('selectedMeasuresTooltip', profile, translations)} >\n              <ColumnSorter\n                keyPrefix=\"measures\"\n                translations={translations}\n                columns={measures.filter(i => selectedMeasures.find(j => j === i.id))}\n                order={measuresOrder}\n                onColumnSelectionChange={this.handleHierarchySelection}\n                onColumnSortChange={this.handleMeasureSort}\n                isLoading={!existingReportSanitized}\n                profile={profile} />\n            </OptionsList>\n          </Grid.Column>\n          {!IS_MEASURELESS_REPORT && selectedMeasures.length === 0\n            ? (\n              <Grid.Column computer={16} className=\"narrowRow\">\n                <ErrorMessage visible message={translate('mustSelectOneMeasure', profile, translations)} />\n              </Grid.Column>\n            )\n            : null }\n          {selectedMeasures.length > 2 && profile === PROFILE_TAB\n            ? (\n              <Grid.Column computer={16} className=\"narrowRow\">\n                <ErrorMessage visible message={translate('noMoreThan2MeasuresInTabs', profile, translations)} />\n              </Grid.Column>\n            )\n            : null }\n          {selectedMeasures.length === 0 && profile === PROFILE_TAB\n            ? (\n              <Grid.Column computer={16} className=\"narrowRow\">\n                <ErrorMessage visible message={translate('mustHave1MeasuresInTabs', profile, translations)} />\n              </Grid.Column>\n            )\n            : null }\n        </Grid>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  translations: state.translationsReducer.translations,\n  measures: state.uiReducer.measures.available,\n  selectedMeasures: state.uiReducer.measures.selected,\n  measuresOrder: state.uiReducer.measures.order,\n  profile: state.uiReducer.profile,\n  id: state.uiReducer.id,\n  initialMeasures: state.mementoReducer.measures,\n  existingReportSanitized: state.uiReducer.existingReportSanitized,\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  _updateMeasuresSelected: (data) => updateMeasuresSelected(data),\n  _updateMeasuresSorting: (data) => updateMeasuresSorting(data),\n  _resetMeasuresSelected: (selected, order) => resetMeasuresSelected(selected, order),\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MeasuresSection);\n\nMeasuresSection.propTypes = {\n  visible: PropTypes.bool.isRequired,\n  translations: PropTypes.object.isRequired,\n  measures: PropTypes.array,\n  selectedMeasures: PropTypes.array,\n  measuresOrder: PropTypes.array,\n  _updateMeasuresSelected: PropTypes.func.isRequired,\n  _updateMeasuresSorting: PropTypes.func.isRequired,\n  _resetMeasuresSelected: PropTypes.func.isRequired,\n  profile: PropTypes.string,\n  id: PropTypes.number,\n  initialMeasures: PropTypes.array,\n  existingReportSanitized: PropTypes.bool,\n};\n\nMeasuresSection.defaultProps = {\n  measures: [],\n  selectedMeasures: [],\n  measuresOrder: [],\n  profile: undefined,\n  id: undefined,\n  initialMeasures: [],\n  existingReportSanitized: false,\n};\n\nMeasuresSection.contextType = ReportGeneratorContext;\n","import React, { Component } from 'react';\nimport {\n  Button, ButtonGroup, Grid, GridColumn, GridRow\n} from 'semantic-ui-react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { translate } from '../../utils/Utils';\n\nclass NavigationButtons extends Component {\n  setEnabledOrDisabledButtons = () => {\n    const { tab } = this.props;\n    // eslint-disable-next-line default-case\n    switch (tab) {\n      case 0:\n        return [false, true];\n      case 1:\n        return [true, true];\n      case 2:\n        return [true, false];\n    }\n  }\n\n  render() {\n    const {\n      translations, backClick, nextClick, profile\n    } = this.props;\n    const status = this.setEnabledOrDisabledButtons();\n    return (\n      <Grid>\n        <GridRow>\n          <GridColumn width=\"16\">\n            <ButtonGroup className=\"navigation-buttons\" floated=\"right\">\n              <Button positive={status[0]} disabled={!status[0]} onClick={backClick}>\n                {`<< ${translate('back', profile, translations)}`}\n              </Button>\n              <div className=\"separator\" />\n              <Button positive={status[1]} disabled={!status[1]} onClick={nextClick}>\n                {`${translate('next', profile, translations)} >>`}\n              </Button>\n            </ButtonGroup>\n          </GridColumn>\n        </GridRow>\n      </Grid>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NavigationButtons);\n\nNavigationButtons.propTypes = {\n  backClick: PropTypes.func.isRequired,\n  nextClick: PropTypes.func.isRequired,\n  translations: PropTypes.object.isRequired,\n  tab: PropTypes.number.isRequired,\n  profile: PropTypes.string,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport {\n  Form,\n  Grid, GridColumn\n} from 'semantic-ui-react';\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport { ReportGeneratorContext } from '../StartUp';\nimport ErrorMessage from '../ErrorMessage';\nimport InfoIcon from '../../static/images/icon-information.svg';\nimport { translate } from '../../utils/Utils';\n\n/**\n * This component will check (almost) all values selected by the user and fetch a new report preview if necessary.\n * Since the preview generation can take several seconds to complete and the user can make new modifications\n * to the UI thus triggering a new preview, we will keep track of the last preview requested and ignore the data\n * produced by older requests (notice that the latest request could return after an older one).\n */\nclass PreviewSection extends Component {\n  renderReport = (results) => <div className=\"preview-container\" dangerouslySetInnerHTML={{ __html: results }} />\n\n  render() {\n    const {\n      lastReportId, previewLoading, previewLoaded, previewError, results, translations, profile\n    } = this.props;\n    const tooltipText = (\n      <Tooltip id={Math.random()}>\n        {translate('previewTooltip', profile, translations)}\n      </Tooltip>\n    );\n    if (previewLoading) {\n      return <Form loading />;\n    } else if (previewError) {\n      return <ErrorMessage visible message={translate('previewError', profile, translations)} />;\n    } else if (previewLoaded && lastReportId !== -1) {\n      return (\n        <>\n          <Grid>\n            <GridColumn width={16}>\n              <div className=\"option-list-title\">\n                <span>{translate('preview', profile, translations)}</span>\n                <OverlayTrigger trigger={['hover', 'focus']} overlay={tooltipText}>\n                  <img className=\"info-icon\" src={InfoIcon} alt=\"info-icon\" />\n                </OverlayTrigger>\n              </div>\n              {this.renderReport(results)}\n            </GridColumn>\n          </Grid>\n        </>\n      );\n    } else if (lastReportId === -1) {\n      return null;\n    } else {\n      return null;\n    }\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  translations: state.translationsReducer.translations,\n  lastReportId: state.previewReducer.lastReportId,\n  previewLoading: state.previewReducer.pending,\n  previewLoaded: state.previewReducer.loaded,\n  previewError: state.previewReducer.error,\n  results: state.previewReducer.results,\n  profile: state.uiReducer.profile,\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PreviewSection);\n\nPreviewSection.propTypes = {\n  translations: PropTypes.object.isRequired,\n  lastReportId: PropTypes.number,\n  previewLoading: PropTypes.bool,\n  previewLoaded: PropTypes.bool,\n  previewError: PropTypes.bool,\n  results: PropTypes.string,\n  profile: PropTypes.string,\n};\n\nPreviewSection.defaultProps = {\n  lastReportId: -1,\n  previewLoading: false,\n  previewLoaded: false,\n  previewError: false,\n  results: undefined,\n  profile: undefined\n};\n\nPreviewSection.contextType = ReportGeneratorContext;\n","import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport md5 from 'md5';\nimport {\n  Grid, GridColumn, GridRow\n} from 'semantic-ui-react';\nimport MainMenu from './MainMenu';\nimport ColumnsSection from './sections/ColumnsSection';\nimport ReportingDetailSection from './sections/ReportingDetailsSection';\nimport MeasuresSection from './sections/MeasuresSection';\nimport NavigationButtons from './sections/NavigationButtons';\nimport PreviewSection from './sections/PreviewSection';\nimport { getPreview, updatePreviewId } from '../actions/previewActions';\nimport { ReportGeneratorContext } from './StartUp';\n\nimport {\n  convertReportType, convertTotalGrouping, javaHashCode, areEnoughDataForPreview\n} from '../utils/Utils';\n\nclass MainContent extends Component {\n  constructor() {\n    super();\n    this.state = { visibleTab: 0 };\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const {\n      _updatePreviewId, _getPreview, columns, measures, hierarchies, reportDetails, lastReportId, profile, settings,\n      existingReportSanitized\n    } = this.props;\n    // Dont try to load the preview until the report metadata and columns info are loaded.\n    if (existingReportSanitized && areEnoughDataForPreview(columns, measures, hierarchies, reportDetails, profile)) {\n      // Convert input data to a String then Number.\n      const _reportDetails = { ...reportDetails };\n      // Remove fields that would make the preview flicker.\n      delete _reportDetails.description;\n      delete _reportDetails.name;\n      delete _reportDetails.selectedReportCategory;\n      const merged = {\n        ..._reportDetails,\n        columns: columns.selected,\n        measures: {\n          selected: measures.selected,\n          order: measures.order\n        },\n        hierarchies: {\n          selected: hierarchies.selected,\n          order: hierarchies.order\n        },\n        settings,\n      };\n      const name = md5(JSON.stringify(merged));\n      const newId = javaHashCode(name);\n      // Avoid calling again the preview EP if not needed.\n      if (newId !== lastReportId) {\n        _updatePreviewId(newId, name);\n        const _columns = columns.selected.map(i => columns.available.find(j => j.id === i).name);\n        const _measures = measures.order.map(i => measures.available.find(j => j.id === i).name);\n        const _hierarchies = hierarchies.order.filter(i => hierarchies.selected.includes(i))\n          .map(i => hierarchies.available.find(j => j.id === i).name);\n        const year = (new Date()).getFullYear();\n        const dateFilter = {\n          date: {\n            start: `${year - 1}-01-01`,\n            end: `${year}-12-31`\n          }\n        };\n        _getPreview({\n          id: newId,\n          add_columns: _columns,\n          add_measures: _measures,\n          page: 1,\n          recordsPerPage: 10,\n          add_hierarchies: _hierarchies,\n          groupingOption: convertTotalGrouping(reportDetails.selectedTotalGrouping),\n          reportType: convertReportType(reportDetails.selectedFundingGrouping),\n          filters: dateFilter,\n          show_empty_rows: true,\n          show_original_currency: reportDetails.selectedShowOriginalCurrencies,\n          summary: reportDetails.selectedSummaryReport,\n          settings\n        });\n      }\n    } else {\n      // With current user input we cant generate a valid preview.\n      _updatePreviewId(-1, undefined);\n    }\n  }\n\n  handleMenuClick = (index) => {\n    this.setState({ visibleTab: index });\n  }\n\n  handleNavButtonBack = () => {\n    const { visibleTab } = this.state;\n    this.setState({ visibleTab: visibleTab - 1 });\n  }\n\n  handleNavButtonNext = () => {\n    const { visibleTab } = this.state;\n    this.setState({ visibleTab: visibleTab + 1 });\n  }\n\n  render() {\n    const { visibleTab } = this.state;\n    const {\n      saveNewReport, saveReport, runReport, profile,\n    } = this.props;\n    return (\n      <>\n        <Grid>\n          <GridRow>\n            <GridColumn computer=\"4\" tablet={16}>\n              <MainMenu\n                onClick={this.handleMenuClick}\n                tab={visibleTab}\n                saveNewReport={saveNewReport}\n                saveReport={saveReport}\n                runReport={runReport} />\n            </GridColumn>\n            <GridColumn computer=\"12\" tablet={16}>\n              <ReportingDetailSection visible={visibleTab === 0} />\n              <ColumnsSection visible={visibleTab === 1} />\n              <MeasuresSection visible={visibleTab === 2} />\n              <NavigationButtons\n                tab={visibleTab}\n                backClick={this.handleNavButtonBack}\n                nextClick={this.handleNavButtonNext}\n                profile={profile} />\n              <PreviewSection />\n            </GridColumn>\n          </GridRow>\n        </Grid>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  lastReportId: state.previewReducer.lastReportId,\n  results: state.previewReducer.results,\n  reportDetails: state.uiReducer.reportDetails,\n  columns: state.uiReducer.columns,\n  measures: state.uiReducer.measures,\n  hierarchies: state.uiReducer.hierarchies,\n  profile: state.uiReducer.profile,\n  settings: state.uiReducer.settings,\n  existingReportSanitized: state.uiReducer.existingReportSanitized,\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  _updatePreviewId: (id, name) => updatePreviewId(id, name),\n  _getPreview: (body) => getPreview(body),\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MainContent);\n\nMainContent.propTypes = {\n  lastReportId: PropTypes.number,\n  reportDetails: PropTypes.object,\n  columns: PropTypes.object,\n  measures: PropTypes.object,\n  hierarchies: PropTypes.object,\n  _updatePreviewId: PropTypes.func.isRequired,\n  _getPreview: PropTypes.func.isRequired,\n  saveNewReport: PropTypes.func.isRequired,\n  saveReport: PropTypes.func.isRequired,\n  runReport: PropTypes.func.isRequired,\n  profile: PropTypes.string,\n  settings: PropTypes.object,\n  existingReportSanitized: PropTypes.bool,\n};\n\nMainContent.defaultProps = {\n  lastReportId: -1,\n  reportDetails: undefined,\n  columns: undefined,\n  measures: undefined,\n  hierarchies: undefined,\n  profile: undefined,\n  settings: undefined,\n  existingReportSanitized: false,\n};\n\nMainContent.contextType = ReportGeneratorContext;\n","export function toggleIcon() {\n  const toggler = document.getElementsByClassName('prev_caret');\n  let i;\n  for (i = 0; i < toggler.length; i++) {\n    if (toggler[i].getAttribute('listener') !== 'true') {\n      toggler[i].setAttribute('listener', 'true');\n      toggler[i].addEventListener('click', function () {\n        this.parentElement.querySelector('.prev_nested').classList.toggle('active');\n        this.classList.toggle('prev_caret-down');\n      });\n    }\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { Loader } from 'semantic-ui-react';\nimport { ReportGeneratorContext } from './StartUp';\nimport {\n  getMetadata,\n  updateAppliedFilters,\n  updateIncludeLocationWithChildren,\n  updateReportDetailsUseAboveFilters\n} from '../actions/stateUIActions';\nimport { toggleIcon } from '../utils/appliedFiltersExtenalCode';\nimport { translate, hasFilters } from '../utils/Utils';\nimport '@devgateway/amp-filter/dist/amp-filter.css';\n\nconst Filter = require('@devgateway/amp-filter/dist/amp-filter');\n\nlet filter = null;\n\nclass Filters extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false, showFiltersList: false, filterLoaded: false,\n    };\n  }\n\n  componentDidMount() {\n    const {\n      _getMetadata, id, filters, _updateAppliedFilters\n    } = this.props;\n    const { store } = this.context;\n\n    /* NOTICE WE DONT SEND ANY PARAM HERE BECAUSE WE JUST WANT THE PROMISE */\n    return _getMetadata().then((action) => {\n      filter = new Filter({\n        draggable: true,\n        caller: 'REPORTS',\n        reportType: action.payload.type,\n      });\n\n      filter.on('apply', this.applyFilters);\n      filter.on('cancel', this.hideFilters);\n\n      return filter.loaded.then(() => {\n        // eslint-disable-next-line react/no-string-refs\n        filter.setElement(this.refs.filterPopup);\n\n        /* IMPORTANT: AT THIS POINT WE ASSUME THE REPORT DATA HAVE BEEN FETCHED!\n        (through 'loading' prop in FiltersAndSettings.jsx). We deserialize (only one time) with empty/saved\n        filters to set includeLocationChildren. */\n        if (id) {\n          const _filters = { ...filters };\n          // We need the current value of includeLocationChildren, not when the props where received.\n          const { includeLocationChildren } = store.getState().uiReducer.reportDetails;\n          _filters['include-location-children'] = _filters.includeLocationChildren;\n          filter.deserialize({\n            filters: _filters,\n            silent: true,\n            includeLocationChildren,\n            'include-location-children': includeLocationChildren\n          });\n          const html_ = filter.getAppliedFilters({ returnHTML: true });\n          _updateAppliedFilters(filters, html_);\n        } else {\n          filter.deserialize({\n            filters: { includeLocationChildren: true },\n            silent: true,\n            includeLocationChildren: true,\n            'include-location-children': true\n          });\n        }\n        this.setState({ filterLoaded: true });\n        return true;\n      });\n    });\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    // The js code that animates the applied filters tree has to be re-implemented and re-run.\n    toggleIcon();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('apply', this.applyFilters);\n    window.removeEventListener('cancel', this.hideFilters);\n  }\n\n  showFilterWidget = () => {\n    const { show } = this.state;\n    if (filter && !show) {\n      return filter.loaded.then(() => {\n        this.setState({ show: true });\n        return filter.showFilters();\n      });\n    }\n  };\n\n  hideFilters = () => {\n    this.setState({ show: false });\n  };\n\n  applyFilters = () => {\n    const {\n      onApplyFilters, _updateAppliedFilters, _updateReportDetailsUseAboveFilters,\n      _updateIncludeLocationWithChildren\n    } = this.props;\n    this.hideFilters();\n    const serialized = filter.serialize();\n    const html = filter.getAppliedFilters({ returnHTML: true });\n    _updateAppliedFilters(serialized.filters, html);\n    if (hasFilters(serialized.filters)) {\n      _updateReportDetailsUseAboveFilters(true);\n    } else {\n      _updateReportDetailsUseAboveFilters(false);\n    }\n    _updateIncludeLocationWithChildren(serialized['include-location-children']);\n    onApplyFilters(serialized.filters);\n  };\n\n  toggleAppliedFilters = () => {\n    const { showFiltersList } = this.state;\n    this.setState({ showFiltersList: !showFiltersList });\n  };\n\n  render() {\n    const { show, filterLoaded } = this.state;\n    const {\n      translations, filters, profile, appliedSectionChange, appliedSectionOpen\n    } = this.props;\n    return (\n        <>\n          {filterLoaded ? (\n              <>\n                <div className=\"filter-title\" onClick={this.showFilterWidget}>\n                  {translate('filters', profile, translations)}\n                  &nbsp;\n                </div>\n                {hasFilters(filters) ? (\n                    <div\n                        className={`filter-title applied-filters-label${appliedSectionOpen ? ' expanded' : ''}`}\n                        onClick={() => appliedSectionChange(filter)}>\n                      {appliedSectionOpen\n                          ? translate('hideAppliedFilters', profile, translations)\n                          : translate('showAppliedFilters', profile, translations)}\n                    </div>\n                ) : null}\n              </>\n          ) : <div style={{ float: 'left' }}><Loader active inline /></div>}\n          {/* eslint-disable-next-line react/no-string-refs */}\n          <div id=\"filter-popup\" ref=\"filterPopup\" style={{ display: (!show ? 'none' : 'block') }} />\n        </>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations,\n  reportLoaded: state.uiReducer.reportLoaded,\n  reportPending: state.uiReducer.reportPending,\n  filters: state.uiReducer.filters,\n  html: state.uiReducer.appliedFilters,\n  type: state.type,\n  profile: state.uiReducer.profile,\n  id: state.uiReducer.id,\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  _updateAppliedFilters: (data, html) => updateAppliedFilters(data, html),\n  _updateReportDetailsUseAboveFilters: (data) => updateReportDetailsUseAboveFilters(data),\n  _getMetadata: () => getMetadata(),\n  _updateIncludeLocationWithChildren: (data) => updateIncludeLocationWithChildren(data),\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Filters);\n\nFilters.propTypes = {\n  onApplyFilters: PropTypes.func.isRequired,\n  translations: PropTypes.object.isRequired,\n  _updateAppliedFilters: PropTypes.func.isRequired,\n  _updateReportDetailsUseAboveFilters: PropTypes.func.isRequired,\n  filters: PropTypes.object,\n  type: PropTypes.string.isRequired,\n  _getMetadata: PropTypes.func.isRequired,\n  profile: PropTypes.string,\n  appliedSectionChange: PropTypes.func.isRequired,\n  appliedSectionOpen: PropTypes.bool.isRequired,\n  id: PropTypes.number,\n  _updateIncludeLocationWithChildren: PropTypes.func.isRequired,\n};\n\nFilters.defaultProps = {\n  filters: null,\n  profile: undefined,\n  id: undefined,\n};\n\nFilters.contextType = ReportGeneratorContext;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { ReportGeneratorContext } from './StartUp';\nimport {\n  URL_SETTINGS_REPORTS, REPORTS\n} from '../utils/constants';\nimport { fetchGlobalSettings } from '../actions/settingsActions';\nimport { extractSettings } from '../reducers/utils/settingsDataConverter';\nimport { updateAppliedSettings } from '../actions/stateUIActions';\nimport { translate } from '../utils/Utils';\n\nconst SettingsWidget = require('@devgateway/amp-settings/dist/amp-settings');\nimport '@devgateway/amp-settings/dist/amp-settings.css';\n\nlet widget = null;\n\nclass Settings extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false, changed: false\n    };\n  }\n\n  componentDidMount() {\n    const { settings, _fetchGlobalSettings } = this.props;\n    const settingsURL = URL_SETTINGS_REPORTS;\n    widget = new SettingsWidget.SettingsWidget({\n      el: 'settings-popup',\n      draggable: true,\n      caller: REPORTS,\n      isPopup: true,\n      definitionUrl: settingsURL\n    });\n\n    // eslint-disable-next-line react/no-string-refs\n    widget.setElement(this.refs.settingsPopup);\n    widget.on('applySettings', this.applySettings);\n    widget.on('close', this.hideSettings);\n    _fetchGlobalSettings(settingsURL).then((action) => {\n      if (settings === null) {\n        const gs = extractSettings(action.payload, action.payload2);\n        return widget.restoreFromSaved(gs);\n      } else {\n        widget.restoreFromSaved(settings);\n        // eslint-disable-next-line react/no-did-mount-set-state\n        this.setState({ changed: true });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('applySettings', this.applySettings);\n    window.removeEventListener('close', this.hideSettings);\n  }\n\n  applySettings = (data) => {\n    const { onApplySettings, _updateAppliedSettings } = this.props;\n    _updateAppliedSettings(null);\n    _updateAppliedSettings(data);\n    onApplySettings(data);\n    this.hideSettings();\n    this.setState({ changed: true });\n  }\n\n  hideSettings = () => {\n    this.setState({ show: false });\n  }\n\n  toggleSettings = () => {\n    const { show } = this.state;\n    widget.show();\n    this.setState({ show: !show });\n  }\n\n  render() {\n    const { show, changed } = this.state;\n    const {\n      translations, profile, appliedSectionOpen, appliedSectionChange\n    } = this.props;\n    return (\n        <>\n          <>\n            <div className=\"filter-title\" onClick={this.toggleSettings}>\n              {translate('settings', profile, translations)}\n            </div>\n            {changed ? (\n                <div\n                    className={`filter-title applied-filters-label${appliedSectionOpen ? ' expanded' : ''}`}\n                    onClick={() => { appliedSectionChange(); }}>\n                  {appliedSectionOpen\n                      ? translate('hideAppliedSettings', profile, translations)\n                      : translate('showAppliedSettings', profile, translations)}\n                </div>\n            ) : null}\n            <div\n                id=\"settings-popup\"\n                ref=\"settingsPopup\"\n                style={{\n                  display: (!show ? 'none' : 'block'),\n                  padding: '0px',\n                  borderColor: '#337ab7'\n                }} />\n          </>\n        </>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations,\n  profile: state.uiReducer.profile,\n  settings: state.uiReducer.settings,\n  reportGlobalSettings: state.settingsReducer.reportGlobalSettings,\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  _fetchGlobalSettings: (url) => fetchGlobalSettings(url),\n  _updateAppliedSettings: (data) => updateAppliedSettings(data),\n}, dispatch);\n\nSettings.propTypes = {\n  onApplySettings: PropTypes.func.isRequired,\n  settings: PropTypes.object,\n  translations: PropTypes.object.isRequired,\n  _fetchGlobalSettings: PropTypes.func.isRequired,\n  _updateAppliedSettings: PropTypes.func.isRequired,\n  profile: PropTypes.string,\n  appliedSectionOpen: PropTypes.bool.isRequired,\n  appliedSectionChange: PropTypes.func.isRequired\n};\n\nSettings.defaultProps = {\n  settings: null,\n  profile: undefined\n};\n\nSettings.contextType = ReportGeneratorContext;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);\n","export function extractSettings(gs, reportGs) {\n  const settings = {\n    'amount-format': {},\n    'calendar-id': null,\n    'currency-code': null,\n    'year-range': {}\n  };\n\n  settings['amount-format']['decimal-symbol'] = gs['number-decimal-separator'] || '.';\n  const numberFormat = gs['number-settings'] || '#,#.#';\n  settings['amount-format']['group-separator'] = numberFormat.indexOf(',') !== -1\n    ? (gs['number-group-separator'] || ',')\n    : '';\n  settings['amount-format']['group-size'] = 3;\n  settings['amount-format']['max-frac-digits'] = 0;\n  if (numberFormat.indexOf(',') !== -1) {\n    settings['amount-format']['max-frac-digits'] = numberFormat.length - numberFormat.indexOf('.') - 1;\n  }\n  settings['amount-format']['number-divider'] = gs['number-divider'];\n  settings['amount-format']['use-grouping'] = (numberFormat.indexOf(',') !== -1);\n  settings['calendar-id'] = `${gs['calendar-id']}`;\n  settings['currency-code'] = gs['effective-currency'].code;\n  settings['year-range'].rangeFrom = gs['dashboard-default-min-year-range'];\n  settings['year-range'].rangeTo = gs['dashboard-default-max-year-range'];\n  settings['year-range'].to = gs['dashboard-default-max-year-range'];\n  settings['year-range'].type = 'INT_VALUE';\n  settings['year-range'].from = `${Math.floor((Number(settings['year-range'].to)\n    - Number(settings['year-range'].rangeFrom)) / 2) + Number(settings['year-range'].rangeFrom)}`;\n  if (reportGs) {\n    const yearRange = reportGs.find(i => i.id === 'year-range');\n    if (yearRange) {\n      settings['year-range'].rangeFrom = Number(yearRange.value.from);\n      settings['year-range'].from = Number(yearRange.value.from);\n      settings['year-range'].rangeTo = Number(yearRange.value.to);\n      settings['year-range'].to = Number(yearRange.value.to);\n    }\n  }\n  return settings;\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport {\n  GridRow, Segment, GridColumn, Grid\n} from 'semantic-ui-react';\nimport PropTypes from 'prop-types';\nimport Filters from './Filters';\nimport Settings from './Settings';\nimport { translate } from '../utils/Utils';\nimport { ReportGeneratorContext } from './StartUp';\nimport { updateAppliedFilters } from '../actions/stateUIActions';\nimport { toggleIcon } from '../utils/appliedFiltersExtenalCode';\n// eslint-disable-next-line no-unused-vars\nimport tree from './tree.css';\n\nlet filter = null; // This is the widget.\n\nclass FiltersAndSettings extends Component {\n  constructor() {\n    super();\n    this.state = { appliedSettingsOpen: false, appliedFiltersOpen: false };\n  }\n\n  handleSettingsChange = () => {\n    const { appliedSettingsOpen } = this.state;\n    this.setState({ appliedSettingsOpen: !appliedSettingsOpen });\n  }\n\n  handleFiltersChange = (filter_) => {\n    const { appliedFiltersOpen } = this.state;\n    filter = filter_;\n    this.setState({ appliedFiltersOpen: !appliedFiltersOpen });\n  }\n\n  handleApplySettings = () => {\n    this.forceUpdate();\n  }\n\n  generateAppliedSettings = () => {\n    const {\n      settings, profile, translations, reportGlobalSettings\n    } = this.props;\n    if (!reportGlobalSettings || !settings) {\n      return null;\n    }\n    return (\n        <div className=\"applied-filters\">\n          <div>\n            <ul className=\"previsualization_tree\">\n              <li>\n              <span className=\"prev_caret\">\n                {translate('calendar', profile, translations)}\n              </span>\n                <ul className=\"prev_nested\">\n                  <li>\n                    {reportGlobalSettings.find(i => i.id === 'calendar-id')\n                        .value.options.find(i => i.id === settings['calendar-id']).name}\n                  </li>\n                </ul>\n              </li>\n              <li>\n              <span className=\"prev_caret\">\n                {translate('currency', profile, translations)}\n              </span>\n                <ul className=\"prev_nested\">\n                  <li>\n                    {reportGlobalSettings.find(i => i.id === 'currency-code')\n                        .value.options.find(i => i.id === settings['currency-code']).name}\n                  </li>\n                </ul>\n              </li>\n              <li>\n              <span className=\"prev_caret\">\n                {translate('amountUnits', profile, translations)}\n              </span>\n                <ul className=\"prev_nested\">\n                  <li>\n                    {reportGlobalSettings.find(i => i.id === 'number-divider')\n                        .value.options.find(i => i.value === `${settings['amount-format']['number-divider']}`\n                            || i.value === settings['number-divider']\n                            || i.id === settings['number-divider'])\n                        .name}\n                  </li>\n                </ul>\n              </li>\n              <li>\n              <span className=\"prev_caret\">\n                {translate('yearRange', profile, translations)}\n              </span>\n                <ul className=\"prev_nested\">\n                  <li>\n                    {`${translate('from', profile, translations)} ${settings['year-range'].from}`}\n                    {' '}\n                    {`${translate('until', profile, translations)} ${settings['year-range'].to}`}\n                  </li>\n                </ul>\n              </li>\n            </ul>\n          </div>\n        </div>\n    );\n  }\n\n  generateAppliedFilters = () => {\n    const {\n      filters, html, _updateAppliedFilters\n    } = this.props;\n    // If this is a saved report we might need to create the html for the first time.\n    if (html === null && filters && filter) {\n      const html_ = filter.getAppliedFilters({ returnHTML: true });\n      _updateAppliedFilters(filters, html_);\n      return <div dangerouslySetInnerHTML={{ __html: html_ }} />;\n    } else if (filters) {\n      return <div dangerouslySetInnerHTML={{ __html: html }} />;\n    }\n    return null;\n  }\n\n  render() {\n    const { loading } = this.props;\n    const { appliedSettingsOpen, appliedFiltersOpen } = this.state;\n    return (\n        <>\n          <Segment loading={loading} placeholder textAlign=\"left\" className=\"filters_segment\">\n            {!loading ? (\n                <Grid>\n                  <GridRow className=\"filter-title-wrapper\">\n                    <GridColumn computer={8} mobile={16}>\n                      <Filters\n                          onApplyFilters={() => {}}\n                          appliedSectionOpen={appliedFiltersOpen}\n                          appliedSectionChange={this.handleFiltersChange} />\n                    </GridColumn>\n                    <GridColumn computer={8} mobile={16}>\n                      <Settings\n                          onApplySettings={this.handleApplySettings}\n                          appliedSectionOpen={appliedSettingsOpen}\n                          appliedSectionChange={this.handleSettingsChange} />\n                    </GridColumn>\n                  </GridRow>\n                  {appliedFiltersOpen || appliedSettingsOpen ? (\n                      <GridRow className=\"applied-filters-wrapper\">\n                        <GridColumn computer={8} mobile={16}>\n                          <div className={!appliedFiltersOpen ? 'invisible-applied-filters' : 'applied-filters'}>\n                            {this.generateAppliedFilters()}\n                          </div>\n                        </GridColumn>\n                        <GridColumn computer={8} mobile={16}>\n                          <div className={!appliedSettingsOpen ? 'invisible-applied-filters' : 'applied-filters'}>\n                            {this.generateAppliedSettings()}\n                          </div>\n                        </GridColumn>\n                      </GridRow>\n                  ) : null}\n                </Grid>\n            ) : null}\n          </Segment>\n        </>\n    );\n  }\n\n  // eslint-disable-next-line react/sort-comp,no-unused-vars\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    // The js code that animates the applied filters tree has to be re-implemented and re-run.\n    toggleIcon();\n  }\n}\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations,\n  profile: state.uiReducer.profile,\n  settings: state.uiReducer.settings,\n  reportGlobalSettings: state.settingsReducer.reportGlobalSettings,\n  filters: state.uiReducer.filters,\n  html: state.uiReducer.appliedFilters,\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  _updateAppliedFilters: (data, html) => updateAppliedFilters(data, html),\n}, dispatch);\n\nFiltersAndSettings.propTypes = {\n  loading: PropTypes.bool,\n  settings: PropTypes.object,\n  translations: PropTypes.object.isRequired,\n  profile: PropTypes.string,\n  reportGlobalSettings: PropTypes.object.isRequired,\n  _updateAppliedFilters: PropTypes.func.isRequired,\n  filters: PropTypes.object,\n  html: PropTypes.string,\n};\n\nFiltersAndSettings.defaultProps = {\n  loading: false,\n  settings: undefined,\n  profile: undefined,\n  filters: null,\n  html: null,\n};\n\nFiltersAndSettings.contextType = ReportGeneratorContext;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FiltersAndSettings);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { Container, Segment } from 'semantic-ui-react';\nimport { ReportGeneratorContext } from './StartUp';\nimport MainHeader from './MainHeader';\nimport MainContent from './MainContent';\nimport FiltersAndSettings from './FiltersAndSettings';\nimport {\n  getMetadata,\n  fetchReport,\n  updateProfile,\n  updateId,\n  saveNew,\n  save,\n  runReport,\n  updateReportDetailsFundingGrouping,\n  setInitialHierarchies,\n  markExistingReportSanitized,\n  updateColumnsSelected,\n  updateMeasuresSelected,\n  updateMeasuresSorting,\n} from '../actions/stateUIActions';\nimport {\n  convertTotalGrouping, getProfileFromReport, translate, hasFilters, convertReportType, revertReportType\n} from '../utils/Utils';\nimport ErrorMessage from './ErrorMessage';\nimport {\n  PROFILE_TAB, RUN_REPORT_NAME, SETTINGS_YEAR_RANGE\n} from '../utils/constants';\nimport { setColumnsData, setHierarchiesData, setMeasuresData } from '../actions/mementoAction';\nimport { fetchLanguages } from '../actions/languagesActions';\nimport {withRouter} from \"../../../utils/components/WithRouter\";\n\nclass ReportGeneratorHome extends Component {\n  constructor() {\n    super();\n    this.state = { showChildren: false, errors: null };\n  }\n\n  componentDidMount() {\n    const {\n      _getMetadata, _fetchReport, location, _updateProfile, _updateId, translations,\n      _updateReportDetailsFundingGrouping, _setColumnsData, _setMeasuresData, _setHierarchiesData,\n      _setInitialHierarchies, _fetchLanguages, _markExistingReportSanitized, _updateColumnsSelected,\n      _updateMeasuresSelected, _updateMeasuresSorting, storedSearchParams\n    } = this.props;\n    _fetchLanguages();\n    // eslint-disable-next-line react/destructuring-assignment,react/prop-types\n    const { id } = this.props.urlParams;\n    const searchParams = new URLSearchParams(storedSearchParams || window.location.search);\n\n    const typeFromURL = searchParams.get('type');\n    const profileFromURL = searchParams.get('profile');\n\n    // If this is a saved report then ignore type and profile params from the URL.\n    if (id) {\n      _updateId(id);\n      return _fetchReport(id).then((reportMetadata) => {\n        const profile = getProfileFromReport(reportMetadata.payload);\n        _updateProfile(profile);\n        if (reportMetadata.payload) {\n          return _getMetadata(reportMetadata.payload.type, profile).then((apiMetaData) => {\n            this.setState({ showChildren: true });\n\n            // AMP-30290: We need to remove columns that are not available in the API anymore.\n            const sanitizedSelectedColumns = reportMetadata.payload.columns\n                .filter(i => apiMetaData.payload.columns.find(j => j.id === i.id));\n            _updateColumnsSelected(sanitizedSelectedColumns.map(i => i.id));\n            const sanitizedSelectedMeasures = reportMetadata.payload.measures\n                .filter(i => apiMetaData.payload.measures.find(j => i.id === j.id));\n            _updateMeasuresSelected(sanitizedSelectedMeasures.map(i => i.id));\n            _updateMeasuresSorting(sanitizedSelectedMeasures.map(i => i.id));\n            const sanitizedHierarchies = reportMetadata.payload.hierarchies\n                .filter(i => sanitizedSelectedColumns.find(j => j.id === i.id));\n\n            // Save original columns and measures for \"reset\".\n            _setColumnsData((Object.assign([], sanitizedSelectedColumns)).map(i => i.id));\n            _setMeasuresData(([...sanitizedSelectedMeasures]));\n\n            // Load hierarchies into Redux's state.\n            const _hierarchies = apiMetaData.payload.columns\n                .filter(i => sanitizedSelectedColumns.find(j => j.id === i.id))\n                .filter(i => i.hierarchy);\n            const _hierarchiesOrder = [];\n            sanitizedHierarchies.forEach(i => {\n              _hierarchiesOrder.push(i.id);\n            });\n            _hierarchies.forEach(i => {\n              if (!_hierarchiesOrder.find(j => j === i.id)) {\n                _hierarchiesOrder.push(i.id);\n              }\n            });\n            const selected = sanitizedHierarchies.map(i => i.id);\n            _setInitialHierarchies(_hierarchies, selected, _hierarchiesOrder);\n\n            // Save original hierarchies for \"reset\".\n            _setHierarchiesData({\n              available: [..._hierarchies],\n              selected: [...selected],\n              order: [..._hierarchiesOrder]\n            });\n            _markExistingReportSanitized();\n            return _updateReportDetailsFundingGrouping(revertReportType(reportMetadata.payload.type));\n          });\n        } else {\n          // eslint-disable-next-line max-len\n          return this.setState({ errors: [<ErrorMessage visible message={translate('errorLoadingReport', profile, translations)} />] });\n        }\n      });\n    } else {\n      _markExistingReportSanitized();\n      _updateProfile(profileFromURL);\n      _getMetadata(typeFromURL, profileFromURL);\n      _updateReportDetailsFundingGrouping(revertReportType(typeFromURL));\n      // eslint-disable-next-line react/no-did-mount-set-state\n      this.setState({ showChildren: true });\n    }\n  }\n\n  commonReport = (isNew, isDynamic) => {\n    const { uiReducer } = this.props;\n    const body = {\n      id: isNew ? null : uiReducer.id,\n      name: !isDynamic ? uiReducer.reportDetails.name : RUN_REPORT_NAME,\n      description: uiReducer.reportDetails.description,\n      type: convertReportType(uiReducer.reportDetails.selectedFundingGrouping),\n      groupingOption: convertTotalGrouping(uiReducer.reportDetails.selectedTotalGrouping),\n      summary: uiReducer.reportDetails.selectedSummaryReport,\n      tab: (uiReducer.profile === PROFILE_TAB),\n      publicView: uiReducer.reportDetails.publicView,\n      workspaceLinked: uiReducer.reportDetails.workspaceLinked,\n      alsoShowPledges: uiReducer.reportDetails.selectedAlsoShowPledges,\n      showOriginalCurrency: uiReducer.reportDetails.selectedShowOriginalCurrencies,\n      allowEmptyFundingColumns: uiReducer.reportDetails.selectedAllowEmptyFundingColumns,\n      splitByFunding: uiReducer.reportDetails.selectedSplitByFunding,\n      reportCategory: uiReducer.reportDetails.selectedReportCategory,\n      ownerId: uiReducer.reportDetails.ownerId,\n      includeLocationChildren: uiReducer.reportDetails.includeLocationChildren,\n      columns: uiReducer.columns.selected,\n      hierarchies: uiReducer.hierarchies.order.filter(i => uiReducer.hierarchies.selected.find(j => j === i)),\n      measures: uiReducer.measures.order.filter(i => uiReducer.measures.selected.find(j => j === i)),\n      settings: uiReducer.settings,\n    };\n    // Cleanup filters.\n    if (hasFilters(uiReducer.filters)) {\n      body.filters = uiReducer.filters;\n      Object.keys(uiReducer.filters).forEach(key => {\n        if (uiReducer.filters[key] === null) {\n          delete uiReducer.filters[key];\n        }\n      });\n    } else {\n      delete body.includeLocationChildren;\n    }\n\n    // Cleanup settings.\n    if (body.settings && body.settings[SETTINGS_YEAR_RANGE]) {\n      Object.keys(body.settings[SETTINGS_YEAR_RANGE]).forEach(i => {\n        body.settings[SETTINGS_YEAR_RANGE][i] = `${body.settings[SETTINGS_YEAR_RANGE][i]}`;\n      });\n    }\n\n    return body;\n  }\n\n  saveReport = (open) => {\n    const { _save, uiReducer } = this.props;\n    const body = this.commonReport(false, false);\n    return _save(uiReducer.id, body).then(response => this.processAfterSave(response, open));\n  }\n\n  saveNewReport = (open) => {\n    const { _saveNew } = this.props;\n    const body = this.commonReport(true, false);\n    return _saveNew(body).then(response => this.processAfterSave(response, open));\n  }\n\n  runReport = () => {\n    const { _runReport } = this.props;\n    const body = this.commonReport(true, true);\n    return _runReport(body).then(response => this.processAfterSave(response, true));\n  }\n\n  processAfterSave = (response, open) => {\n    const { translations, uiReducer, profile } = this.props;\n    if (response.error) {\n      const errors = [];\n      Object.keys(response.error).forEach(i => {\n        const trnLabel = translate(`apiError${i}`, profile, translations);\n        errors.push({ id: i, label: trnLabel || response.error[i] });\n      });\n      if (errors.length > 0) {\n        this.setState({ errors: errors.map(i => <ErrorMessage key={i.id} visible message={i.label} />) });\n      }\n      return null;\n    }\n    if (response.payload.id < 0) {\n      window.open(`/TEMPLATE/ampTemplate/saikuui_reports/index_reports.html#report/run/${response.payload.id}`);\n    } else if (uiReducer.profile === PROFILE_TAB) {\n      window.location.href = '/viewTeamReports.do?tabs=true&reset=true';\n    } else {\n      if (open) {\n        window.open(`/TEMPLATE/ampTemplate/saikuui_reports/index_reports.html#report/open/${response.payload.id}`);\n      }\n      window.location.href = '/viewTeamReports.do?tabs=false&reset=true';\n    }\n    return null;\n  }\n\n  render() {\n    const { showChildren: canLoadChildren, errors } = this.state;\n    const { layoutLoaded, results, profile } = this.props;\n\n    // Only logged users can use the tab generator.\n    if (layoutLoaded && results.logged !== true && profile === PROFILE_TAB) {\n      window.location.href = '/';\n    }\n\n    return (\n        <Container>\n          <MainHeader />\n          <FiltersAndSettings loading={!canLoadChildren} />\n          {errors ? (\n              <Segment className=\"errors_segment\">\n                {errors}\n              </Segment>\n          ) : null}\n          <MainContent saveNewReport={this.saveNewReport} saveReport={this.saveReport} runReport={this.runReport} />\n        </Container>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations,\n  uiReducer: state.uiReducer,\n  profile: state.uiReducer.profile,\n  layoutLoaded: state.layoutReducer.loaded,\n  results: state.layoutReducer.results,\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  _getMetadata: (type, profile) => getMetadata(type, profile),\n  _fetchReport: (id) => fetchReport(id),\n  _updateProfile: (data) => updateProfile(data),\n  _updateId: (data) => updateId(data),\n  _saveNew: (data) => saveNew(data),\n  _save: (id, data) => save(id, data),\n  _runReport: (data) => runReport(data),\n  _updateReportDetailsFundingGrouping: (data) => updateReportDetailsFundingGrouping(data),\n  _setColumnsData: (data) => setColumnsData(data),\n  _setHierarchiesData: (data) => setHierarchiesData(data),\n  _setMeasuresData: (data) => setMeasuresData(data),\n  _setInitialHierarchies: (available, selected, order) => setInitialHierarchies(available, selected, order),\n  _fetchLanguages: () => fetchLanguages(),\n  _markExistingReportSanitized: () => markExistingReportSanitized(),\n  _updateColumnsSelected: (data) => updateColumnsSelected(data),\n  _updateMeasuresSelected: (data) => updateMeasuresSelected(data),\n  _updateMeasuresSorting: (data) => updateMeasuresSorting(data),\n}, dispatch);\n\nReportGeneratorHome.propTypes = {\n  _getMetadata: PropTypes.func.isRequired,\n  _fetchReport: PropTypes.func.isRequired,\n  _updateProfile: PropTypes.func.isRequired,\n  _updateId: PropTypes.func.isRequired,\n  location: PropTypes.object.isRequired,\n  translations: PropTypes.object.isRequired,\n  _saveNew: PropTypes.func.isRequired,\n  _save: PropTypes.func.isRequired,\n  uiReducer: PropTypes.object.isRequired,\n  _runReport: PropTypes.func.isRequired,\n  _updateReportDetailsFundingGrouping: PropTypes.func.isRequired,\n  profile: PropTypes.string,\n  layoutLoaded: PropTypes.bool,\n  results: PropTypes.object,\n  _setColumnsData: PropTypes.func.isRequired,\n  _setMeasuresData: PropTypes.func.isRequired,\n  _setHierarchiesData: PropTypes.func.isRequired,\n  _setInitialHierarchies: PropTypes.func.isRequired,\n  _fetchLanguages: PropTypes.func.isRequired,\n  _markExistingReportSanitized: PropTypes.func.isRequired,\n  _updateColumnsSelected: PropTypes.func.isRequired,\n  _updateMeasuresSelected: PropTypes.func.isRequired,\n  _updateMeasuresSorting: PropTypes.func.isRequired,\n  urlParams: PropTypes.object,\n  storedSearchParams: PropTypes.string,\n};\n\nReportGeneratorHome.defaultProps = {\n  profile: undefined,\n  layoutLoaded: false,\n  results: undefined,\n};\n\nReportGeneratorHome.contextType = ReportGeneratorContext;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ReportGeneratorHome));\n","import React, { Component } from 'react';\nimport {Route, Routes} from 'react-router-dom';\nimport '../../../App.css';\nimport ReportGeneratorHome from './ReportGeneratorHome';\n\nclass ReportGeneratorRouter extends Component {\n  render() {\n    return (\n      <Routes>\n        <Route path=\"/\" exact element={<ReportGeneratorHome />} />\n        <Route path=\":id\" element={<ReportGeneratorHome />} />\n      </Routes>\n    );\n  }\n}\n\nexport default ReportGeneratorRouter;\n","import React, { Component } from 'react';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport { Provider } from 'react-redux';\nimport rootReducer from './reducers/rootReducer';\nimport Startup from './components/StartUp';\nimport ReportGeneratorRouter from './components/ReportGenerator.router';\nimport defaultTrnPack from './config/initialTranslations.json';\nimport 'fomantic-ui-css/semantic.min.css';\nimport '../ndddashboard/index.css';\nimport '../../open-sans.css';\nimport './index.css';\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nclass ReportGeneratorApp extends Component {\n  constructor(props) {\n    super(props);\n    this.store = createStore(rootReducer, composeEnhancer(applyMiddleware(thunk)));\n  }\n \n  render() {\n    return (\n      <Provider store={this.store}>\n        <Startup defaultTrnPack={defaultTrnPack} store={this.store}>\n          <ReportGeneratorRouter />\n        </Startup>\n      </Provider>\n    );\n  }\n}\n\nexport default ReportGeneratorApp;\n","export const ZERO = 0;\nexport const ONE = 1;\nexport const NEGATIVE_ONE = -1;\nexport const FLAGS_DIRECTORY = '/assets/img/flags/';\n\nexport const DASHBOARD_DEFAULT_MIN_YEAR_RANGE = 'dashboard-default-min-year-range';\nexport const DASHBOARD_DEFAULT_MAX_YEAR_RANGE = 'dashboard-default-max-year-range';\n\nexport const API_FILTERS_SECTORS_URL = '/rest/filters/sectors';\nexport const API_FILTERS_COUNTRIES_URL = '/rest/filters/locations?firstLevelOnly=true&showAllCountries=true';\nexport const API_AMP_SETTINGS_URL = '/rest/amp/settings';\nexport const API_FILTERS_MODALITIES_URL = '/rest/filters/modalities?sscWorkspace=true';\nexport const API_SSC_DASHBOARD_URL = '/rest/gis/sscdashboard';\nexport const API_XLS_REPORT_URL = '/rest/gis/sscdashboard/xsl';\nexport const API_REPORTS_ACTIVITY_DETAIL_URL = '/rest/gis/activities';\n\nexport const BOOTSTRAP_COLUMNS_COUNT = 12;\n\nexport const NON_SELECTED_LINE_COLOR = '#fd8f00';\nexport const NON_SELECTED_BUBBLE_COLOR = '#fd8f00';\n\nexport const SELECTED_LINE_COLOR = '#007236';\nexport const SELECTED_BUBBLE_COLOR = '#007236';\nexport const PNG_FORMAT = 'png';\nexport const PROJECT_LENGTH_HOME_PAGE = 50;\nexport const UNDEFINED_FILTER = -999999999;\nexport const FLAGS_TO_SHOW_DEFAULT = 9;\nexport const FLAGS_TO_SHOW_SMALL = 6;\nexport const FLAGS_TO_SHOW_SMALL_WIDTH_THRESHOLD = 1766;\nexport const SECTORS_LIMIT_CHART = 5;\nexport const SECTORS_OTHERS_ID_CHART = '-1';\nexport const DEFAULT_SCREEN_SIZE = 1920;\nexport const DEFAULT_ELLIPSIS = 145;\nexport const SECTOR_MODALITY_MIN_SIZE = 2;\nexport const SECTOR_MODALITY_LEADING_LEFT = '0';\nexport const WS_PREFIX = 'SSC_';\n\nexport const HOME_CHART = 'home';\nexport const SECTORS_CHART = 'sector';\nexport const MODALITY_CHART = 'modality';\nexport const DOWNLOAD_CHART = 'download';\nexport const COUNTRY_COLUMN = 'country-column';\n// eslint-disable-next-line max-len\nexport const FALLBACK_FLAG = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAbCAQAAACkGQXlAAAAI0lEQVR42mP8L8lAVcA4auCogaMGjho4auCogaMGjhpINAAAOBcdpLw/CDsAAAAASUVORK5CYII=';\nexport const OTHERS_CODE = '000';\nexport const INVALID_COLUMN_ERROR_CODE = '0602';\nexport const FILTER_PRIMARY_SECTOR = 'primary-sector';\nexport const FILTER_SSC_MODALITIES = 'ssc-modalities';\nexport const FILTER_DONOR_AGENCY_COUNTRY = 'donor-agency-country';\n\n\nexport const SECTOR_COLOR_MAP = new Map([\n  ['110', '#d46453'], ['120', '#f5a15d'], ['130', '#ffcf8e'], ['140', '#ff7a7d'], ['150', '#ff417d'],\n  ['160', '#d61a88'], ['210', '#fff540'], ['220', '#28c074'], ['230', '#429058'], ['240', '#bd4035'],\n  ['250', '#b0fff1'], ['311', '#144491'], ['312', '#9b0e3e'], ['313', '#10908e'], ['321', '#8f5765'],\n  ['322', '#c7d4e1'], ['323', '#77b02a'], ['331', '#488bd4'], ['332', '#928fb8'], ['400', '#c6d831'],\n  ['500', '#d41e3c'], ['600', '#cf968c'], ['700', '#78d7ff'], ['910', '#94007a'], ['920', '#ffb84a'],\n  ['930', '#ed7b39'], ['998', '#ed4c40'], ['000', '#8f5765']\n]);\nexport const MODALITIES_COLOR_MAP = new Map([\n  [OTHERS_CODE, '#8f5765']]);\n\nexport const MODALITIES_COLOR = ['#00429d', '#3761ab', '#5681b9', '#73a2c6', '#93c4d2', '#b9e5dd',\n  '#ffffe0', '#ffd3bf', '#ffa59e', '#f4777f', '#dd4c65', '#be214d', '#93003a'];\nexport const COLOR_MAP_CUSTOM = new Map([[\n  MODALITY_CHART, MODALITIES_COLOR\n]]);\n\nexport const COLOR_MAP = new Map([\n  [SECTORS_CHART, SECTOR_COLOR_MAP],\n  [MODALITY_CHART, MODALITIES_COLOR_MAP]\n]);\n","import { fetchTranslationsSuccess, fetchTranslationsPending, fetchTranslationsError }\n  from './translationsActions';\nimport { loadTranslations } from '../loadTranslations';\n\nfunction fetchTranslations(translations) {\n  return dispatch => {\n    dispatch(fetchTranslationsPending(translations));\n    return loadTranslations(translations)\n      .then(trnPack => dispatch(fetchTranslationsSuccess(trnPack)))\n      .catch(error => dispatch(fetchTranslationsError(error)));\n  };\n}\nexport default fetchTranslations;\n","export const FETCH_TRANSLATIONS_PENDING = 'FETCH_TRANSLATIONS_PENDING';\nexport const FETCH_TRANSLATIONS_SUCCESS = 'FETCH_TRANSLATIONS_SUCCESS';\nexport const FETCH_TRANSLATIONS_ERROR = 'FETCH_TRANSLATIONS_ERROR';\n\nexport function fetchTranslationsPending(translations) {\n  return {\n    type: FETCH_TRANSLATIONS_PENDING,\n    payload: translations\n  };\n}\n\nexport function fetchTranslationsSuccess(translations) {\n  return {\n    type: FETCH_TRANSLATIONS_SUCCESS,\n    payload: translations\n  };\n}\n\nexport function fetchTranslationsError(error) {\n  return {\n    type: FETCH_TRANSLATIONS_ERROR,\n    error\n  };\n}\n","import React from 'react';\n\nconst Loading = () => (\n  <div className=\"jumbotron\">\n    <div className=\"progress\">\n      <div\n        className=\"progress-bar progress-bar-striped bg-info\"\n        role=\"progressbar\"\n        aria-valuenow=\"100\"\n        aria-valuemin=\"0\"\n        aria-valuemax=\"100\"\n        style={{ width: '100%' }}>\n        ...\n      </div>\n    </div>\n  </div>\n);\n\n// eslint-disable-next-line import/prefer-default-export\nexport { Loading };\n","import React, {memo, useEffect} from 'react';\nimport {useLocation, useNavigate, useParams, useSearchParams} from 'react-router-dom';\n\nexport const withRouter = (Component) => {\n    return memo((props) => {\n        const navigate = useNavigate();\n        const location = useLocation();\n        const params = useParams();\n        const [ searchParams, setSearchParams] = useSearchParams();\n\n        const extractSearchParams = () => {\n            let storedParams = localStorage.getItem('searchParams');\n\n            location.search = storedParams;\n\n            if (storedParams) {\n                storedParams = storedParams.replace('?', '');\n                const paramsArr  = storedParams.split('&');\n\n                paramsArr.map((param) => {\n                    const [key, value] = param.split('=');\n                    setSearchParams(key, value);\n                    return [key, value];\n\n                });\n            }\n        }\n\n        useEffect(() => {\n            extractSearchParams();\n        }, []);\n\n        return (\n            <>\n                    <Component\n                        navigate={navigate}\n                        _location={location}\n                        urlParams={params}\n                        searchParams={searchParams}\n                        storedSearchParams={localStorage.getItem('searchParams')}\n                        {...props}\n                    />\n            </>\n\n        );\n    });\n};\n","import { WS_PREFIX } from '../modules/sscdashboard/utils/constants';\n\nconst POST = 'POST';\nconst GET = 'GET';\n\nfunction getRequestOptions(body, headers) {\n  const requestOptions = {\n    method: body ? POST : GET,\n    headers: headers || { 'Content-Type': 'application/json', Accept: 'application/json', 'ws-prefix': WS_PREFIX }\n  };\n  if (body) {\n    requestOptions.body = JSON.stringify(body);\n  }\n  return requestOptions;\n}\n\nexport const fetchApiData = ({ body, url, headers }) => new Promise((resolve, reject) => fetch(url,\n  getRequestOptions(body, headers))\n  .then(response => {\n    if (headers && headers.Accept === 'text/html') {\n      return response.text();\n    } else if (response.headers && response.headers.get('Content-Type')\n        && response.headers.get('Content-Type').indexOf('application/json') > -1) {\n      return response.json();\n    } else {\n      return response;\n    }\n  })\n  .then(data => {\n    if (data.error) {\n      return reject(data.error);\n      // throw new Error(data.error);\n    }\n    return resolve(data);\n  }));\n\n// TODO to move api route to a constant.\nexport function loadTranslations(trnPack) {\n  return new Promise((resolve) => fetch('/rest/translations/label-translations', getRequestOptions(trnPack))\n    .then(response => {\n        let contentType = response.headers.get(\"content-type\");\n        if (contentType && contentType.indexOf(\"application/json\") !== -1) {\n            return response.json().then(data => {\n                if (data.error) {\n                    throw new Error(data.error);\n                }\n                return resolve(data);\n            });\n        }\n    }));\n}\n","import {\n  FETCH_TRANSLATIONS_ERROR, FETCH_TRANSLATIONS_PENDING, FETCH_TRANSLATIONS_SUCCESS\n} from '../actions/translationsActions';\n\nconst initialState = {\n  pending: true,\n  translations: {},\n  error: null\n};\n\nexport default function translationsReducer(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_TRANSLATIONS_PENDING:\n      return {\n        ...state,\n        pending: true,\n        translations: action.payload\n      };\n    case FETCH_TRANSLATIONS_SUCCESS:\n      return {\n        ...state,\n        pending: false,\n        translations: action.payload\n      };\n    case FETCH_TRANSLATIONS_ERROR:\n      return {\n        ...state,\n        pending: false,\n        error: action.error\n      };\n    default:\n      return state;\n  }\n}\n"],"names":["TRN_PREFIX_REPORT","URL_SAVE_NEW","PROFILE_TAB","SETTINGS_YEAR_RANGE","TOTAL_GROUPING_RADIO_OPTIONS","TOTAL_GROUPING_CHECKBOX_OPTIONS","FUNDING_GROUPING_RADIO_OPTIONS","OPTIONS_CHECKBOX_OPTIONS","UPDATE_REPORT_DETAILS_TOTAL_GROUPING","UPDATE_REPORT_DETAILS_TOTALS_ONLY","UPDATE_REPORT_DETAILS_FUNDING_GROUPING","UPDATE_REPORT_DETAILS_ALLOW_EMPTY_FUNDING_COLUMNS","UPDATE_REPORT_DETAILS_SPLIT_BY_FUNDING","UPDATE_REPORT_DETAILS_SHOW_ORIGINAL_CURRENCIES","UPDATE_REPORT_DETAILS_DESCRIPTION","UPDATE_REPORT_DETAILS_NAME_MULTILANG","UPDATE_REPORT_DETAILS_NAME","REVERT_REPORT_DETAILS_NAME","UPDATE_REPORT_DETAILS_ALSO_SHOW_PLEDGES","UPDATE_REPORT_DETAILS_USE_ABOVE_FILTERS","UPDATE_REPORT_DETAILS_REPORT_CATEGORY","UPDATE_COLUMNS_SELECTED_COLUMN","UPDATE_COLUMNS_SORT_COLUMN","RESET_COLUMNS_SELECTED_COLUMN","UPDATE_MEASURES_SORT_COLUMN","UPDATE_MEASURES_SELECTED_COLUMN","RESET_MEASURES_SELECTED_COLUMN","UPDATE_HIERARCHIES_SORT_COLUMN","UPDATE_HIERARCHIES_SELECTED_COLUMN","UPDATE_HIERARCHIES_LIST","SET_INITIAL_HIERARCHIES","UPDATE_APPLIED_FILTERS","UPDATE_INCLUDE_LOCATION_WITH_CHILDREN","UPDATE_APPLIED_SETTINGS","UPDATE_PROFILE","UPDATE_ID","FETCH_METADATA_PENDING","FETCH_METADATA_SUCCESS","FETCH_METADATA_ERROR","FETCH_REPORT_PENDING","FETCH_REPORT_SUCCESS","FETCH_REPORT_ERROR","SAVE_NEW_REPORT_PENDING","SAVE_NEW_REPORT_SUCCESS","SAVE_NEW_REPORT_ERROR","SAVE_REPORT_PENDING","SAVE_REPORT_SUCCESS","SAVE_REPORT_ERROR","RUN_REPORT_PENDING","RUN_REPORT_SUCCESS","RUN_REPORT_ERROR","MARK_EXISTING_REPORT_SANITIZED","updateReportDetailsFundingGrouping","payload","type","updateReportDetailsUseAboveFilters","updateColumnsSelected","setInitialHierarchies","available","selected","order","updateMeasuresSelected","updateMeasuresSorting","updateAppliedFilters","html","getMetadataPromise","getMetadata","profile","dispatch","getState","state","uiReducer","metaDataPending","metaDataLoaded","error","url","concat","Promise","all","fetchApiData","then","data","catch","fetchMetaDataError","fetchReport","id","replace","fetchReportError","saveNew","body","result","saveNewReportError","save","saveReportError","runReport","runReportError","convertTotalGrouping","value","convertReportType","revertReportType","hasFilters","filters","Object","keys","length","some","i","getProfileFromReport","tab","areEnoughDataForPreview","columns","measures","hierarchies","reportDetails","selectedSummaryReport","translate","key","translations","convertReportDetails","_reportDetails","_objectSpread","description","name","selectedShowOriginalCurrencies","showOriginalCurrency","selectedTotalGrouping","revertTotalGrouping","groupingOption","summary","selectedSplitByFunding","splitByFunding","selectedAllowEmptyFundingColumns","allowEmptyFundingColumns","selectedAlsoShowPledges","alsoShowPledges","isTab","publicView","workspaceLinked","selectedReportCategory","reportCategory","ownerId","includeLocationChildren","initialState","selectedFundingGrouping","selectedUseAboveFilters","activeStep","appliedFilters","settings","reportCategories","reportLoaded","reportPending","reportSaving","reportSaved","reportSaveError","runReportPending","runReportSuccess","existingReportSanitized","FETCH_PREVIEW_PENDING","FETCH_PREVIEW_SUCCESS","FETCH_PREVIEW_ERROR","UPDATE_PREVIEW_ID","IGNORE_PREVIEW","getPreview","headers","Accept","previewReducer","lastReportId","fetchPreviewError","lastReportName","undefined","pending","loaded","results","FETCH_GLOBAL_SETTINGS_PENDING","FETCH_GLOBAL_SETTINGS_SUCCESS","FETCH_GLOBAL_SETTINGS_ERROR","fetchGlobalSettings","settingsURL","payload2","fetchGlobalSettingsError","globalSettings","reportGlobalSettings","FETCH_LAYOUT_PENDING","FETCH_LAYOUT_SUCCESS","FETCH_LAYOUT_ERROR","getLayout","fetchLayoutError","SET_SETTINGS_DATA","SET_FILTERS_DATA","SET_COLUMNS_DATA","SET_HIERARCHIES_DATA","SET_MEASURES_DATA","FETCH_LANGUAGES_PENDING","FETCH_LANGUAGES_SUCCESS","FETCH_LANGUAGES_ERROR","fetchLanguages","fetchLanguagesError","combineReducers","translationsReducer","arguments","action","_defineProperty","lang","options","map","settingsReducer","layoutReducer","mementoReducer","languagesReducer","ReportGeneratorContext","React","defaultTrnPack","store","Startup","_Component","_inherits","_super","_createSuper","_classCallCheck","apply","_createClass","_fetchTranslations","this","props","_this$props","translationPending","children","_jsx","Loading","document","title","Provider","Component","connect","bindActionCreators","fetchTranslations","defaultProps","MainHeader","_this","_len","args","Array","_key","call","handleResetAll","confirm","location","reload","handleCancel","_this$props2","window","href","_this$props3","tooltipText","Tooltip","_Fragment","_jsxs","Grid","GridRow","GridColumn","width","textAlign","Header","size","className","onClick","OverlayTrigger","trigger","overlay","src","InfoIcon","alt","contextType","ErrorMessage","visible","message","warning","style","color","MultiLingualInputText","languages","values","onChange","isMultiLanguage","mandatory","panes","_languages","push","find","forEach","j","item","menuItem","Menu","Item","float","paddingRight","render","Tab","Pane","event","target","placeholder","SaveModal","validateAndSave","close","openReportOnSave","msg","toString","trim","validateSaveModal","setState","modalSaveError","originalState","handleCategoryChange","e","_ref","_updateReportDetailsNameReportCategory","_revertReportDetailsName","generateSaveModal","open","isNewReport","loading","Modal","closeIcon","onClose","centered","content","Content","generateSaveModalContent","Actions","Button","disabled","Icon","handleChangeAutoOpen","isLoading","_this$props4","_this$props5","_this$state","text","label","names","multilingual","l","Form","Field","Label","handleChangeName","Dropdown","selection","defaultValue","Checkbox","toggle","checked","Divider","_this$props6","_updateReportDetailsName","_updateReportDetailsNameMultiLang","nextProps","nextState","nextContext","context","prevProps","prevState","snapshot","updateReportDetailsNameMultiLang","MENU","MainMenu","handleItemClick","index","setSaveModalOpen","isNew","saveModalOpen","_getLayout","_this2","saveNewReport","saveReport","fluid","vertical","active","logged","OptionsList","tooltip","isRequired","ColumnsSelector","handleHeaderClick","titleProps","activeIndex","includes","splice","findIndex","onItemClick","onColumnSelectionChange","handleCategoryTitleClick","wasChecked","categories","extractCategories","filter","category","k","stopPropagation","preventDefault","accordionActive","openSections","Set","add","from","showLoadingWhenEmpty","radio","noCategories","col","Math","random","bind","Accordion","styled","exclusive","cat","subList","subSelectedList","isChecked","Title","defaultChecked","htmlFor","ColumnSorter","reorder","list","startIndex","endIndex","_result$splice","removed","_slicedToArray","moveUp","onColumnSortChange","moveDown","getListStyle","isDraggingOver","background","padding","getItemStyle","isDragging","draggableStyle","userSelect","margin","onDragEnd","destination","source","newIndex","_assertThisInitialized","checkbox","keyPrefix","sortedColumns","DragDropContext","Droppable","droppableId","provided","droppableProps","ref","innerRef","Draggable","draggableId","provided_","snapshot_","draggableProps","dragHandleProps","InputWrapper","_React$Component","handleKeyDown","keyPress","keyEvent","onKeyDown","ColumnsSection","handleColumnSelection","selectedColumns","_updateColumnsSelected","indexOf","handleAvailableHierarchiesChange","hierarchy","forceUpdate","handleColumnSort","_updateColumnsSorting","_updateHierarchiesAvailable","hierarchiesOrder","_hierarchies","added","handleHierarchySort","deleted","handleHierarchySelection","_updateHierarchiesSelected","selectedHierarchies","_updateHierarchiesSorting","handleSearch","search","applySearch","handleReset","_resetColumnsSelected","initialColumns","_setInitialHierarchies","initialHierarchies","assign","_toConsumableArray","highlightColumns","_columns","toLowerCase","computer","tablet","Input","icon","Column","OptionsContent","radioList","checkList","changeRadioList","changeCheckList","selectedRadio","selectedCheckboxes","Group","Radio","FormField","ReportingDetailSection","selectTotalGrouping","_updateReportDetailsTotalGrouping","selectSummaryReport","_updateReportDetailsTotalsOnly","selectFundingGrouping","_ref2","_updateReportDetailsFundingGrouping","selectAllowEmptyFundingColumns","_updateReportDetailsAllowEmptyFundingColumns","selectSplitByFunding","_updateReportDetailsSplitByFunding","selectShowOriginalCurrencies","_updateReportDetailsShowOriginalCurrencies","selectAlsoShowPledges","_updateReportDetailsAlsoShowPledges","selectUseAboveFilters","_updateReportDetailsUseAboveFilters","changeDescription","_ref3","_updateReportDetailsDescription","getOptions","group","radios","option","renderDescriptionSection","_this$props7","TextArea","textAreaNode","renderGroupingSection","_this$props8","renderFundingSection","_this$props9","renderOptionsSection","_this$props10","_this$props11","showGroupingSection","MeasuresSection","handleMeasureSelection","_updateMeasuresSelected","selectedMeasures","handleAvailableMeasuresChange","handleMeasureSort","_updateMeasuresSorting","_resetMeasuresSelected","initialMeasures","measuresOrder","_measures","NavigationButtons","setEnabledOrDisabledButtons","backClick","nextClick","status","ButtonGroup","floated","positive","PreviewSection","renderReport","dangerouslySetInnerHTML","__html","previewLoading","previewLoaded","previewError","MainContent","handleMenuClick","visibleTab","handleNavButtonBack","handleNavButtonNext","_updatePreviewId","_getPreview","merged","md5","JSON","stringify","newId","s","h","imul","charCodeAt","javaHashCode","year","Date","getFullYear","dateFilter","date","start","end","add_columns","add_measures","page","recordsPerPage","add_hierarchies","reportType","show_empty_rows","show_original_currency","updatePreviewId","toggleIcon","toggler","getElementsByClassName","getAttribute","setAttribute","addEventListener","parentElement","querySelector","classList","Filter","require","Filters","showFilterWidget","show","showFilters","hideFilters","applyFilters","onApplyFilters","_updateAppliedFilters","_updateIncludeLocationWithChildren","serialized","serialize","getAppliedFilters","returnHTML","toggleAppliedFilters","showFiltersList","filterLoaded","_getMetadata","draggable","caller","on","setElement","refs","filterPopup","_filters","deserialize","silent","html_","removeEventListener","appliedSectionChange","appliedSectionOpen","Loader","inline","display","SettingsWidget","widget","Settings","applySettings","onApplySettings","_updateAppliedSettings","hideSettings","changed","toggleSettings","_fetchGlobalSettings","el","isPopup","definitionUrl","settingsPopup","gs","reportGs","numberFormat","code","rangeFrom","rangeTo","to","floor","Number","yearRange","extractSettings","restoreFromSaved","borderColor","FiltersAndSettings","handleSettingsChange","appliedSettingsOpen","handleFiltersChange","filter_","appliedFiltersOpen","handleApplySettings","generateAppliedSettings","generateAppliedFilters","Segment","mobile","ReportGeneratorHome","commonReport","isDynamic","_save","response","processAfterSave","_saveNew","_runReport","errors","trnLabel","showChildren","_fetchReport","_updateProfile","_updateId","_setColumnsData","_setMeasuresData","_setHierarchiesData","_fetchLanguages","_markExistingReportSanitized","storedSearchParams","urlParams","searchParams","URLSearchParams","typeFromURL","get","profileFromURL","reportMetadata","apiMetaData","sanitizedSelectedColumns","sanitizedSelectedMeasures","sanitizedHierarchies","_hierarchiesOrder","canLoadChildren","layoutLoaded","Container","withRouter","ReportGeneratorRouter","Routes","Route","path","exact","element","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","ReportGeneratorApp","createStore","rootReducer","applyMiddleware","thunk","ZERO","ONE","NEGATIVE_ONE","FLAGS_DIRECTORY","DASHBOARD_DEFAULT_MIN_YEAR_RANGE","DASHBOARD_DEFAULT_MAX_YEAR_RANGE","API_FILTERS_SECTORS_URL","API_FILTERS_COUNTRIES_URL","API_AMP_SETTINGS_URL","API_FILTERS_MODALITIES_URL","API_SSC_DASHBOARD_URL","API_XLS_REPORT_URL","API_REPORTS_ACTIVITY_DETAIL_URL","BOOTSTRAP_COLUMNS_COUNT","NON_SELECTED_LINE_COLOR","NON_SELECTED_BUBBLE_COLOR","SELECTED_LINE_COLOR","SELECTED_BUBBLE_COLOR","PNG_FORMAT","PROJECT_LENGTH_HOME_PAGE","UNDEFINED_FILTER","FLAGS_TO_SHOW_DEFAULT","FLAGS_TO_SHOW_SMALL","FLAGS_TO_SHOW_SMALL_WIDTH_THRESHOLD","SECTORS_LIMIT_CHART","SECTORS_OTHERS_ID_CHART","DEFAULT_SCREEN_SIZE","DEFAULT_ELLIPSIS","SECTOR_MODALITY_MIN_SIZE","SECTOR_MODALITY_LEADING_LEFT","WS_PREFIX","HOME_CHART","SECTORS_CHART","MODALITY_CHART","DOWNLOAD_CHART","COUNTRY_COLUMN","FALLBACK_FLAG","OTHERS_CODE","FILTER_PRIMARY_SECTOR","FILTER_SSC_MODALITIES","FILTER_DONOR_AGENCY_COUNTRY","SECTOR_COLOR_MAP","Map","MODALITIES_COLOR_MAP","COLOR_MAP_CUSTOM","COLOR_MAP","fetchTranslationsPending","loadTranslations","trnPack","fetchTranslationsSuccess","fetchTranslationsError","FETCH_TRANSLATIONS_PENDING","FETCH_TRANSLATIONS_SUCCESS","FETCH_TRANSLATIONS_ERROR","role","memo","navigate","useNavigate","useLocation","params","useParams","_useSearchParams","useSearchParams","_useSearchParams2","setSearchParams","useEffect","storedParams","localStorage","getItem","split","param","_param$split","_param$split2","extractSearchParams","_location","POST","GET","getRequestOptions","requestOptions","method","resolve","reject","fetch","json","contentType","Error"],"sourceRoot":""}