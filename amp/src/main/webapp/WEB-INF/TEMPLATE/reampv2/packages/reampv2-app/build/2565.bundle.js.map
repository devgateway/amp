{"version":3,"file":"2565.bundle.js","mappings":"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","sources":["modules/admin/ndd/actions/settingsAction.js","modules/admin/ndd/actions/fetchSettings.js","modules/admin/ndd/constants/Constants.jsx","modules/admin/ndd/actions/startupAction.js","modules/admin/ndd/reducers/startupReducer.js","modules/admin/ndd/actions/saveAction.js","modules/admin/ndd/reducers/saveNDDReducer.js","modules/admin/ndd/actions/updateActivitiesAction.js","modules/admin/ndd/reducers/updateActivitiesReducer.js","modules/admin/ndd/reducers/rootReducer.js","modules/admin/ndd/components/Startup.jsx","modules/admin/ndd/actions/fetchNDD.js","modules/admin/ndd/actions/fetchAvailablePrograms.js","modules/admin/ndd/actions/layoutAction.js","modules/admin/ndd/actions/fetchLayout.js","modules/admin/ndd/components/common/RequiredMark.jsx","modules/admin/ndd/components/Select.jsx","modules/admin/ndd/utils/Utils.jsx","modules/admin/ndd/components/ProgramSelectGroup.jsx","modules/admin/ndd/components/ProgramSelectGroupRow.jsx","modules/admin/ndd/components/common/HelpTooltip.jsx","modules/admin/ndd/components/ProgramSelectGroupList.jsx","modules/admin/ndd/components/Header.jsx","modules/admin/ndd/actions/saveNDD.js","modules/admin/ndd/actions/updateActivities.js","modules/admin/ndd/components/Notifications.jsx","modules/admin/ndd/components/ProgramsHeader.jsx","modules/admin/ndd/components/FormPrograms.jsx","modules/admin/ndd/components/common/BlockUI.jsx","modules/admin/ndd/components/Main.jsx","modules/admin/ndd/indirect/index.js","modules/admin/ndd/program/index.js","modules/admin/ndd/components/NDDAdminNavigator.jsx","modules/admin/ndd/index.js","modules/sscdashboard/utils/constants.js","utils/actions/fetchTranslations.js","utils/actions/translationsActions.js","utils/components/Loading.jsx","utils/loadTranslations.js","utils/reducers/translationsReducer.js","../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../../node_modules/@babel/runtime/helpers/esm/createSuper.js","../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../../node_modules/@babel/runtime/helpers/esm/inherits.js","../../../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../../../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../../../node_modules/@babel/runtime/helpers/esm/typeof.js"],"sourcesContent":["export const FETCH_SETTINGS_PENDING = 'FETCH_SETTINGS_PENDING';\nexport const FETCH_SETTINGS_SUCCESS = 'FETCH_SETTINGS_SUCCESS';\nexport const FETCH_SETTINGS_ERROR = 'FETCH_SETTINGS_ERROR';\n\nexport function fetchSettingsPending() {\n  return {\n    type: FETCH_SETTINGS_PENDING\n  };\n}\n\nexport function fetchSettingsSuccess(layout) {\n  return {\n    type: FETCH_SETTINGS_SUCCESS,\n    payload: layout\n  };\n}\nexport function fetchSettingsError(error) {\n  return {\n    type: FETCH_SETTINGS_ERROR,\n    error\n  };\n}\n","import { fetchSettingsSuccess, fetchSettingsPending, fetchSettingsError } from './settingsAction';\nimport { SETTINGS_EP } from '../constants/Constants';\n\nfunction fetchSettings() {\n  return dispatch => {\n    dispatch(fetchSettingsPending());\n    return fetch(SETTINGS_EP)\n      .then(res => res.json())\n      .then(res => {\n        if (res.error) {\n          throw (res.error);\n        }\n        dispatch(fetchSettingsSuccess(res));\n        return res;\n      })\n      .catch(error => {\n        dispatch(fetchSettingsError(error));\n      });\n  };\n}\n\nexport default fetchSettings;\n","export const SRC_PROGRAM = 'src-program';\nexport const DST_PROGRAM = 'dst-program';\nexport const ALL_PROGRAMS = 'all-programs';\nexport const PROGRAM_MAPPING = 'program-mapping';\nexport const PROGRAM = '-program';\nexport const VALUE = 'value';\nexport const CHILDREN = 'children';\nexport const FIRST_LEVEL = 2;\nexport const SECOND_LEVEL = 3;\nexport const THIRD_LEVEL = 4;\nexport const STATE_LEVEL_FIELD = 'srcLvl';\nexport const TYPE_SRC = 'src';\nexport const TYPE_DST = 'dst';\nexport const LAYOUT_EP = '/rest/security/layout';\nexport const SETTINGS_EP = '/rest/amp/settings';\nexport const UPDATE_ACTIVITIES_EP = '/rest/activity/updateMappings/async';\n","export const FETCH_NDD_PENDING = 'FETCH_NDD_PENDING';\nexport const FETCH_NDD_SUCCESS = 'FETCH_NDD_SUCCESS';\nexport const FETCH_NDD_ERROR = 'FETCH_NDD_ERROR';\nexport const FETCH_PROGRAMS_PENDING = 'FETCH_PROGRAMS_PENDING';\nexport const FETCH_PROGRAMS_SUCCESS = 'FETCH_PROGRAMS_SUCCESS';\nexport const FETCH_PROGRAMS_ERROR = 'FETCH_PROGRAMS_ERROR';\n\nexport function fetchNDDPending() {\n  return {\n    type: FETCH_NDD_PENDING\n  };\n}\n\nexport function fetchNDDSuccess(ndd) {\n  return {\n    type: FETCH_NDD_SUCCESS,\n    payload: ndd\n  };\n}\nexport function fetchNDDError(error) {\n  return {\n    type: FETCH_NDD_ERROR,\n    error\n  };\n}\n\nexport function fetchProgramsPending() {\n  return {\n    type: FETCH_PROGRAMS_PENDING\n  };\n}\n\nexport function fetchProgramsSuccess(programs) {\n  return {\n    type: FETCH_PROGRAMS_SUCCESS,\n    payload: programs\n  };\n}\nexport function fetchProgramsError(error) {\n  return {\n    type: FETCH_PROGRAMS_ERROR,\n    error\n  };\n}\n","import {\n  FETCH_NDD_PENDING,\n  FETCH_NDD_SUCCESS,\n  FETCH_NDD_ERROR,\n  FETCH_PROGRAMS_ERROR,\n  FETCH_PROGRAMS_PENDING,\n  FETCH_PROGRAMS_SUCCESS\n} from '../actions/startupAction';\n\nconst initialState = {\n  pendingNDD: false,\n  pendingPrograms: false,\n  NDDs: [],\n  error: null,\n  programs: []\n};\n\nexport default function startupReducer(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_NDD_PENDING:\n      return {\n        ...state,\n        pendingNDD: true\n      };\n    case FETCH_NDD_SUCCESS:\n      return {\n        ...state,\n        pendingNDD: false,\n        NDDs: action.payload\n      };\n    case FETCH_NDD_ERROR:\n      return {\n        ...state,\n        pendingNDD: false,\n        error: action.error\n      };\n    case FETCH_PROGRAMS_PENDING:\n      return {\n        ...state,\n        pendingPrograms: true\n      };\n    case FETCH_PROGRAMS_SUCCESS:\n      return {\n        ...state,\n        pendingPrograms: false,\n        programs: action.payload\n      };\n    case FETCH_PROGRAMS_ERROR:\n      return {\n        ...state,\n        pendingPrograms: false,\n        error: action.error\n      };\n    default:\n      return state;\n  }\n}\n\nexport const getNDD = state => state.NDDs;\nexport const getNDDPending = state => state.pendingNDD;\nexport const getNDDError = state => state.error;\n\nexport const getPrograms = state => state.programs;\nexport const getProgramsPending = state => state.pendingPrograms;\nexport const getProgramsError = state => state.error;\n","export const SAVE_NDD_PENDING = 'SAVE_NDD_PENDING';\nexport const SAVE_NDD_SUCCESS = 'SAVE_NDD_SUCCESS';\nexport const SAVE_NDD_ERROR = 'SAVE_NDD_ERROR';\n\nexport function saveNDDPending() {\n  return {\n    type: SAVE_NDD_PENDING\n  };\n}\n\nexport function saveNDDSuccess(ndd) {\n  return {\n    type: SAVE_NDD_SUCCESS,\n    payload: ndd\n  };\n}\n\nexport function saveNDDError(error) {\n  return {\n    type: SAVE_NDD_ERROR,\n    error\n  };\n}\n","import { SAVE_NDD_PENDING, SAVE_NDD_SUCCESS, SAVE_NDD_ERROR } from '../actions/saveAction';\n\nconst initialState = {\n  saving: false,\n  NDDs: [],\n  error: null\n};\n\nexport default function sendNDDReducer(state = initialState, action) {\n  switch (action.type) {\n    case SAVE_NDD_PENDING:\n      return {\n        ...state,\n        saving: true\n      };\n    case SAVE_NDD_SUCCESS:\n      return {\n        ...state,\n        saving: false,\n        data: action.payload\n      };\n    case SAVE_NDD_ERROR:\n      return {\n        ...state,\n        saving: false,\n        error: action.error\n      };\n    default:\n      return state;\n  }\n}\n\nexport const sendNDD = state => state.data;\nexport const sendNDDPending = state => state.saving;\nexport const sendNDDError = state => state.error;\nexport const sendNDDSaving = state => state.saving;\n\n","export const UPDATE_ACTIVITIES_PENDING = 'UPDATE_ACTIVITIES_PENDING';\nexport const UPDATE_ACTIVITIES_SUCCESS = 'UPDATE_ACTIVITIES_SUCCESS';\nexport const UPDATE_ACTIVITIES_ERROR = 'UPDATE_ACTIVITIES_ERROR';\nexport const INVOKE_ACTIVITIES_SUCCESS = 'INVOKE_ACTIVITIES_SUCCESS';\n\nexport function updateActivitiesPending() {\n  return {\n    type: UPDATE_ACTIVITIES_PENDING\n  };\n}\n\nexport function invokeUpdateActivities() {\n  return {\n    type: INVOKE_ACTIVITIES_SUCCESS\n  };\n}\nexport function updateActivitiesSuccess() {\n  return {\n    type: UPDATE_ACTIVITIES_SUCCESS\n  };\n}\n\nexport function updateActivitiesError(error) {\n  return {\n    type: UPDATE_ACTIVITIES_ERROR,\n    error\n  };\n}\n","import {\n  UPDATE_ACTIVITIES_PENDING, UPDATE_ACTIVITIES_SUCCESS, UPDATE_ACTIVITIES_ERROR, INVOKE_ACTIVITIES_SUCCESS\n}\n  from '../actions/updateActivitiesAction';\n\nconst initialState = {\n  updating: false,\n  error: null,\n  indirectProgramUpdatePending: false\n};\n\nexport default function updateActivitiesReducer(state = initialState, action) {\n  switch (action.type) {\n    case UPDATE_ACTIVITIES_PENDING:\n      return {\n        ...state,\n        updating: true,\n        error: null\n      };\n    case INVOKE_ACTIVITIES_SUCCESS:\n      return {\n        ...state,\n        updating: false,\n        error: null,\n        indirectProgramUpdatePending: true\n      };\n    case UPDATE_ACTIVITIES_SUCCESS: {\n      return {\n        ...state,\n        indirectProgramUpdatePending: false\n      };\n    }\n    case UPDATE_ACTIVITIES_ERROR:\n      return {\n        ...state,\n        updating: false,\n        error: action.error.msg,\n        indirectProgramUpdatePending: false\n      };\n    default:\n      return state;\n  }\n}\n\nexport const updateActivities = state => state;\nexport const updateActivitiesPending = state => state.updating;\nexport const updateActivitiesError = state => state.error;\n","import { combineReducers } from 'redux';\nimport startupReducer from './startupReducer';\nimport saveNDDReducer from './saveNDDReducer';\nimport translationsReducer from '../../../../utils/reducers/translationsReducer';\nimport updateActivitiesReducer from './updateActivitiesReducer';\n\nexport default combineReducers({\n  startupReducer,\n  translationsReducer,\n  saveNDDReducer,\n  updateActivitiesReducer\n});\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport fetchTranslations from '../../../../utils/actions/fetchTranslations';\nimport { Loading } from '../../../../utils/components/Loading';\n\nexport const NDDContext = React.createContext();\n\n/**\n * Component used to load everything we need before launching the APP\n * TODO check if we should abstract it to a Load Translations component to avoid copy ^\n */\nclass Startup extends Component {\n  componentDidMount() {\n    const { defaultTrnPack, _fetchTranslations } = this.props;\n    _fetchTranslations(defaultTrnPack);\n  }\n\n  render() {\n    const {\n      children, translations, translationPending, api\n    } = this.props;\n    if (translationPending) {\n      return (<Loading />);\n    } else {\n      document.title = translations['amp.admin.ndd:page-title'];\n      return (\n        <NDDContext.Provider value={{ translations, api }}>\n          {children}\n        </NDDContext.Provider>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = state => ({\n  translationPending: state.translationsReducer.pending,\n  translations: state.translationsReducer.translations\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({ _fetchTranslations: fetchTranslations }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Startup);\n\nStartup.propTypes = {\n  translationPending: PropTypes.bool.isRequired,\n  translations: PropTypes.object.isRequired,\n  children: PropTypes.object.isRequired,\n  _fetchTranslations: PropTypes.func.isRequired,\n  api: PropTypes.object.isRequired,\n  defaultTrnPack: PropTypes.object.isRequired,\n};\n","import { fetchNDDSuccess, fetchNDDPending, fetchNDDError } from './startupAction';\n\nfunction fetchNDD(url) {\n  return dispatch => {\n    dispatch(fetchNDDPending());\n    fetch(url)\n      .then(res => res.json())\n      .then(res => {\n        if (res.error) {\n          throw (res.error);\n        }\n        dispatch(fetchNDDSuccess(res));\n        return res;\n      })\n      .catch(error => {\n        dispatch(fetchNDDError(error));\n      });\n  };\n}\n\nexport default fetchNDD;\n","import { fetchProgramsSuccess, fetchProgramsPending, fetchProgramsError } from './startupAction';\n\nfunction fetchPrograms(url) {\n  return dispatch => {\n    dispatch(fetchProgramsPending());\n    fetch(url)\n      .then(res => res.json())\n      .then(res => {\n        if (res.error) {\n          throw (res.error);\n        }\n        dispatch(fetchProgramsSuccess(res));\n        return res;\n      })\n      .catch(error => {\n        dispatch(fetchProgramsError(error));\n      });\n  };\n}\n\nexport default fetchPrograms;\n","export const FETCH_LAYOUT_PENDING = 'FETCH_LAYOUT_PENDING';\nexport const FETCH_LAYOUT_SUCCESS = 'FETCH_LAYOUT_SUCCESS';\nexport const FETCH_LAYOUT_ERROR = 'FETCH_LAYOUT_ERROR';\nexport const FETCH_PROGRAMS_PENDING = 'FETCH_PROGRAMS_PENDING';\nexport const FETCH_PROGRAMS_SUCCESS = 'FETCH_PROGRAMS_SUCCESS';\nexport const FETCH_PROGRAMS_ERROR = 'FETCH_PROGRAMS_ERROR';\n\nexport function fetchLayoutPending() {\n  return {\n    type: FETCH_LAYOUT_PENDING\n  };\n}\n\nexport function fetchLayoutSuccess(layout) {\n  return {\n    type: FETCH_LAYOUT_SUCCESS,\n    payload: layout\n  };\n}\nexport function fetchLayoutError(error) {\n  return {\n    type: FETCH_LAYOUT_ERROR,\n    error\n  };\n}\n\nexport function fetchProgramsPending() {\n  return {\n    type: FETCH_PROGRAMS_PENDING\n  };\n}\n\nexport function fetchProgramsSuccess(programs) {\n  return {\n    type: FETCH_PROGRAMS_SUCCESS,\n    payload: programs\n  };\n}\nexport function fetchProgramsError(error) {\n  return {\n    type: FETCH_PROGRAMS_ERROR,\n    error\n  };\n}\n","import { fetchLayoutSuccess, fetchLayoutPending, fetchLayoutError } from './layoutAction';\nimport { LAYOUT_EP } from '../constants/Constants';\n\nfunction fetchLayout() {\n  return dispatch => {\n    dispatch(fetchLayoutPending());\n    return fetch(LAYOUT_EP)\n      .then(res => res.json())\n      .then(res => {\n        if (res.error) {\n          throw (res.error);\n        }\n        dispatch(fetchLayoutSuccess(res));\n        return res;\n      })\n      .catch(error => {\n        dispatch(fetchLayoutError(error));\n      });\n  };\n}\n\nexport default fetchLayout;\n","import React, { Component } from 'react';\n\n// eslint-disable-next-line no-unused-vars\nimport styles from '../css/style.css';\n\nexport default class RequiredMark extends Component {\n  render() {\n    return <span className=\"required-fields\"> *</span>;\n  }\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Typeahead } from 'react-bootstrap-typeahead';\nimport PropTypes from 'prop-types';\nimport { NDDContext } from './Startup';\nimport './css/Typeahead.css';\nimport './css/style.css';\nimport RequiredMark from './common/RequiredMark';\n\nclass Select extends Component {\n  constructor(props) {\n    super(props);\n    this.drawSelector = this.drawSelector.bind(this);\n  }\n\n  onChangeSelect(selected) {\n    const { onChange, level } = this.props;\n    onChange(selected, level);\n  }\n\n  drawSelector() {\n    const {\n      options, placeholder, selected, disabled\n    } = this.props;\n    const { translations, trnPrefix } = this.context;\n    const isValid = (selected && selected.length === 1);\n    const sortedOptions = options ? options.sort((a, b) => a.value.localeCompare(b.value)) : [];\n    return (\n      <Typeahead\n        id=\"basic-typeahead-single\"\n        labelKey=\"value\"\n        className={!isValid ? 'is-invalid' : ''}\n        options={sortedOptions || []}\n        clearButton\n        onChange={this.onChangeSelect.bind(this)}\n        selected={selected}\n        placeholder={placeholder}\n        disabled={disabled}\n        emptyLabel={translations[`${trnPrefix}no-matches-found`]}\n      />\n    );\n  }\n\n  render() {\n    const { label } = this.props;\n    return (\n      <div>\n        <span>{label}</span>\n        <RequiredMark />\n        {this.drawSelector()}\n      </div>\n    );\n  }\n}\n\nSelect.contextType = NDDContext;\n\nSelect.propTypes = {\n  options: PropTypes.array.isRequired,\n  label: PropTypes.string.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  selected: PropTypes.array,\n  onChange: PropTypes.func.isRequired,\n  level: PropTypes.number.isRequired,\n  disabled: PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations\n});\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\nexport default connect(mapStateToProps, mapDispatchToProps)(Select);\n","import {\n  CHILDREN, DST_PROGRAM, SRC_PROGRAM, ALL_PROGRAMS, TYPE_SRC, TYPE_DST\n} from '../constants/Constants';\n\n/**\n * id can be lvl1, lvl2 or lvl3.\n * @param id\n * @param ndd\n * @level level\n * @returns {{lvl2: {}, lvl3, lvl1: {}}}\n */\nexport function findProgramInTree(id, ndd, level) {\n  const lvl1 = {};\n  const lvl2 = {};\n  let lvl3 = {};\n  ndd[ALL_PROGRAMS].forEach(p => {\n    if (p[CHILDREN]) {\n      if (level === 1) {\n        const l1 = p[CHILDREN].find(l2 => l2.id === id);\n        if (l1) {\n          lvl1.id = l1.id;\n          lvl1.value = l1.value;\n        }\n      } else {\n        p[CHILDREN].forEach(l1 => {\n          if (l1[CHILDREN]) {\n            if (level === 2) {\n              const l2 = l1[CHILDREN].find(l3 => l3.id === id);\n              if (l2) {\n                lvl2.id = l2.id;\n                lvl2.value = l2.value;\n                lvl1.id = l1.id;\n                lvl1.value = l1.value;\n              }\n            } else {\n              l1[CHILDREN].forEach(l2 => {\n                if (l2[CHILDREN]) {\n                  const l3 = l2[CHILDREN].find(l4 => l4.id === id);\n                  if (l3) {\n                    lvl3 = l3;\n                    lvl2.id = l2.id;\n                    lvl2.value = l2.value;\n                    lvl1.id = l1.id;\n                    lvl1.value = l1.value;\n                  }\n                }\n              });\n            }\n          }\n        });\n      }\n    }\n  });\n  return { lvl1, lvl2, lvl3 };\n}\n\nexport function findFullProgramTree(ndd, type, src, dst) {\n  let tree = null;\n  if (ndd && ndd[ALL_PROGRAMS] && (src || dst)) {\n    if (type === TYPE_SRC) {\n      tree = ndd[ALL_PROGRAMS].find(p => p.id === src.id);\n    } else if (type === TYPE_DST) {\n      tree = ndd[ALL_PROGRAMS].find(p => p.id === dst.id);\n    }\n  }\n  return tree;\n}\n\nexport function validate(data, level) {\n  // TODO add levellsrc and leveldst should be the same number\n  let ret = 0;\n  if (data && data.length > 0) {\n    data.every(pair => {\n      if (!pair[SRC_PROGRAM][`lvl${level}`] || !pair[DST_PROGRAM][`lvl${level}`]) {\n        ret = 1; // missing value error.\n        return false;\n      } else {\n        const arrayFound = data.filter(toFind => (\n          (toFind[SRC_PROGRAM].lvl1.id === pair[SRC_PROGRAM].lvl1.id\n            && toFind[DST_PROGRAM].lvl1.id === pair[DST_PROGRAM].lvl1.id)\n          && (\n            level === 1 ? true\n              : (toFind[SRC_PROGRAM].lvl2.id === pair[SRC_PROGRAM].lvl2.id\n              && toFind[DST_PROGRAM].lvl2.id === pair[DST_PROGRAM].lvl2.id))\n          && (\n            level < 3 ? true\n              : (toFind[SRC_PROGRAM].lvl3.id === pair[SRC_PROGRAM].lvl3.id\n              && toFind[DST_PROGRAM].lvl3.id === pair[DST_PROGRAM].lvl3.id))\n        ));\n        if (arrayFound.length > 1) {\n          ret = 7;\n          return false;\n        }\n      }\n      return true;\n    });\n  }\n  return ret;\n}\n\nexport function validateMainPrograms(src, dst, level) {\n  let ret = 0;\n  if (src || dst) {\n    if (!src) {\n      ret = 3;\n    } else if (!dst) {\n      ret = 4;\n    } else if (src.id === dst.id) {\n      ret = 5;\n    }\n  }\n  if ((level <= 0 || Number.isNaN(level)) && (src || dst)) {\n    ret = 6;\n  }\n  return ret;\n}\n","/* eslint-disable react/destructuring-assignment */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { NDDContext } from './Startup';\nimport {\n  CHILDREN, FIRST_LEVEL, PROGRAM, SECOND_LEVEL, STATE_LEVEL_FIELD, THIRD_LEVEL\n} from '../constants/Constants';\nimport 'react-bootstrap-typeahead/css/Typeahead.min.css';\nimport './css/style.css';\nimport Select from './Select';\nimport * as Utils from '../utils/Utils';\n\nclass ProgramSelectGroup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      [STATE_LEVEL_FIELD + FIRST_LEVEL]: undefined,\n      [STATE_LEVEL_FIELD + SECOND_LEVEL]: undefined,\n      [STATE_LEVEL_FIELD + THIRD_LEVEL]: undefined\n    };\n    this.onSelectChange = this.onSelectChange.bind(this);\n    this.getOptionsForLevel = this.getOptionsForLevel.bind(this);\n    this.getSelectedForLevel = this.getSelectedForLevel.bind(this);\n  }\n\n  componentDidMount() {\n    const { data, type } = this.props;\n    if (data && data[type + PROGRAM]) {\n      const newState = {\n        id: data.id,\n        [STATE_LEVEL_FIELD + FIRST_LEVEL]: data[type + PROGRAM].lvl1,\n        [STATE_LEVEL_FIELD + SECOND_LEVEL]: data[type + PROGRAM].lvl2,\n        [STATE_LEVEL_FIELD + THIRD_LEVEL]: data[type + PROGRAM].lvl3\n      };\n      // eslint-disable-next-line react/no-did-mount-set-state\n      this.setState(newState);\n    }\n  }\n\n  onSelectChange(selected, lvl) {\n    const { onChange, type, data } = this.props;\n    let id = null;\n    let value = null;\n    if (selected && selected[0] && selected[0].id) {\n      id = selected[0].id;\n      value = selected[0].value;\n    }\n    let level1 = this.state[STATE_LEVEL_FIELD + FIRST_LEVEL];\n    let level2 = this.state[STATE_LEVEL_FIELD + SECOND_LEVEL];\n    let level3 = this.state[STATE_LEVEL_FIELD + THIRD_LEVEL];\n    // eslint-disable-next-line default-case\n    switch (lvl) {\n      case FIRST_LEVEL:\n        if (id && value) {\n          level1 = { id, value };\n          this.setState({ [STATE_LEVEL_FIELD + FIRST_LEVEL]: level1 });\n        } else {\n          level1 = undefined;\n          this.setState({ [STATE_LEVEL_FIELD + FIRST_LEVEL]: level1 });\n        }\n        level2 = undefined;\n        level3 = undefined;\n        this.setState({ [STATE_LEVEL_FIELD + SECOND_LEVEL]: level2 });\n        this.setState({ [STATE_LEVEL_FIELD + THIRD_LEVEL]: level3 });\n        break;\n      case SECOND_LEVEL:\n        if (id && value) {\n          level2 = { id, value };\n          this.setState({ [STATE_LEVEL_FIELD + SECOND_LEVEL]: level2 });\n        } else {\n          level2 = undefined;\n          this.setState({ [STATE_LEVEL_FIELD + SECOND_LEVEL]: level2 });\n        }\n        level3 = undefined;\n        this.setState({ [STATE_LEVEL_FIELD + THIRD_LEVEL]: level3 });\n        break;\n      case THIRD_LEVEL:\n        if (id && value) {\n          level3 = { id, value };\n          this.setState({ [STATE_LEVEL_FIELD + THIRD_LEVEL]: level3 });\n        } else {\n          level3 = undefined;\n          this.setState({ [STATE_LEVEL_FIELD + THIRD_LEVEL]: level3 });\n        }\n        break;\n    }\n    onChange(level1, level2, level3, type, data.id);\n  }\n\n  getOptionsForLevel(level) {\n    const { ndd } = this.context;\n    const { type, src, dst } = this.props;\n    let options = [];\n    const tree = Utils.findFullProgramTree(ndd, type, src, dst);\n    // eslint-disable-next-line default-case\n    switch (level) {\n      case FIRST_LEVEL:\n        if (tree && tree[CHILDREN]) {\n          options = tree[CHILDREN].map(i => ({ id: i.id, value: i.value }));\n        }\n        break;\n      case SECOND_LEVEL:\n        if (tree && tree[CHILDREN]) {\n          if (this.state[STATE_LEVEL_FIELD + FIRST_LEVEL] && tree[CHILDREN]) {\n            const obj = tree[CHILDREN]\n              .find(i => this.state[STATE_LEVEL_FIELD + FIRST_LEVEL]\n                && i.id === this.state[STATE_LEVEL_FIELD + FIRST_LEVEL].id);\n            if (obj) {\n              options = obj[CHILDREN];\n            }\n          }\n        }\n        break;\n      case THIRD_LEVEL:\n        if (tree && tree[CHILDREN]) {\n          if (this.state[STATE_LEVEL_FIELD + SECOND_LEVEL] && tree[CHILDREN]) {\n            const obj1 = tree[CHILDREN].find(i => this.state[STATE_LEVEL_FIELD + FIRST_LEVEL]\n                && i.id === this.state[STATE_LEVEL_FIELD + FIRST_LEVEL].id);\n            if (obj1) {\n              const obj2 = obj1[CHILDREN].find(i => this.state[STATE_LEVEL_FIELD + SECOND_LEVEL]\n                && i.id === this.state[STATE_LEVEL_FIELD + SECOND_LEVEL].id);\n              if (obj2) {\n                options = obj2[CHILDREN];\n              }\n            }\n          }\n        }\n        break;\n    }\n    return options;\n  }\n\n  getSelectedForLevel(level) {\n    const selected = [];\n    const { state } = this;\n    // eslint-disable-next-line default-case\n    switch (level) {\n      case FIRST_LEVEL:\n        if (state[STATE_LEVEL_FIELD + FIRST_LEVEL]) {\n          selected.push({\n            id: state[STATE_LEVEL_FIELD + FIRST_LEVEL].id,\n            value: state[STATE_LEVEL_FIELD + FIRST_LEVEL].value\n          });\n        }\n        break;\n      case SECOND_LEVEL:\n        if (state[STATE_LEVEL_FIELD + SECOND_LEVEL]) {\n          selected.push({\n            id: state[STATE_LEVEL_FIELD + SECOND_LEVEL].id,\n            value: state[STATE_LEVEL_FIELD + SECOND_LEVEL].value\n          });\n        }// todo: ver q pasa cuando el level es 3 pero solo tengo 2 niveles.\n        break;\n      case THIRD_LEVEL:\n        if (state[STATE_LEVEL_FIELD + THIRD_LEVEL]) {\n          selected.push({\n            id: state[STATE_LEVEL_FIELD + THIRD_LEVEL].id,\n            value: state[STATE_LEVEL_FIELD + THIRD_LEVEL].value\n          });\n        } else {\n          // Auto-select when there is only 1 option available.\n          const options = this.getOptionsForLevel(THIRD_LEVEL);\n          if (options && options.length === 1) {\n            selected.push({\n              id: options[0].id,\n              value: options[0].value\n            });\n            this.onSelectChange(selected, level);\n          }\n        }\n        break;\n    }\n    return selected;\n  }\n\n  render() {\n    const { translations, trnPrefix } = this.context;\n    const { type, disabled, level } = this.props;\n    return (\n      <div>\n        <div style={{ width: '100%' }}>\n          {level >= 1 ? (\n            <Select\n              placeholder={translations[`${trnPrefix}choose-${type}-lvl-${FIRST_LEVEL}`]}\n              label={translations[`${trnPrefix + type}-program-lvl-${FIRST_LEVEL}`]}\n              options={this.getOptionsForLevel(FIRST_LEVEL)}\n              selected={this.getSelectedForLevel(FIRST_LEVEL)}\n              onChange={this.onSelectChange}\n              level={FIRST_LEVEL}\n              disabled={disabled} />\n          ) : null}\n          {level >= 2 ? (\n            <Select\n              placeholder={translations[`${trnPrefix}choose-${type}-lvl-${SECOND_LEVEL}`]}\n              label={translations[`${trnPrefix + type}-program-lvl-${SECOND_LEVEL}`]}\n              options={this.getOptionsForLevel(SECOND_LEVEL)}\n              selected={this.getSelectedForLevel(SECOND_LEVEL)}\n              onChange={this.onSelectChange}\n              level={SECOND_LEVEL}\n              disabled={disabled} />\n          ) : null}\n          {level >= 3 ? (\n            <Select\n              placeholder={translations[`${trnPrefix}choose-${type}-lvl-${THIRD_LEVEL}`]}\n              label={translations[`${trnPrefix + type}-program-lvl-${THIRD_LEVEL}`]}\n              options={this.getOptionsForLevel(THIRD_LEVEL)}\n              selected={this.getSelectedForLevel(THIRD_LEVEL)}\n              onChange={this.onSelectChange}\n              level={THIRD_LEVEL}\n              disabled={disabled} />\n          ) : null}\n        </div>\n      </div>\n    );\n  }\n}\n\nProgramSelectGroup.propTypes = {\n  type: PropTypes.string.isRequired,\n  data: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired,\n  src: PropTypes.object,\n  dst: PropTypes.object,\n  disabled: PropTypes.bool.isRequired,\n  level: PropTypes.number.isRequired\n};\n\nProgramSelectGroup.defaultProps = {\n  src: undefined,\n  dst: undefined\n};\n\nProgramSelectGroup.contextType = NDDContext;\n// eslint-disable-next-line no-unused-vars\nconst mapStateToProps = state => ({});\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\nexport default connect(mapStateToProps, mapDispatchToProps)(ProgramSelectGroup);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { NDDContext } from './Startup';\nimport './css/style.css';\nimport ProgramSelectGroup from './ProgramSelectGroup';\nimport { TYPE_DST, TYPE_SRC } from '../constants/Constants';\n\nclass ProgramSelectGroupRow extends Component {\n  render() {\n    const {\n      rowData, onChange, remove, src, dst, disabled, level\n    } = this.props;\n    return (\n      <tr>\n        <td>\n          <ProgramSelectGroup\n            type={TYPE_SRC}\n            data={rowData}\n            onChange={onChange}\n            src={src}\n            dst={dst}\n            level={level}\n            disabled={disabled} />\n        </td>\n        <td>\n          <ProgramSelectGroup\n            type={TYPE_DST}\n            data={rowData}\n            onChange={onChange}\n            src={src}\n            dst={dst}\n            level={level}\n            disabled={disabled} />\n        </td>\n        <td className=\"actions-column\">\n          {!disabled ? (\n            <span\n              className=\"glyphicon glyphicon-custom glyphicon-remove-sign clickable\"\n              onClick={() => remove(rowData)} />\n          ) : null}\n        </td>\n      </tr>\n    );\n  }\n}\n\nProgramSelectGroupRow.contextType = NDDContext;\n\nProgramSelectGroupRow.propTypes = {\n  rowData: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired,\n  remove: PropTypes.func.isRequired,\n  src: PropTypes.object,\n  dst: PropTypes.object,\n  disabled: PropTypes.bool.isRequired,\n  level: PropTypes.number\n};\n\nProgramSelectGroupRow.defaultProps = {\n  src: undefined,\n  dst: undefined,\n  level: undefined\n};\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations\n});\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\nexport default connect(mapStateToProps, mapDispatchToProps)(ProgramSelectGroupRow);\n","import React, { Component } from 'react';\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { NDDContext } from '../Startup';\n\n// eslint-disable-next-line no-unused-vars\nimport styles from '../css/style.css';\n\nclass HelpTooltip extends Component {\n  render() {\n    const { translations, labelKey } = this.props;\n    const tooltip = (\n      <Tooltip id={`${labelKey}-icon-tooltip`}>\n        {translations[labelKey]}\n      </Tooltip>\n    );\n    return (\n      <OverlayTrigger transition={false} trigger={['hover', 'focus']} placement=\"right\" overlay={tooltip}>\n        {/* eslint-disable-next-line jsx-a11y/alt-text */}\n        <img\n          className=\"info-icon\"\n          src=\"/TEMPLATE/reamp/modules/admin/data-freeze-manager/styles/images/icon-information.svg\" />\n      </OverlayTrigger>\n    );\n  }\n}\n\nHelpTooltip.contextType = NDDContext;\n\nHelpTooltip.propTypes = {\n  translations: PropTypes.object.isRequired,\n  labelKey: PropTypes.string.isRequired\n};\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations\n});\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\nexport default connect(mapStateToProps, mapDispatchToProps)(HelpTooltip);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { NDDContext } from './Startup';\nimport './css/style.css';\nimport ProgramSelectGroupRow from './ProgramSelectGroupRow';\nimport RequiredMark from './common/RequiredMark';\nimport HelpTooltip from './common/HelpTooltip';\n\nclass ProgramSelectGroupList extends Component {\n  render() {\n    const {\n      list, translations, onChange, remove, dst, src, busy, level\n    } = this.props;\n    const { trnPrefix } = this.context;\n    return (\n      <div>\n        <table className=\"table table-striped\">\n          <thead>\n            <tr>\n              <th>\n                <HelpTooltip labelKey={`${trnPrefix}tooltip-direct-programs-list`} />\n                <span data-field=\"srcProgramSelectGroup\">{translations[`${trnPrefix}src-programs-title`]}</span>\n                <RequiredMark />\n              </th>\n              <th>\n                <HelpTooltip labelKey={`${trnPrefix}tooltip-indirect-programs-list`} />\n                <span data-field=\"dstProgramSelectGroup\">{translations[`${trnPrefix}dst-programs-title`]}</span>\n                <RequiredMark />\n              </th>\n              <td className=\"actions-column\">{translations[`${trnPrefix}actions`]}</td>\n            </tr>\n          </thead>\n          <tbody>\n            {list.map(pair => (\n              <ProgramSelectGroupRow\n                rowData={pair}\n                key={Math.random()}\n                onChange={onChange}\n                remove={remove}\n                dst={dst}\n                src={src}\n                level={level}\n                disabled={busy} />\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nProgramSelectGroupList.contextType = NDDContext;\n\nProgramSelectGroupList.propTypes = {\n  list: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired,\n  remove: PropTypes.func.isRequired,\n  src: PropTypes.object,\n  dst: PropTypes.object,\n  translations: PropTypes.object.isRequired,\n  busy: PropTypes.bool.isRequired,\n  level: PropTypes.number,\n};\n\nProgramSelectGroupList.defaultProps = {\n  src: undefined,\n  dst: undefined,\n  level: undefined\n};\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations\n});\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\nexport default connect(mapStateToProps, mapDispatchToProps)(ProgramSelectGroupList);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { NDDContext } from './Startup';\nimport './css/style.css';\n\nclass Header extends Component {\n  render() {\n    const {\n      translations, onAddRow, onSaveAll, onRevertAll, src, dst, onUpdateActivities, busy, dataPresent, unsavedChanges\n    } = this.props;\n    const { trnPrefix, isIndirect } = this.context;\n    return (\n      <div>\n        <div className=\"panel panel-default\">\n          <div className=\"panel-body custom-panel\">\n            {(src && dst) ? (\n              <>\n                <span className=\"glyphicon glyphicon-plus clickable\" onClick={onAddRow} />\n                <span\n                  onClick={onAddRow}\n                  className=\"add-new-text clickable\">\n                  {translations[`${trnPrefix}add-new`]}\n                  {' '}\n                </span>\n                <span className=\"insert-data-text clickable\" onClick={onAddRow}>\n                  {translations[`${trnPrefix}insert-data`]}\n                </span>\n              </>\n            ) : null}\n            <span> / </span>\n            <span className=\"required-fields\">{`* ${translations[`${trnPrefix}required-fields`]}`}</span>\n            <span className=\"float-right button-wrapper\">\n              <button\n                type=\"button\"\n                onClick={onSaveAll}\n                className=\"btn btn-success margin_2\"\n                disabled={busy}>\n                {translations[`${trnPrefix}button-save-all-edits`]}\n              </button>\n              <button\n                type=\"button\"\n                onClick={onRevertAll}\n                className=\"btn btn-danger margin_2\"\n                disabled={busy || !unsavedChanges}>\n                {translations[`${trnPrefix}button-revert-all-edits`]}\n              </button>\n              {isIndirect ? (\n                <button\n                  type=\"button\"\n                  onClick={onUpdateActivities}\n                  className=\"btn btn-primary\"\n                  disabled={busy || !dataPresent || unsavedChanges}>\n                  {translations[`${trnPrefix}button-update-activities`]}\n                </button>\n              ) : null}\n            </span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nHeader.contextType = NDDContext;\n\nHeader.propTypes = {\n  onAddRow: PropTypes.func.isRequired,\n  onSaveAll: PropTypes.func.isRequired,\n  onRevertAll: PropTypes.func.isRequired,\n  translations: PropTypes.object.isRequired,\n  onUpdateActivities: PropTypes.func.isRequired,\n  src: PropTypes.object,\n  dst: PropTypes.object,\n  busy: PropTypes.bool.isRequired,\n  dataPresent: PropTypes.bool,\n  unsavedChanges: PropTypes.bool.isRequired\n};\n\nHeader.defaultProps = {\n  src: undefined,\n  dst: undefined,\n  dataPresent: false\n};\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\n","import { saveNDDSuccess, saveNDDPending, saveNDDError } from './saveAction';\nimport { LAYOUT_EP } from '../constants/Constants';\n\nfunction saveNDD(src, dst, mappings, urlSavePrograms, urlSaveConfig, level) {\n  return dispatch => {\n    dispatch(saveNDDPending());\n    fetch(LAYOUT_EP).then(layoutRes => layoutRes.json()).then(data => {\n      if (data.logged) {\n        fetch(urlSavePrograms, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            'src-program': src ? src.id : null,\n            'dst-program': dst ? dst.id : null,\n            level\n          })\n        }).then(res => {\n          processResponse(res);\n          return fetch(urlSaveConfig, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(mappings)\n          })\n            .then(response => {\n              processResponse(response);\n              dispatch(saveNDDSuccess(response));\n              return response;\n            })\n            .catch(error => {\n              dispatch(saveNDDError(error));\n            });\n        })\n          .catch(error => {\n            dispatch(saveNDDError(error));\n          });\n      } else {\n        window.location.replace('/login.do');\n        dispatch(saveNDDError({ error: 'not logged' }));\n      }\n    }).catch(error => {\n      dispatch(saveNDDError(error));\n    });\n  };\n}\n\nfunction processResponse(response) {\n  if (response.status === 500 || response.error) {\n    if (response.error) {\n      throw (response.error);\n    } else {\n      throw (response.statusText);\n    }\n  }\n}\n\nexport default saveNDD;\n","import {\n  invokeUpdateActivities,\n  updateActivitiesPending,\n  updateActivitiesError,\n  updateActivitiesSuccess\n} from './updateActivitiesAction';\nimport { UPDATE_ACTIVITIES_EP } from '../constants/Constants';\n\nlet timer;\nconst GET = 'GET';\n\nfunction scheduleTimer(url, dispatch) {\n  clearInterval(timer);\n  timer = setInterval(() => checkForUpdate(url, dispatch), 1000);\n}\n\nfunction checkForUpdate(url, dispatch) {\n  fetch(url).then(layoutRes => {\n    if (layoutRes.status === 200) {\n      return layoutRes.headers.get('X-Async-Status');\n    } else {\n      return layoutRes.json();\n    }\n  }).then((result) => {\n    if (result === null) {\n      clearInterval(timer);\n      return dispatch(updateActivitiesSuccess());\n    } else if (!result.error) {\n      if (result === 'RUNNING') {\n        // its running do nothing\n      } else {\n        dispatch(updateActivitiesError({ msg: `result ${result}` }));\n        clearInterval(timer);\n      }\n    } else {\n      dispatch(updateActivitiesError({ msg: 'result false' }));\n      clearInterval(timer);\n    }\n    return result;\n  }).catch(error => {\n    dispatch(updateActivitiesError(error));\n  });\n}\n\nfunction updateActivities() {\n  return dispatch => {\n    dispatch(updateActivitiesPending());\n    const requestOptions = {\n      method: GET,\n      headers: { Prefer: 'respond-async' }\n    };\n    fetch(UPDATE_ACTIVITIES_EP, requestOptions).then(layoutRes => {\n      if (layoutRes.status === 200) {\n        return layoutRes.headers.get('location');\n      } else {\n        return layoutRes.json();\n      }\n    }).then((result) => {\n      if (!result.error) {\n        dispatch(invokeUpdateActivities());\n        scheduleTimer(result, dispatch);\n        // TODO better process generic errors coming from the API\n      } else if (result.error['0212']) {\n        const msg = result.error['0212'][0].PROCESS_ALREADY_RUNNING[0];\n        dispatch(updateActivitiesError({ msg }));\n      } else {\n        dispatch(updateActivitiesError({ msg: 'result false' }));\n      }\n      return result;\n    }).catch(error => {\n      dispatch(updateActivitiesError(error));\n    });\n  };\n}\n\nexport default updateActivities;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { NDDContext } from './Startup';\nimport './css/style.css';\n\nclass Notifications extends Component {\n  render() {\n    const { messages } = this.props;\n    if (messages && messages.length > 0) {\n      return (\n        <div>\n          <ul className=\"notifications\">\n            {messages.map(message => {\n              const className = message.isError ? 'error-color' : 'success-color';\n              return <li key={Math.random()} className={className}>{message.text}</li>;\n            })}\n          </ul>\n        </div>\n      );\n    }\n    return null;\n  }\n}\n\nNotifications.contextType = NDDContext;\n\nNotifications.propTypes = {\n  messages: PropTypes.array.isRequired\n};\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations\n});\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\nexport default connect(mapStateToProps, mapDispatchToProps)(Notifications);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { NDDContext } from './Startup';\nimport './css/style.css';\nimport { TYPE_SRC, TYPE_DST } from '../constants/Constants';\nimport Select from './Select';\nimport HelpTooltip from './common/HelpTooltip';\n\nclass ProgramsHeader extends Component {\n  // eslint-disable-next-line react/sort-comp\n  render() {\n    const {\n      translations, programs, trnPrefix, isIndirect, isSuperAdmin\n    } = this.context;\n    const {\n      src, dst, onChange, busy, onChangeLevel, level\n    } = this.props;\n    if (programs) {\n      // Load levels defined in GS and max depth for each program.\n      let depthRight;\n      if (dst) {\n        if (programs.find(i => i.id === dst.id)) {\n          depthRight = this.levelsToArray(programs.find(i => i.id === dst.id).levels);\n        }\n      }\n      const levelSelected = level > 0 ? [{ id: level, value: `${level}` }] : null;\n      return (\n        <table className=\"programs-table\">\n          <tbody>\n            <tr>\n              <td style={{ width: '40%' }}>\n                <HelpTooltip labelKey={`${trnPrefix}tooltip-direct-programs`} />\n                <Select\n                  disabled={busy}\n                  placeholder={translations[`${trnPrefix}choose_main_src_program`]}\n                  label={translations[`${trnPrefix}src-program-lvl-1`]}\n                  options={programs.filter(p => p.indirect === false)}\n                  selected={src ? [src] : []}\n                  onChange={onChange.bind(null, TYPE_SRC)}\n                  level={0} />\n              </td>\n              <td style={{ width: '40%' }}>\n                <HelpTooltip labelKey={`${trnPrefix}tooltip-indirect-programs`} />\n                <Select\n                  disabled={busy}\n                  placeholder={translations[`${trnPrefix}choose_main_dst_program`]}\n                  label={translations[`${trnPrefix}dst-program-lvl-1`]}\n                  options={programs.filter(p => p.indirect === isIndirect)}\n                  selected={dst ? [dst] : []}\n                  onChange={onChange.bind(null, TYPE_DST)}\n                  level={0} />\n              </td>\n              <td style={{ width: '20%' }}>\n                <HelpTooltip labelKey={`${trnPrefix}tooltip-max-depth`} />\n                <Select\n                  isIndirect={isIndirect}\n                  disabled={busy || !isSuperAdmin}\n                  label={translations[`${trnPrefix}max-level`]}\n                  options={depthRight}\n                  onChange={onChangeLevel.bind(null, 'level')}\n                  selected={levelSelected} />\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      );\n    }\n    return null;\n  }\n\n  levelsToArray = (levels) => {\n    const res = [];\n    for (let i = 1; i <= levels; i++) {\n      res.push({ id: i, value: `${i}` });\n    }\n    return res;\n  }\n}\n\nProgramsHeader.contextType = NDDContext;\n\nProgramsHeader.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  src: PropTypes.object,\n  dst: PropTypes.object,\n  busy: PropTypes.bool.isRequired,\n  onChangeLevel: PropTypes.func.isRequired,\n  level: PropTypes.number\n};\n\nProgramsHeader.defaultProps = {\n  src: undefined,\n  dst: undefined,\n  level: -1\n};\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations\n});\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\nexport default connect(mapStateToProps, mapDispatchToProps)(ProgramsHeader);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { NDDContext } from './Startup';\nimport './css/style.css';\nimport ProgramSelectGroupList from './ProgramSelectGroupList';\nimport Header from './Header';\nimport {\n  DST_PROGRAM, PROGRAM, PROGRAM_MAPPING, SRC_PROGRAM\n} from '../constants/Constants';\nimport * as Utils from '../utils/Utils';\nimport { sendNDDError, sendNDDPending, sendNDDSaving } from '../reducers/saveNDDReducer';\nimport { updateActivitiesError, updateActivitiesPending } from '../reducers/updateActivitiesReducer';\nimport saveNDD from '../actions/saveNDD';\nimport updateActivities from '../actions/updateActivities';\nimport Notifications from './Notifications';\nimport ProgramsHeader from './ProgramsHeader';\n\nclass FormPrograms extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      validationErrors: undefined,\n      src: undefined,\n      dst: undefined,\n      programs: undefined,\n      updatedActivities: false,\n      blockUI: false,\n      unsavedChanges: false,\n      saved: false,\n      level: 0\n    };\n    this.addRow = this.addRow.bind(this);\n    this.saveAll = this.saveAll.bind(this);\n    this.onRowChange = this.onRowChange.bind(this);\n    this.remove = this.remove.bind(this);\n    this.clearMessages = this.clearMessages.bind(this);\n    this.onChangeMainProgram = this.onChangeMainProgram.bind(this);\n    this.clearAll = this.clearAll.bind(this);\n  }\n\n  componentDidMount() {\n    const {\n      ndd, programs, translations, trnPrefix, settings, isIndirect\n    } = this.context;\n    document.title = translations[`${trnPrefix}page-title`];\n    // Load main programs.\n    // eslint-disable-next-line no-unused-vars,react/no-did-mount-set-state\n    this.setState(() => {\n      if (ndd[SRC_PROGRAM]) {\n        const src = { id: ndd[SRC_PROGRAM].id, value: ndd[SRC_PROGRAM].value };\n        return { src };\n      }\n      return { src: undefined };\n    });\n    // eslint-disable-next-line no-unused-vars,react/no-did-mount-set-state\n    this.setState(() => {\n      if (ndd[DST_PROGRAM]) {\n        const dst = { id: ndd[DST_PROGRAM].id, value: ndd[DST_PROGRAM].value };\n        return { dst };\n      }\n      return { dst: undefined };\n    });\n\n    // Available programs.\n    // eslint-disable-next-line react/no-did-mount-set-state,no-unused-vars\n    this.setState(() => ({ programs }));\n\n    if (settings) {\n      let level;\n      // eslint-disable-next-line no-unused-vars,react/no-did-mount-set-state\n      this.setState(() => {\n        if (isIndirect) {\n          level = settings['ndd-mapping-indirect-level'];\n        } else {\n          level = settings['ndd-mapping-program-level'];\n        }\n        return { level };\n      });\n\n      // Load saved mapping.\n      // eslint-disable-next-line react/no-did-mount-set-state\n      this.setState(previousState => {\n        const data = [...previousState.data];\n        if (ndd[PROGRAM_MAPPING]) {\n          ndd[PROGRAM_MAPPING].forEach(pm => {\n            const fullTreeSrc = Utils.findProgramInTree(pm[SRC_PROGRAM], ndd, level);\n            const fullTreeDst = Utils.findProgramInTree(pm[DST_PROGRAM], ndd, level);\n            const pair = {};\n            pair[SRC_PROGRAM] = fullTreeSrc;\n            pair[DST_PROGRAM] = fullTreeDst;\n            // Extra validation.\n            if (pair[SRC_PROGRAM] && pair[SRC_PROGRAM][`lvl${level}`]\n              && pair[DST_PROGRAM] && pair[DST_PROGRAM][`lvl${level}`]) {\n              pair.id = `${pair[SRC_PROGRAM][`lvl${level}`].id}${pair[DST_PROGRAM][`lvl${level}`].id}`;\n              data.push(pair);\n            }\n          });\n        }\n        return { data: this.sortPrograms(data) };\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps !== this.props) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState(previousState => {\n        if (!previousState.saved) {\n          return { saved: true };\n        } else {\n          return null;\n        }\n      });\n    }\n  }\n\n  /**\n   * Sort by SRC lvl1->lvl2->lvl3 plus DST lvl1->lvl2->lvl3 if needed.\n   * @param data\n   * @returns {*[]|*}\n   */\n  // eslint-disable-next-line react/sort-comp,class-methods-use-this\n  sortPrograms(data) {\n    if (data && data.length > 0) {\n      return data.sort((a, b) => {\n        const compare = (a[SRC_PROGRAM].lvl1.value + a[SRC_PROGRAM].lvl2.value + a[SRC_PROGRAM].lvl3.value)\n          .localeCompare(b[SRC_PROGRAM].lvl1.value + b[SRC_PROGRAM].lvl2.value + b[SRC_PROGRAM].lvl3.value);\n        if (compare === 0) {\n          return (a[DST_PROGRAM].lvl1.value + a[DST_PROGRAM].lvl2.value + a[DST_PROGRAM].lvl3.value)\n            .localeCompare(b[DST_PROGRAM].lvl1.value + b[DST_PROGRAM].lvl2.value + b[DST_PROGRAM].lvl3.value);\n        }\n        return compare;\n      });\n    }\n    return [];\n  }\n\n  addRow() {\n    this.clearMessages();\n    this.setState(previousState => {\n      const data = [...previousState.data];\n      const pair = {\n        [SRC_PROGRAM]: {},\n        [DST_PROGRAM]: {},\n        id: Math.random() * -1\n      };\n      data.push(pair);\n      setTimeout(() => (window.scrollTo(0, document.body.scrollHeight)), 500);\n      return { data, unsavedChanges: true, adding: true };\n    });\n  }\n\n  onRowChange(level1, level2, level3, type, id) {\n    const { data } = this.state;\n    this.clearMessages();\n    // Find and remove.\n    const pair = data.splice(data.findIndex(i => i[type + PROGRAM].id === id), 1);\n    pair[0][type + PROGRAM].lvl1 = level1;\n    pair[0][type + PROGRAM].lvl2 = level2;\n    pair[0][type + PROGRAM].lvl3 = level3;\n    data.push(pair[0]);\n    this.setState(data);\n    this.setState({ unsavedChanges: true });\n  }\n\n  remove(row) {\n    const { translations, trnPrefix } = this.context;\n    // eslint-disable-next-line no-alert\n    if (window.confirm(translations[`${trnPrefix}confirm-remove-row`])) {\n      this.clearMessages();\n      this.setState(previousState => {\n        const data = [...previousState.data];\n        data.splice(data.findIndex(i => i.id === row.id), 1);\n        return { data };\n      });\n      this.setState({ unsavedChanges: true });\n    }\n  }\n\n  clearMessages() {\n    this.setState({\n      validationErrors: undefined, updatedActivities: false, blockUI: false\n    });\n  }\n\n  onUpdateActivities = () => {\n    const { _updateActivities, translations } = this.props;\n    const { trnPrefix } = this.context;\n    const { data, level } = this.state;\n    const validateMappings = Utils.validate(data, level);\n    if (validateMappings === 0) {\n      if (window.confirm(translations[`${trnPrefix}button-update-activities-confirmation`])) {\n        this.clearMessages();\n        this.setState({\n          blockUI: true\n        });\n        _updateActivities();\n      }\n    } else {\n      this.setState({ validationErrors: translations[`${trnPrefix}validation_error_${validateMappings}`] });\n    }\n  }\n\n  saveAll() {\n    const {\n      data, src, dst, level\n    } = this.state;\n    const { _saveNDD, translations } = this.props;\n    const { api, trnPrefix } = this.context;\n    const validateMappings = Utils.validate(data, level);\n    if (validateMappings === 0) {\n      const validateMain = Utils.validateMainPrograms(src, dst, level);\n      if (validateMain === 0) {\n        const mappings = [];\n        data.forEach(pair => {\n          // see if we can only have level\n          mappings.push({\n            [SRC_PROGRAM]: pair[SRC_PROGRAM][`lvl${level}`].id,\n            [DST_PROGRAM]: pair[DST_PROGRAM][`lvl${level}`].id,\n            level\n          });\n        });\n        _saveNDD(src, dst, mappings, api.programsSave, api.mappingSave, level);\n        this.setState({ unsavedChanges: false });\n        this.clearMessages();\n      } else {\n        this.setState({\n          validationErrors: translations[`${trnPrefix}validation_error_${validateMain}`],\n        });\n      }\n    } else {\n      this.setState({\n        validationErrors: translations[`${trnPrefix}validation_error_${validateMappings}`],\n      });\n    }\n  }\n\n  onChangeProgramLevel = (type, level) => {\n    const { translations, trnPrefix } = this.context;\n    // eslint-disable-next-line react/destructuring-assignment\n    if (this.state[type] !== level) {\n      let confirmed = true;\n      if (!level || level.length === 0) {\n        confirmed = window.confirm(translations[`${trnPrefix}warning_on_change_levels`]);\n      }\n      if (confirmed) {\n        if (level && level.length > 0) {\n          this.setState({ [type]: level[0].id });\n        } else {\n          this.setState({ [type]: 0 });\n        }\n        this.clearAll();\n      } else {\n        this.setState(previousState => previousState);\n      }\n    }\n  }\n\n  onChangeMainProgram(type, program) {\n    const { translations, trnPrefix } = this.context;\n    const { data, src, dst } = this.state;\n    this.src_ = src;\n    this.dst_ = dst;\n    const newProgram = (program && program.length > 0) ? program[0] : {};\n    // eslint-disable-next-line react/destructuring-assignment\n    const oldProgram = (this.state[type] ? this.state[type] : {});\n    let autoAddRow = false;\n    if (oldProgram.id !== newProgram.id) {\n      if (oldProgram.id !== undefined) {\n        if (data.length === 0 || window.confirm(translations[`${trnPrefix}warning_on_change_main_programs`])) {\n          if (newProgram.id !== undefined) {\n            // Old Program -> New Program.\n            // eslint-disable-next-line no-unused-vars\n            this.setState(previousState => ({ [type]: newProgram }));\n            this[`${type}_`] = newProgram;\n            autoAddRow = true;\n          } else {\n            // Old Program -> Nothing.\n            // eslint-disable-next-line no-unused-vars\n            this.setState(previousState => ({ [type]: undefined }));\n            this[`${type}_`] = undefined;\n          }\n          this.clearAll();\n        } else {\n          // Revert to previous Program.\n          this.setState(previousState => previousState);\n          // TODO: set focus in the selector.\n        }\n      } else {\n        // Nothing -> Program.\n        // eslint-disable-next-line no-unused-vars\n        this.setState(previousState => ({ [type]: newProgram }));\n        this[`${type}_`] = newProgram;\n        autoAddRow = true;\n      }\n    }\n    // Note src_ and dst_ because setState() is not immediate.\n    if (this.src_ && this.dst_ && autoAddRow) {\n      this.addRow();\n    }\n  }\n\n  clearAll() {\n    this.setState({\n      data: []\n    });\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  revertAllChanges() {\n    window.location.reload();\n  }\n\n  render() {\n    const {\n      data, validationErrors, src, dst, updatedActivities, unsavedChanges, saved, level\n    } = this.state;\n    const {\n      error, pending, translations, updating, errorUpdating, saving\n    } = this.props;\n    const { trnPrefix } = this.context;\n    const messages = [];\n    if (error) {\n      messages.push({ isError: true, text: error.toString() });\n    }\n    if (validationErrors) {\n      messages.push({ isError: true, text: validationErrors });\n    }\n    if (!saving && !error && !unsavedChanges && saved) {\n      messages.push({ isError: false, text: translations[`${trnPrefix}notification-saved-ok`] });\n    }\n    if (updatedActivities) {\n      messages.push({\n        isError: false,\n        text: translations[`${trnPrefix}update-activities-successful`]\n      });\n    }\n    if (updating) {\n      messages.push({\n        isError: false,\n        text: translations[`${trnPrefix}update-activities-wait`]\n      });\n    }\n    if (errorUpdating) {\n      messages.push({\n        isError: true,\n        text: errorUpdating\n      });\n    }\n\n    return (\n      <div className=\"form-container\">\n        <ProgramsHeader\n          onChange={this.onChangeMainProgram}\n          src={src}\n          dst={dst}\n          key={Math.random()}\n          busy={updating}\n          level={level}\n          onChangeLevel={this.onChangeProgramLevel} />\n        <Header\n          onAddRow={this.addRow}\n          onSaveAll={this.saveAll}\n          onRevertAll={this.revertAllChanges}\n          onUpdateActivities={this.onUpdateActivities}\n          src={src}\n          dst={dst}\n          busy={updating || pending}\n          unsavedChanges={unsavedChanges}\n          dataPresent={data && data.length > 0} />\n        <Notifications messages={messages} />\n        <ProgramSelectGroupList\n          list={data}\n          onChange={this.onRowChange}\n          remove={this.remove}\n          src={src}\n          dst={dst}\n          level={level}\n          busy={updating} />\n      </div>\n    );\n  }\n}\n\nFormPrograms.contextType = NDDContext;\n\nFormPrograms.propTypes = {\n  translations: PropTypes.object.isRequired,\n  error: PropTypes.object,\n  pending: PropTypes.bool,\n  updating: PropTypes.bool,\n  errorUpdating: PropTypes.string,\n  _saveNDD: PropTypes.func.isRequired,\n  _updateActivities: PropTypes.func.isRequired,\n  saving: PropTypes.bool.isRequired\n};\n\nFormPrograms.defaultProps = {\n  error: undefined,\n  pending: false,\n  updating: false,\n  errorUpdating: null\n};\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations,\n  error: sendNDDError(state.saveNDDReducer),\n  saving: sendNDDSaving(state.saveNDDReducer),\n  pending: sendNDDPending(state.saveNDDReducer),\n  updating: updateActivitiesPending(state.updateActivitiesReducer),\n  errorUpdating: updateActivitiesError(state.updateActivitiesReducer)\n});\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  _saveNDD: saveNDD,\n  _updateActivities: updateActivities\n}, dispatch);\nexport default connect(mapStateToProps, mapDispatchToProps)(FormPrograms);\n","import React from 'react';\nimport './BlockUI.css';\n\nconst BlockUI = props => {\n  if (!props.blocking) {\n    return '';\n  } else {\n    return (\n      <div className=\"block-ui-container\">\n        <div className=\"block-ui-overlay\" />\n        <div className=\"block-ui-message-container\">\n          <div className=\"block-ui-message\">\n            <h4>{props.title}</h4>\n            <div className=\"loading-indicator\">\n              <svg id=\"indicator\" viewBox=\"0 0 100 100\">\n                <circle id=\"circle\" cx=\"50\" cy=\"50\" r=\"45\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nBlockUI.defaultProps = {\n  blocking: false,\n  title: 'Loading'\n};\n\nexport default BlockUI;","import React, { Component } from 'react';\nimport './css/style.css';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { NDDContext } from './Startup';\nimport {\n  getNDD,\n  getNDDError,\n  getNDDPending,\n  getPrograms,\n  getProgramsPending\n} from '../reducers/startupReducer';\nimport fetchNDD from '../actions/fetchNDD';\nimport fetchPrograms from '../actions/fetchAvailablePrograms';\nimport fetchLayout from '../actions/fetchLayout';\nimport fetchSettings from '../actions/fetchSettings';\nimport FormPrograms from './FormPrograms';\nimport BlockUI from './common/BlockUI';\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n    this.shouldComponentRender = this.shouldComponentRender.bind(this);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    const {\n      _fetchNDD, _fetchPrograms, api, _fetchLayout, _fetchSettings\n    } = this.props;\n    _fetchSettings().then(settings => {\n      _fetchLayout().then((layout) => {\n        if (layout && layout.logged && layout.administratorMode === true) {\n          _fetchNDD(api.mappingConfig);\n          _fetchPrograms(api.programs);\n          this.setState({ isSuperAdmin: layout.email.indexOf('super') === 0, settings });\n        } else {\n          window.location.replace('/login.do');\n        }\n      }).catch(e => console.error(e));\n    }).catch(e => console.error(e));\n  }\n\n  shouldComponentRender() {\n    const { pendingNDD, pendingPrograms } = this.props;\n    return !pendingNDD && !pendingPrograms;\n  }\n\n  render() {\n    const {\n      ndd, programs, api, trnPrefix, isIndirect, indirectProgramUpdatePending\n    } = this.props;\n    const { translations } = this.context;\n    const { isSuperAdmin, settings } = this.state;\n    if (!this.shouldComponentRender() || ndd.length === 0) {\n      return <div className=\"loading\">{translations[`${trnPrefix}loading`]}</div>;\n    } else {\n      return (\n        <div className=\"ndd-container\">\n          <NDDContext.Provider value={{\n            ndd, translations, programs, api, trnPrefix, isIndirect, isSuperAdmin, settings\n          }}>\n            <div className=\"col-md-12\">\n              <div>\n                <FormPrograms />\n              </div>\n            </div>\n            <BlockUI blocking={indirectProgramUpdatePending} />\n          </NDDContext.Provider>\n        </div>\n      );\n    }\n  }\n}\n\nMain.contextType = NDDContext;\n\nMain.propTypes = {\n  _fetchNDD: PropTypes.func.isRequired,\n  _fetchPrograms: PropTypes.func.isRequired,\n  _fetchLayout: PropTypes.func.isRequired,\n  _fetchSettings: PropTypes.func.isRequired,\n  api: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  error: getNDDError(state.startupReducer),\n  ndd: getNDD(state.startupReducer),\n  programs: getPrograms(state.startupReducer),\n  pendingNDD: getNDDPending(state.startupReducer),\n  pendingPrograms: getProgramsPending(state.startupReducer),\n  translations: state.translationsReducer.translations,\n  indirectProgramUpdatePending: state.updateActivitiesReducer.indirectProgramUpdatePending\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  _fetchNDD: fetchNDD,\n  _fetchPrograms: fetchPrograms,\n  _fetchLayout: fetchLayout,\n  _fetchSettings: fetchSettings\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  applyMiddleware, bindActionCreators, compose, createStore\n} from 'redux';\nimport thunk from 'redux-thunk';\nimport { connect, Provider } from 'react-redux';\n\nimport Main from '../components/Main';\nimport rootReducer from '../reducers/rootReducer';\nimport defaultTrnPack from './config/initialTranslations.json';\nimport Startup, { NDDContext } from '../components/Startup';\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst API = {\n  mappingConfig: '/rest/ndd/indirect-programs-mapping-config',\n  mappingSave: '/rest/ndd/indirect-programs-mapping',\n  programs: '/rest/ndd/available-indirect-programs',\n  programsSave: '/rest/ndd/update-source-destination-indirect-programs',\n};\n\nconst TRN_PREFIX = 'amp.admin.ndd.indirect:';\n\nclass AdminNDDIndirectProgramApp extends Component {\n  constructor(props) {\n    super(props);\n    this.store = createStore(rootReducer, composeEnhancer(applyMiddleware(thunk)));\n  }\n\n  render() {\n    const { translations } = this.context;\n    const { selected } = this.props;\n    return (\n      selected\n        ? (\n          <Provider store={this.store}>\n            <Startup defaultTrnPack={defaultTrnPack}>\n              <h2 className=\"section-title\">{translations[`${TRN_PREFIX}title`]}</h2>\n              <div className=\"section-sub-title\">{translations[`${TRN_PREFIX}sub-title`]}</div>\n              <Main api={API} trnPrefix={TRN_PREFIX} isIndirect />\n            </Startup>\n          </Provider>\n        ) : null);\n  }\n}\n\nAdminNDDIndirectProgramApp.contextType = NDDContext;\n\nAdminNDDIndirectProgramApp.propTypes = {\n  selected: PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations\n});\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\nexport default connect(mapStateToProps, mapDispatchToProps)(AdminNDDIndirectProgramApp);\n","import React, { Component } from 'react';\nimport {\n  createStore, applyMiddleware, compose, bindActionCreators\n} from 'redux';\nimport thunk from 'redux-thunk';\nimport { connect, Provider } from 'react-redux';\n\nimport PropTypes from 'prop-types';\nimport Main from '../components/Main';\nimport rootReducer from '../reducers/rootReducer';\nimport defaultTrnPack from './config/initialTranslations.json';\nimport Startup, { NDDContext } from '../components/Startup';\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst API = {\n  mappingConfig: '/rest/ndd/programs-mapping-config',\n  mappingSave: '/rest/ndd/programs-mapping',\n  programs: '/rest/ndd/available-programs',\n  programsSave: '/rest/ndd/update-source-destination-programs',\n};\n\nconst TRN_PREFIX = 'amp.admin.ndd.program:';\n\nclass AdminNDDProgramApp extends Component {\n  constructor(props) {\n    super(props);\n    this.store = createStore(rootReducer, composeEnhancer(applyMiddleware(thunk)));\n  }\n\n  render() {\n    const { translations } = this.context;\n    const { selected } = this.props;\n    return (\n      selected ? (\n        <Provider store={this.store}>\n          <Startup defaultTrnPack={defaultTrnPack}>\n            <h2 className=\"section-title\">{translations[`${TRN_PREFIX}title`]}</h2>\n            <div className=\"section-sub-title\">{translations[`${TRN_PREFIX}sub-title`]}</div>\n            <Main api={API} trnPrefix={TRN_PREFIX} isIndirect={false} />\n          </Startup>\n        </Provider>\n      ) : null\n    );\n  }\n}\n\nAdminNDDProgramApp.contextType = NDDContext;\n\nAdminNDDProgramApp.propTypes = {\n  selected: PropTypes.bool.isRequired\n};\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations\n});\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\nexport default connect(mapStateToProps, mapDispatchToProps)(AdminNDDProgramApp);\n","import React, { useState } from 'react';\nimport { Tabs, Tab } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport AdminNDDIndirectProgramApp from '../indirect';\nimport AdminNDDProgramApp from '../program';\n\n// eslint-disable-next-line no-unused-vars\nimport styles from './css/style.css';\n\nconst NDDAdminNavigator = ({ translations }) => {\n  const [key, setKey] = useState('indirect');\n  const trnPrefix = 'amp.admin.ndd:';\n  return (\n    <Tabs\n      id=\"programs-tab\"\n      activeKey={key}\n      transition={false}\n      onSelect={(k) => setKey(k)}\n    >\n      <Tab eventKey=\"indirect\" title={translations[`${trnPrefix}menu-item-indirect-programs-mapping`]}>\n        <AdminNDDIndirectProgramApp selected={key === 'indirect'} />\n      </Tab>\n      <Tab eventKey=\"program\" title={translations[`${trnPrefix}menu-item-programs-mapping`]}>\n        <AdminNDDProgramApp selected={key === 'program'} />\n      </Tab>\n    </Tabs>\n  );\n};\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations,\n});\n\nNDDAdminNavigator.propTypes = {\n  translations: PropTypes.object.isRequired\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NDDAdminNavigator);\n","import React, { Component } from 'react';\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport thunk from 'redux-thunk';\nimport { Provider } from 'react-redux';\nimport { Container, Col, Row } from 'react-bootstrap';\nimport rootReducer from './reducers/rootReducer';\nimport defaultTrnPack from './config/initialTranslations.json';\nimport Startup from './components/Startup';\nimport NDDAdminNavigator from './components/NDDAdminNavigator';\n// eslint-disable-next-line no-unused-vars\nimport style from './components/css/style.css';\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nclass AdminNDDApp extends Component {\n  constructor(props) {\n    super(props);\n    this.store = createStore(rootReducer, composeEnhancer(applyMiddleware(thunk)));\n  }\n\n  render() {\n    return (\n      <Provider store={this.store}>\n        <Startup defaultTrnPack={defaultTrnPack} >\n          <Container>\n            <Row>\n              <Col md={12}>\n                <NDDAdminNavigator />\n              </Col>\n            </Row>\n          </Container>\n        </Startup>\n      </Provider>\n    );\n  }\n}\n\nexport default AdminNDDApp;\n","export const ZERO = 0;\nexport const ONE = 1;\nexport const NEGATIVE_ONE = -1;\nexport const FLAGS_DIRECTORY = '/assets/img/flags/';\n\nexport const DASHBOARD_DEFAULT_MIN_YEAR_RANGE = 'dashboard-default-min-year-range';\nexport const DASHBOARD_DEFAULT_MAX_YEAR_RANGE = 'dashboard-default-max-year-range';\n\nexport const API_FILTERS_SECTORS_URL = '/rest/filters/sectors';\nexport const API_FILTERS_COUNTRIES_URL = '/rest/filters/locations?firstLevelOnly=true&showAllCountries=true';\nexport const API_AMP_SETTINGS_URL = '/rest/amp/settings';\nexport const API_FILTERS_MODALITIES_URL = '/rest/filters/modalities?sscWorkspace=true';\nexport const API_SSC_DASHBOARD_URL = '/rest/gis/sscdashboard';\nexport const API_XLS_REPORT_URL = '/rest/gis/sscdashboard/xsl';\nexport const API_REPORTS_ACTIVITY_DETAIL_URL = '/rest/gis/activities';\n\nexport const BOOTSTRAP_COLUMNS_COUNT = 12;\n\nexport const NON_SELECTED_LINE_COLOR = '#fd8f00';\nexport const NON_SELECTED_BUBBLE_COLOR = '#fd8f00';\n\nexport const SELECTED_LINE_COLOR = '#007236';\nexport const SELECTED_BUBBLE_COLOR = '#007236';\nexport const PNG_FORMAT = 'png';\nexport const PROJECT_LENGTH_HOME_PAGE = 50;\nexport const UNDEFINED_FILTER = -999999999;\nexport const FLAGS_TO_SHOW_DEFAULT = 9;\nexport const FLAGS_TO_SHOW_SMALL = 6;\nexport const FLAGS_TO_SHOW_SMALL_WIDTH_THRESHOLD = 1766;\nexport const SECTORS_LIMIT_CHART = 5;\nexport const SECTORS_OTHERS_ID_CHART = '-1';\nexport const DEFAULT_SCREEN_SIZE = 1920;\nexport const DEFAULT_ELLIPSIS = 145;\nexport const SECTOR_MODALITY_MIN_SIZE = 2;\nexport const SECTOR_MODALITY_LEADING_LEFT = '0';\nexport const WS_PREFIX = 'SSC_';\n\nexport const HOME_CHART = 'home';\nexport const SECTORS_CHART = 'sector';\nexport const MODALITY_CHART = 'modality';\nexport const DOWNLOAD_CHART = 'download';\nexport const COUNTRY_COLUMN = 'country-column';\n// eslint-disable-next-line max-len\nexport const FALLBACK_FLAG = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAbCAQAAACkGQXlAAAAI0lEQVR42mP8L8lAVcA4auCogaMGjho4auCogaMGjhpINAAAOBcdpLw/CDsAAAAASUVORK5CYII=';\nexport const OTHERS_CODE = '000';\nexport const INVALID_COLUMN_ERROR_CODE = '0602';\nexport const FILTER_PRIMARY_SECTOR = 'primary-sector';\nexport const FILTER_SSC_MODALITIES = 'ssc-modalities';\nexport const FILTER_DONOR_AGENCY_COUNTRY = 'donor-agency-country';\n\n\nexport const SECTOR_COLOR_MAP = new Map([\n  ['110', '#d46453'], ['120', '#f5a15d'], ['130', '#ffcf8e'], ['140', '#ff7a7d'], ['150', '#ff417d'],\n  ['160', '#d61a88'], ['210', '#fff540'], ['220', '#28c074'], ['230', '#429058'], ['240', '#bd4035'],\n  ['250', '#b0fff1'], ['311', '#144491'], ['312', '#9b0e3e'], ['313', '#10908e'], ['321', '#8f5765'],\n  ['322', '#c7d4e1'], ['323', '#77b02a'], ['331', '#488bd4'], ['332', '#928fb8'], ['400', '#c6d831'],\n  ['500', '#d41e3c'], ['600', '#cf968c'], ['700', '#78d7ff'], ['910', '#94007a'], ['920', '#ffb84a'],\n  ['930', '#ed7b39'], ['998', '#ed4c40'], ['000', '#8f5765']\n]);\nexport const MODALITIES_COLOR_MAP = new Map([\n  [OTHERS_CODE, '#8f5765']]);\n\nexport const MODALITIES_COLOR = ['#00429d', '#3761ab', '#5681b9', '#73a2c6', '#93c4d2', '#b9e5dd',\n  '#ffffe0', '#ffd3bf', '#ffa59e', '#f4777f', '#dd4c65', '#be214d', '#93003a'];\nexport const COLOR_MAP_CUSTOM = new Map([[\n  MODALITY_CHART, MODALITIES_COLOR\n]]);\n\nexport const COLOR_MAP = new Map([\n  [SECTORS_CHART, SECTOR_COLOR_MAP],\n  [MODALITY_CHART, MODALITIES_COLOR_MAP]\n]);\n","import { fetchTranslationsSuccess, fetchTranslationsPending, fetchTranslationsError }\n  from './translationsActions';\nimport { loadTranslations } from '../loadTranslations';\n\nfunction fetchTranslations(translations) {\n  return dispatch => {\n    dispatch(fetchTranslationsPending(translations));\n    return loadTranslations(translations)\n      .then(trnPack => dispatch(fetchTranslationsSuccess(trnPack)))\n      .catch(error => dispatch(fetchTranslationsError(error)));\n  };\n}\nexport default fetchTranslations;\n","export const FETCH_TRANSLATIONS_PENDING = 'FETCH_TRANSLATIONS_PENDING';\nexport const FETCH_TRANSLATIONS_SUCCESS = 'FETCH_TRANSLATIONS_SUCCESS';\nexport const FETCH_TRANSLATIONS_ERROR = 'FETCH_TRANSLATIONS_ERROR';\n\nexport function fetchTranslationsPending(translations) {\n  return {\n    type: FETCH_TRANSLATIONS_PENDING,\n    payload: translations\n  };\n}\n\nexport function fetchTranslationsSuccess(translations) {\n  return {\n    type: FETCH_TRANSLATIONS_SUCCESS,\n    payload: translations\n  };\n}\n\nexport function fetchTranslationsError(error) {\n  return {\n    type: FETCH_TRANSLATIONS_ERROR,\n    error\n  };\n}\n","import React from 'react';\n\nconst Loading = () => (\n  <div className=\"jumbotron\">\n    <div className=\"progress\">\n      <div\n        className=\"progress-bar progress-bar-striped bg-info\"\n        role=\"progressbar\"\n        aria-valuenow=\"100\"\n        aria-valuemin=\"0\"\n        aria-valuemax=\"100\"\n        style={{ width: '100%' }}>\n        ...\n      </div>\n    </div>\n  </div>\n);\n\n// eslint-disable-next-line import/prefer-default-export\nexport { Loading };\n","import { WS_PREFIX } from '../modules/sscdashboard/utils/constants';\n\nconst POST = 'POST';\nconst GET = 'GET';\n\nfunction getRequestOptions(body, headers) {\n  const requestOptions = {\n    method: body ? POST : GET,\n    headers: headers || { 'Content-Type': 'application/json', Accept: 'application/json', 'ws-prefix': WS_PREFIX }\n  };\n  if (body) {\n    requestOptions.body = JSON.stringify(body);\n  }\n  return requestOptions;\n}\n\nexport const fetchApiData = ({ body, url, headers }) => new Promise((resolve, reject) => fetch(url,\n  getRequestOptions(body, headers))\n  .then(response => {\n    if (headers && headers.Accept === 'text/html') {\n      return response.text();\n    } else if (response.headers && response.headers.get('Content-Type')\n        && response.headers.get('Content-Type').indexOf('application/json') > -1) {\n      return response.json();\n    } else {\n      return response;\n    }\n  })\n  .then(data => {\n    if (data.error) {\n      return reject(data.error);\n      // throw new Error(data.error);\n    }\n    return resolve(data);\n  }));\n\n// TODO to move api route to a constant.\nexport function loadTranslations(trnPack) {\n  return new Promise((resolve) => fetch('/rest/translations/label-translations', getRequestOptions(trnPack))\n    .then(response => {\n        let contentType = response.headers.get(\"content-type\");\n        if (contentType && contentType.indexOf(\"application/json\") !== -1) {\n            return response.json().then(data => {\n                if (data.error) {\n                    throw new Error(data.error);\n                }\n                return resolve(data);\n            });\n        }\n    }));\n}\n","import {\n  FETCH_TRANSLATIONS_ERROR, FETCH_TRANSLATIONS_PENDING, FETCH_TRANSLATIONS_SUCCESS\n} from '../actions/translationsActions';\n\nconst initialState = {\n  pending: true,\n  translations: {},\n  error: null\n};\n\nexport default function translationsReducer(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_TRANSLATIONS_PENDING:\n      return {\n        ...state,\n        pending: true,\n        translations: action.payload\n      };\n    case FETCH_TRANSLATIONS_SUCCESS:\n      return {\n        ...state,\n        pending: false,\n        translations: action.payload\n      };\n    case FETCH_TRANSLATIONS_ERROR:\n      return {\n        ...state,\n        pending: false,\n        error: action.error\n      };\n    default:\n      return state;\n  }\n}\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return possibleConstructorReturn(this, result);\n  };\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nexport default function _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : String(i);\n}","import _typeof from \"./typeof.js\";\nexport default function toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}"],"names":["FETCH_SETTINGS_PENDING","FETCH_SETTINGS_SUCCESS","FETCH_SETTINGS_ERROR","dispatch","type","fetch","SETTINGS_EP","then","res","json","error","payload","catch","fetchSettingsError","SRC_PROGRAM","DST_PROGRAM","ALL_PROGRAMS","PROGRAM_MAPPING","PROGRAM","CHILDREN","FIRST_LEVEL","SECOND_LEVEL","THIRD_LEVEL","STATE_LEVEL_FIELD","TYPE_SRC","TYPE_DST","LAYOUT_EP","UPDATE_ACTIVITIES_EP","FETCH_NDD_PENDING","FETCH_NDD_SUCCESS","FETCH_NDD_ERROR","FETCH_PROGRAMS_PENDING","FETCH_PROGRAMS_SUCCESS","FETCH_PROGRAMS_ERROR","initialState","pendingNDD","pendingPrograms","NDDs","programs","getNDD","state","getNDDPending","getNDDError","getPrograms","getProgramsPending","SAVE_NDD_PENDING","SAVE_NDD_SUCCESS","SAVE_NDD_ERROR","saveNDDError","saving","sendNDDPending","sendNDDError","sendNDDSaving","UPDATE_ACTIVITIES_PENDING","UPDATE_ACTIVITIES_SUCCESS","UPDATE_ACTIVITIES_ERROR","INVOKE_ACTIVITIES_SUCCESS","updateActivitiesError","updating","indirectProgramUpdatePending","updateActivitiesPending","combineReducers","startupReducer","arguments","length","undefined","action","_objectSpread","translationsReducer","saveNDDReducer","data","updateActivitiesReducer","msg","NDDContext","React","Startup","_Component","_inherits","_super","_createSuper","_classCallCheck","apply","_createClass","key","value","_this$props","this","props","defaultTrnPack","_fetchTranslations","_this$props2","children","translations","translationPending","api","_jsx","Loading","document","title","Provider","Component","connect","pending","bindActionCreators","fetchTranslations","url","ndd","fetchNDDSuccess","fetchNDDError","fetchProgramsError","FETCH_LAYOUT_PENDING","FETCH_LAYOUT_SUCCESS","FETCH_LAYOUT_ERROR","fetchLayoutError","RequiredMark","className","Select","_this","call","drawSelector","bind","_assertThisInitialized","selected","onChange","level","options","placeholder","disabled","_this$context","context","trnPrefix","isValid","sortedOptions","sort","a","b","localeCompare","Typeahead","id","labelKey","clearButton","onChangeSelect","emptyLabel","concat","label","_jsxs","contextType","findProgramInTree","lvl1","lvl2","lvl3","forEach","p","l1","find","l2","l3","l4","validate","ret","every","pair","filter","toFind","ProgramSelectGroup","_defineProperty","onSelectChange","getOptionsForLevel","getSelectedForLevel","newState","setState","lvl","level1","level2","level3","_this2","_this$props3","tree","src","dst","Utils","map","i","obj","obj1","obj2","push","_this$props4","style","width","defaultProps","ProgramSelectGroupRow","rowData","remove","onClick","HelpTooltip","tooltip","Tooltip","OverlayTrigger","transition","trigger","placement","overlay","ProgramSelectGroupList","list","busy","Math","random","Header","onAddRow","onSaveAll","onRevertAll","onUpdateActivities","dataPresent","unsavedChanges","isIndirect","_Fragment","processResponse","response","status","statusText","timer","mappings","urlSavePrograms","urlSaveConfig","layoutRes","logged","method","headers","body","JSON","stringify","saveNDDSuccess","window","location","replace","scheduleTimer","clearInterval","setInterval","get","result","checkForUpdate","requestOptions","Prefer","PROCESS_ALREADY_RUNNING","Notifications","messages","message","isError","text","ProgramsHeader","_len","args","Array","_key","levelsToArray","levels","isSuperAdmin","onChangeLevel","depthRight","levelSelected","indirect","FormPrograms","_updateActivities","_this$state","validateMappings","confirm","clearMessages","blockUI","validationErrors","onChangeProgramLevel","confirmed","clearAll","previousState","updatedActivities","saved","addRow","saveAll","onRowChange","onChangeMainProgram","_this$context2","settings","_toConsumableArray","pm","fullTreeSrc","fullTreeDst","sortPrograms","prevProps","compare","setTimeout","scrollTo","scrollHeight","adding","splice","findIndex","row","_this$context3","_this$state2","_saveNDD","_this$context4","validateMain","Number","isNaN","programsSave","mappingSave","program","_this$context5","_this$state3","src_","dst_","newProgram","oldProgram","autoAddRow","reload","_this$state4","errorUpdating","toString","revertAllChanges","saveNDD","updateActivities","BlockUI","blocking","viewBox","cx","cy","r","Main","shouldComponentRender","_fetchNDD","_fetchPrograms","_fetchLayout","_fetchSettings","layout","administratorMode","mappingConfig","email","indexOf","e","console","fetchNDD","fetchPrograms","fetchLayout","fetchSettings","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","API","TRN_PREFIX","AdminNDDIndirectProgramApp","store","createStore","rootReducer","applyMiddleware","thunk","AdminNDDProgramApp","_ref","_useState","useState","_useState2","_slicedToArray","setKey","Tabs","activeKey","onSelect","k","Tab","eventKey","AdminNDDApp","Container","Row","Col","md","NDDAdminNavigator","ZERO","ONE","NEGATIVE_ONE","FLAGS_DIRECTORY","DASHBOARD_DEFAULT_MIN_YEAR_RANGE","DASHBOARD_DEFAULT_MAX_YEAR_RANGE","API_FILTERS_SECTORS_URL","API_FILTERS_COUNTRIES_URL","API_AMP_SETTINGS_URL","API_FILTERS_MODALITIES_URL","API_SSC_DASHBOARD_URL","API_XLS_REPORT_URL","API_REPORTS_ACTIVITY_DETAIL_URL","BOOTSTRAP_COLUMNS_COUNT","NON_SELECTED_LINE_COLOR","NON_SELECTED_BUBBLE_COLOR","SELECTED_LINE_COLOR","SELECTED_BUBBLE_COLOR","PNG_FORMAT","PROJECT_LENGTH_HOME_PAGE","UNDEFINED_FILTER","FLAGS_TO_SHOW_DEFAULT","FLAGS_TO_SHOW_SMALL","FLAGS_TO_SHOW_SMALL_WIDTH_THRESHOLD","SECTORS_LIMIT_CHART","SECTORS_OTHERS_ID_CHART","DEFAULT_SCREEN_SIZE","DEFAULT_ELLIPSIS","SECTOR_MODALITY_MIN_SIZE","SECTOR_MODALITY_LEADING_LEFT","WS_PREFIX","HOME_CHART","SECTORS_CHART","MODALITY_CHART","DOWNLOAD_CHART","COUNTRY_COLUMN","FALLBACK_FLAG","OTHERS_CODE","FILTER_PRIMARY_SECTOR","FILTER_SSC_MODALITIES","FILTER_DONOR_AGENCY_COUNTRY","SECTOR_COLOR_MAP","Map","MODALITIES_COLOR_MAP","COLOR_MAP_CUSTOM","COLOR_MAP","fetchTranslationsPending","loadTranslations","trnPack","fetchTranslationsSuccess","fetchTranslationsError","FETCH_TRANSLATIONS_PENDING","FETCH_TRANSLATIONS_SUCCESS","FETCH_TRANSLATIONS_ERROR","role","POST","GET","getRequestOptions","Accept","fetchApiData","Promise","resolve","reject","contentType","Error","self","ReferenceError","instance","Constructor","TypeError","_defineProperties","target","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","prototype","Derived","hasNativeReflectConstruct","Super","NewTarget","constructor","Reflect","construct","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","subClass","superClass","create","_isNativeReflectConstruct","sham","Proxy","Boolean","valueOf","_iterableToArray","iter","Symbol","iterator","from","ownKeys","t","keys","getOwnPropertySymbols","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","_possibleConstructorReturn","_setPrototypeOf","arr","isArray","arrayLikeToArray","iterableToArray","unsupportedIterableToArray","toPropertyKey","toPrimitive","String","_typeof"],"sourceRoot":""}