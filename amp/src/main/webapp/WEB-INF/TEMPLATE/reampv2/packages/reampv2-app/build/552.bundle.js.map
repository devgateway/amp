{"version":3,"file":"552.bundle.js","mappings":"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","sources":["modules/admin/ndd/actions/settingsAction.js","modules/admin/ndd/actions/fetchSettings.js","modules/admin/ndd/constants/Constants.jsx","modules/geocoder/utils/geocoder-constants.js","modules/geocoder/actions/activitiesAction.js","modules/geocoder/actions/geocodingAction.js","modules/geocoder/reducers/activitiesReducer.js","modules/geocoder/reducers/geocodingReducer.js","modules/geocoder/actions/settingsAction.js","modules/geocoder/reducers/settingsReducer.js","modules/geocoder/reducers/rootReducer.js","modules/geocoder/components/AppContext.jsx","modules/geocoder/components/layout/panel/button/ResetAllButton.jsx","modules/geocoder/components/layout/panel/AlertError.jsx","modules/geocoder/components/layout/panel/button/CancelGeocodingButton.jsx","modules/geocoder/components/layout/panel/button/SaveAllEditsButton.jsx","modules/geocoder/components/layout/table/GeocodingTableHeader.jsx","modules/geocoder/utils/utils.js","modules/geocoder/components/layout/panel/Loading.jsx","modules/geocoder/components/layout/table/PaginationTotal.jsx","modules/geocoder/components/layout/table/ActivityTable.jsx","modules/geocoder/components/layout/panel/button/RemoveProjectButton.jsx","modules/geocoder/components/layout/table/GeocodingActionColumn.jsx","modules/geocoder/components/layout/table/LocationActionColumn.jsx","modules/geocoder/components/layout/table/Locations.jsx","modules/geocoder/components/layout/panel/dialog/ActivityWithoutLocationsDialog.jsx","modules/geocoder/components/layout/panel/dialog/ActivitySaveResultsDialog.jsx","modules/geocoder/components/layout/table/GeocodingTable.jsx","modules/geocoder/components/layout/panel/button/RunSearchButton.jsx","modules/geocoder/components/layout/table/ActivityTableHeader.jsx","modules/geocoder/components/layout/panel/GeocoderPanel.jsx","modules/geocoder/index.js","modules/sscdashboard/utils/constants.js","utils/Utils.js","utils/actions/fetchTranslations.js","utils/actions/translationsActions.js","utils/apiOperations.js","utils/components/Loading.jsx","utils/loadTranslations.js","utils/reducers/translationsReducer.js","../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../../node_modules/@babel/runtime/helpers/esm/createSuper.js","../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../../node_modules/@babel/runtime/helpers/esm/inherits.js","../../../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../../../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../../../node_modules/@babel/runtime/helpers/esm/typeof.js"],"sourcesContent":["export const FETCH_SETTINGS_PENDING = 'FETCH_SETTINGS_PENDING';\nexport const FETCH_SETTINGS_SUCCESS = 'FETCH_SETTINGS_SUCCESS';\nexport const FETCH_SETTINGS_ERROR = 'FETCH_SETTINGS_ERROR';\n\nexport function fetchSettingsPending() {\n  return {\n    type: FETCH_SETTINGS_PENDING\n  };\n}\n\nexport function fetchSettingsSuccess(layout) {\n  return {\n    type: FETCH_SETTINGS_SUCCESS,\n    payload: layout\n  };\n}\nexport function fetchSettingsError(error) {\n  return {\n    type: FETCH_SETTINGS_ERROR,\n    error\n  };\n}\n","import { fetchSettingsSuccess, fetchSettingsPending, fetchSettingsError } from './settingsAction';\nimport { SETTINGS_EP } from '../constants/Constants';\n\nfunction fetchSettings() {\n  return dispatch => {\n    dispatch(fetchSettingsPending());\n    return fetch(SETTINGS_EP)\n      .then(res => res.json())\n      .then(res => {\n        if (res.error) {\n          throw (res.error);\n        }\n        dispatch(fetchSettingsSuccess(res));\n        return res;\n      })\n      .catch(error => {\n        dispatch(fetchSettingsError(error));\n      });\n  };\n}\n\nexport default fetchSettings;\n","export const SRC_PROGRAM = 'src-program';\nexport const DST_PROGRAM = 'dst-program';\nexport const ALL_PROGRAMS = 'all-programs';\nexport const PROGRAM_MAPPING = 'program-mapping';\nexport const PROGRAM = '-program';\nexport const VALUE = 'value';\nexport const CHILDREN = 'children';\nexport const FIRST_LEVEL = 2;\nexport const SECOND_LEVEL = 3;\nexport const THIRD_LEVEL = 4;\nexport const STATE_LEVEL_FIELD = 'srcLvl';\nexport const TYPE_SRC = 'src';\nexport const TYPE_DST = 'dst';\nexport const LAYOUT_EP = '/rest/security/layout';\nexport const SETTINGS_EP = '/rest/amp/settings';\nexport const UPDATE_ACTIVITIES_EP = '/rest/activity/updateMappings/async';\n","\nexport const API_REPORTS_URL = '/rest/data/report/custom/paginate';\n\nexport const FIELD_PROJECT_TITLE = 'Project Title';\nexport const FIELD_ACTIVITY_DATE = 'Activity Updated On';\nexport const FIELD_AMP_ID = 'AMP ID';\nexport const FIELD_LOCATION = 'Administrative Level 0';\nexport const FIELD_PROJECT_DESCRIPTION = 'Project Description';\n","import {fetchApiData} from \"../../../utils/apiOperations\";\nimport {\n    API_REPORTS_URL,\n    FIELD_ACTIVITY_DATE, FIELD_LOCATION, FIELD_PROJECT_DESCRIPTION,\n    FIELD_AMP_ID,\n    FIELD_PROJECT_TITLE\n} from \"../utils/geocoder-constants\";\n\nexport const FETCH_ACTIVITIES_PENDING = 'FETCH_ACTIVITIES_PENDING';\nexport const FETCH_ACTIVITIES_SUCCESS = 'FETCH_ACTIVITIES_SUCCESS';\nexport const FETCH_ACTIVITIES_ERROR = 'FETCH_ACTIVITIES_ERROR';\n\nexport const SELECT_ACTIVITY_FOR_GEOCODING = 'SELECT_ACTIVITY_FOR_GEOCODING';\n\nexport const TOGGLE_NATIONAL_PROJECTS = 'TOGGLE_NATIONAL_PROJECTS';\n\nexport function fetchActivitiesPending() {\n    return {\n        type: FETCH_ACTIVITIES_PENDING\n    }\n}\n\nexport function fetchActivitiesSuccess(activities) {\n    function extractActivity(activity) {\n        return {\n            id: activity.contents['[' + FIELD_PROJECT_TITLE + ']'].entityId,\n            col1: activity.contents['[' + FIELD_ACTIVITY_DATE + ']'] ? activity.contents['[' + FIELD_ACTIVITY_DATE + ']'].displayedValue : \"\",\n            col2: activity.contents['[' + FIELD_AMP_ID + ']'] ? activity.contents['[' + FIELD_AMP_ID + ']'].displayedValue : \"\",\n            col3: activity.contents['[' + FIELD_PROJECT_TITLE + ']'].displayedValue,\n            col4: activity.contents['[' + FIELD_LOCATION + ']'].displayedValue ? activity.contents['[' + FIELD_LOCATION + ']'].displayedValue : \"---\"\n        };\n    }\n\n    return {\n        type: FETCH_ACTIVITIES_SUCCESS,\n        payload: activities.page.pageArea.children.map(extractActivity)\n    }\n}\n\nexport function fetchActivitiesError(error) {\n    return {\n        type: FETCH_ACTIVITIES_ERROR,\n        error: error\n    }\n}\n\nexport function selectActivitiesForGeocoding(selectedActivities) {\n    return {\n        type: SELECT_ACTIVITY_FOR_GEOCODING,\n        payload: selectedActivities\n    }\n}\n\nexport function toggleNationalProjects() {\n    return {\n        type: TOGGLE_NATIONAL_PROJECTS\n    }\n}\n\nexport const switchNationalProjects = () => {\n    return dispatch => {\n        dispatch(toggleNationalProjects());\n    }\n}\n\nexport const loadActivities = (includeNationalProjects) => {\n    let locationFilter = [-999999999];\n    let sortedColumns = [];\n\n    if (includeNationalProjects) {\n        locationFilter.push(96)\n        sortedColumns.push(FIELD_LOCATION);\n    } else {\n        sortedColumns.push(FIELD_AMP_ID);\n    }\n\n    let queryModel = {\n        name: \"Geocoding\",\n        add_columns : [\n            FIELD_PROJECT_TITLE,\n            FIELD_ACTIVITY_DATE,\n            FIELD_AMP_ID,\n            FIELD_LOCATION,\n            FIELD_PROJECT_DESCRIPTION],\n        filters : {\n            'administrative-level-0': locationFilter\n        },\n        sorting : [\n            {\n                columns: sortedColumns,\n                asc: false\n            }\n        ],\n        recordsPerPage : -1,\n        'include-location-children': false\n    }\n\n    return dispatch => {\n        dispatch(fetchActivitiesPending());\n        return fetchApiData({url: API_REPORTS_URL, body: queryModel})\n            .then(activities => {\n                return dispatch(fetchActivitiesSuccess(activities));\n            })\n            .catch(error => {\n                console.error(error);\n                return dispatch(fetchActivitiesError(error))\n            });\n    }\n};","import {callDeleteApiEndpoint, fetchApiDataWithStatus} from \"../../../utils/apiOperations\";\n\nexport const FETCH_GEOCODING_PENDING = 'FETCH_GEOCODING_PENDING';\nexport const FETCH_GEOCODING_SUCCESS = 'FETCH_GEOCODING_SUCCESS';\nexport const FETCH_GEOCODING_ERROR = 'FETCH_GEOCODING_ERROR';\n\nexport const GEOCODING_LOCATION_PENDING = 'GEOCODING_LOCATION_PENDING';\nexport const GEOCODING_LOCATION_SUCCESS = 'GEOCODING_LOCATION_SUCCESS';\nexport const GEOCODING_LOCATION_ERROR = 'GEOCODING_LOCATION_ERROR';\n\nexport const GEOCODING_RESET_ALL_PENDING = 'GEOCODING_RESET_ALL_PENDING';\nexport const GEOCODING_RESET_ALL_SUCCESS = 'GEOCODING_RESET_ALL_SUCCESS';\nexport const GEOCODING_RESET_ALL_ERROR = 'GEOCODING_RESET_ALL_ERROR';\n\nexport const GEOCODING_CANCEL_PENDING = 'GEOCODING_CANCEL_PENDING';\nexport const GEOCODING_CANCEL_SUCCESS = 'GEOCODING_CANCEL_SUCCESS';\nexport const GEOCODING_CANCEL_ERROR = 'GEOCODING_CANCEL_ERROR';\n\nexport const GEOCODING_RUN_SEARCH_PENDING = 'GEOCODING_RUN_SEARCH_PENDING';\nexport const GEOCODING_RUN_SEARCH_SUCCESS = 'GEOCODING_RUN_SEARCH_SUCCESS';\nexport const GEOCODING_RUN_SEARCH_ERROR = 'GEOCODING_RUN_SEARCH_ERROR';\n\nexport const GEOCODING_SAVE_ALL_EDITS_PENDING = 'GEOCODING_SAVE_ALL_EDITS_PENDING';\nexport const GEOCODING_SAVE_ALL_EDITS_CHECK = 'GEOCODING_SAVE_ALL_EDITS_CHECK'\n\nexport const GEOCODING_SAVE_ACTIVITY_PENDING = 'GEOCODING_SAVE_ACTIVITY_PENDING';\nexport const GEOCODING_SAVE_ACTIVITY_SUCCESS = 'GEOCODING_SAVE_ACTIVITY_SUCCESS';\nexport const GEOCODING_SAVE_ACTIVITY_ERROR = 'GEOCODING_SAVE_ACTIVITY_ERROR';\n\nexport const GEOCODING_REMOVE_PROJECT_PENDING = 'GEOCODING_REMOVE_PROJECT_PENDING';\nexport const GEOCODING_REMOVE_PROJECT_SUCCESS = 'GEOCODING_REMOVE_PROJECT_SUCCESS';\nexport const GEOCODING_REMOVE_PROJECT_ERROR = 'GEOCODING_REMOVE_PROJECT_ERROR';\n\nexport const GEOCODING_RESET_SAVE_RESULTS = 'GEOCODING_RESET_SAVE_RESULTS';\n\nexport function fetchGeocodingPending() {\n    return {\n        type: FETCH_GEOCODING_PENDING\n    }\n}\n\nexport function fetchGeocodingSuccess(geocoding) {\n    function geocodeShouldRun(data) {\n        return data.activities && data.activities.filter(act => act.status === 'RUNNING').length > 0;\n    }\n\n    return {\n        type: FETCH_GEOCODING_SUCCESS,\n        payload: geocoding,\n        pending: false,\n        geocodeShouldRun: geocodeShouldRun(geocoding.data),\n        status: 'IN_PROGRESS'\n    }\n}\n\nexport function fetchGeocodingNotFound(geocoding) {\n    return {\n        type: FETCH_GEOCODING_SUCCESS,\n        payload: {},\n        status: 'NOT_STARTED'\n    }\n}\n\n\nexport function fetchGeocodingError(error, status) {\n    return fetchGeocodingErrorWithCode(error, status, null);\n}\n\nexport function fetchGeocodingErrorWithCode(error, status, code) {\n    return {\n        type: FETCH_GEOCODING_ERROR,\n        error: error,\n        status: status,\n        errorCode: code\n    }\n}\n\nexport function geocodeLocationPending(amp_id, location_id, accepted) {\n    return {\n        type: GEOCODING_LOCATION_PENDING,\n        payload: {amp_id, location_id, accepted}\n    }\n}\n\nexport function geocodeLocationSuccess(amp_id, location_id, accepted) {\n    return {\n        type: GEOCODING_LOCATION_SUCCESS,\n        payload: {amp_id, location_id, accepted}\n    }\n}\n\nexport function geocodeLocationError(error) {\n    return {\n        type: GEOCODING_LOCATION_ERROR,\n        error: error\n    }\n}\n\nexport function resetAllActivitiesPending() {\n    return {\n        type: GEOCODING_RESET_ALL_PENDING,\n    }\n}\n\nexport function resetAllLocationStatusesSuccess() {\n    return {\n        type: GEOCODING_RESET_ALL_SUCCESS,\n    }\n}\n\nexport function resetAllLocationStatusesError(error) {\n    return {\n        type: GEOCODING_RESET_ALL_ERROR,\n        error: error,\n    }\n}\n\nexport function cancelGeocodingPending() {\n    return {\n        type: GEOCODING_CANCEL_PENDING,\n    }\n}\n\nexport function cancelGeocodingSuccess() {\n    return {\n        type: GEOCODING_CANCEL_SUCCESS,\n    }\n}\n\nexport function cancelGeocodingError(error) {\n    return {\n        type: GEOCODING_CANCEL_ERROR,\n        error: error,\n    }\n}\n\nexport function saveAllEditsPending() {\n    return {\n        type: GEOCODING_SAVE_ALL_EDITS_PENDING,\n    }\n}\n\nexport function saveAllEditsCheck() {\n    return {\n        type: GEOCODING_SAVE_ALL_EDITS_CHECK,\n    }\n}\n\nexport function saveActivityPending(ampId) {\n    return {\n        type: GEOCODING_SAVE_ACTIVITY_PENDING,\n        payload: ampId\n    }\n}\n\nexport function saveActivitySuccess(ampId) {\n    return {\n        type: GEOCODING_SAVE_ACTIVITY_SUCCESS,\n        payload: ampId\n    }\n}\n\nexport function saveActivityError(ampId, error) {\n    return {\n        type: GEOCODING_SAVE_ACTIVITY_ERROR,\n        error: error,\n        payload: ampId\n    }\n}\n\nexport function removeProjectPending(ampId) {\n    return {\n        type: GEOCODING_REMOVE_PROJECT_PENDING,\n        payload: ampId\n    }\n}\n\nexport function removeProjectSuccess(ampId) {\n    return {\n        type: GEOCODING_REMOVE_PROJECT_SUCCESS,\n        payload: ampId\n    }\n}\n\nexport function removeProjectError(error) {\n    return {\n        type: GEOCODING_REMOVE_PROJECT_ERROR,\n        error: error\n    }\n}\n\nexport function resetSaveActivitiesResults() {\n    return {\n        type: GEOCODING_RESET_SAVE_RESULTS,\n    }\n}\n\nexport function runSearchPending() {\n    return {\n        type: GEOCODING_RUN_SEARCH_PENDING\n    }\n}\n\nexport function runSearchSuccess(geocoding) {\n    return {\n        type: GEOCODING_RUN_SEARCH_SUCCESS,\n        payload: geocoding,\n        pending: false,\n        status: 'IN_PROGRESS'\n    }\n}\n\nexport function runSearchError(error) {\n    return {\n        type: GEOCODING_RUN_SEARCH_ERROR,\n        error: error.message,\n        errorCode: error.code\n    }\n}\n\nexport const loadGeocoding = () => {\n    return dispatch => {\n        dispatch(fetchGeocodingPending());\n        return fetchApiDataWithStatus({url: '/rest/geo-coder/process'})\n            .then(geocoding => {\n                return dispatch(fetchGeocodingSuccess(geocoding));\n            })\n            .catch(error => {\n                if(isGeocodingNotFound(error)) {\n                    return dispatch(fetchGeocodingNotFound(null));\n                }\n                return dispatch(fetchGeocodingErrorWithCode(error.message, \"NOT_AVAILABLE\", error.code))\n            });\n    }\n};\n\nexport const runSearch = (ampIds) => {\n    return dispatch => {\n        dispatch(runSearchPending());\n        return fetchApiDataWithStatus({body: ampIds, url: '/rest/geo-coder/process'})\n            .then(geocoding => {\n                return dispatch(runSearchSuccess(geocoding));\n            })\n            .catch(error => {\n                return dispatch(runSearchError(error))\n            });\n    }\n};\n\nexport const geocodeLocation = (ampId, locationId, accepted) => {\n    const locationStatusRequest = {\n        amp_id: ampId,\n        amp_category_value_location_id : locationId,\n        accepted: accepted\n    }\n\n    return dispatch => {\n        dispatch(geocodeLocationPending(ampId, locationId, accepted));\n        return fetchApiDataWithStatus({url: '/rest/geo-coder/location-status', body: locationStatusRequest})\n            .then(() => {\n                return dispatch(geocodeLocationSuccess(ampId, locationId, accepted));\n            })\n            .catch(error => {\n                return dispatch(geocodeLocationError(error.message))\n            });\n    }\n};\n\nexport const resetAllLocationStatuses = () => {\n    return dispatch => {\n        dispatch(resetAllActivitiesPending());\n        return fetchApiDataWithStatus({url: '/rest/geo-coder/reset-location-statuses', body: {}})\n            .then(() => {\n                return dispatch(resetAllLocationStatusesSuccess());\n            })\n            .catch(error => {\n                return dispatch(resetAllLocationStatusesError(error.message))\n            });\n    }\n};\n\nexport const cancelGeocoding = () => {\n    return dispatch => {\n        dispatch(cancelGeocodingPending());\n        return callDeleteApiEndpoint({url: '/rest/geo-coder/process'})\n            .then(() => {\n                return dispatch(cancelGeocodingSuccess());\n            })\n            .catch(error => {\n                return dispatch(cancelGeocodingError(error))\n            });\n    }\n};\n\nexport const saveAllEdits = (ampIds) => {\n    return dispatch => {\n        dispatch(saveAllEditsPending());\n        ampIds.forEach(ampId => dispatch(saveActivity(ampId)));\n    }\n};\n\nexport const saveActivity = (ampId) => {\n    return dispatch => {\n        dispatch(saveActivityPending(ampId));\n        return fetchApiDataWithStatus({body: {}, url: '/rest/geo-coder/activity/save/' + ampId})\n            .then(result => {\n                dispatch(saveActivitySuccess(ampId));\n                return dispatch(saveAllEditsCheck());\n            })\n            .catch(error => {\n                dispatch(saveActivityError(ampId, error.message))\n                return dispatch(saveAllEditsCheck());\n            });\n    }\n};\n\nexport const removeProject = (ampId) => {\n    return dispatch => {\n        dispatch(removeProjectPending(ampId));\n        return fetchApiDataWithStatus({body: {}, url: '/rest/geo-coder/activity/remove/' + ampId})\n            .then(result => {\n                return dispatch(removeProjectSuccess(ampId));\n            })\n            .catch(error => {\n                return dispatch(removeProjectError(error.message))\n            });\n    }\n};\n\nexport const resetSaveResults = () => {\n    return dispatch => dispatch(resetSaveActivitiesResults());\n};\n\nfunction isGeocodingNotFound(errorObject) {\n    return errorObject.status === 404;\n}\n","import {\n    FETCH_ACTIVITIES_ERROR,\n    FETCH_ACTIVITIES_PENDING,\n    FETCH_ACTIVITIES_SUCCESS,\n    SELECT_ACTIVITY_FOR_GEOCODING,\n    TOGGLE_NATIONAL_PROJECTS\n} from '../actions/activitiesAction';\nimport {\n    GEOCODING_RUN_SEARCH_ERROR,\n    GEOCODING_RUN_SEARCH_PENDING,\n    GEOCODING_RUN_SEARCH_SUCCESS,\n} from \"../actions/geocodingAction\";\n\nconst initialState = {\n    pending: false,\n    activities: [],\n    selectedActivities: [],\n    includeNationalProjects: false,\n    error: null\n};\n\nexport default function activitiesReducer(state = initialState, action) {\n    switch(action.type) {\n        case FETCH_ACTIVITIES_PENDING:\n            return {\n                ...state,\n                pending: true,\n            };\n        case FETCH_ACTIVITIES_SUCCESS:\n            return {\n                ...state,\n                pending: false,\n                activities: action.payload\n            };\n        case FETCH_ACTIVITIES_ERROR:\n            return {\n                ...state,\n                pending: false,\n                error: action.error\n            };\n        case GEOCODING_RUN_SEARCH_PENDING:\n            return {\n                ...state,\n                selectedActivities: [],\n                pending: true,\n                error: null\n            };\n        case GEOCODING_RUN_SEARCH_ERROR:\n            return {\n                ...state,\n                pending: false,\n                error: action.error\n            };\n        case GEOCODING_RUN_SEARCH_SUCCESS:\n            return {\n                ...state,\n                pending: action.pending,\n                error: null\n            };\n        case SELECT_ACTIVITY_FOR_GEOCODING:\n            return {\n                ...state,\n                selectedActivities: action.payload\n            };\n        case TOGGLE_NATIONAL_PROJECTS:\n            return {\n                ...state,\n                includeNationalProjects: !state.includeNationalProjects\n            }\n        default:\n            return state;\n    }\n}\n","import {\n    FETCH_GEOCODING_ERROR,\n    FETCH_GEOCODING_PENDING,\n    FETCH_GEOCODING_SUCCESS,\n    GEOCODING_CANCEL_ERROR,\n    GEOCODING_CANCEL_PENDING,\n    GEOCODING_CANCEL_SUCCESS,\n    GEOCODING_LOCATION_ERROR,\n    GEOCODING_LOCATION_PENDING,\n    GEOCODING_LOCATION_SUCCESS,\n    GEOCODING_RESET_ALL_ERROR,\n    GEOCODING_RESET_ALL_PENDING,\n    GEOCODING_RESET_ALL_SUCCESS,\n    GEOCODING_RUN_SEARCH_SUCCESS,\n    GEOCODING_SAVE_ALL_EDITS_PENDING,\n    GEOCODING_SAVE_ACTIVITY_ERROR,\n    GEOCODING_SAVE_ACTIVITY_PENDING,\n    GEOCODING_SAVE_ACTIVITY_SUCCESS,\n    GEOCODING_RESET_SAVE_RESULTS,\n    GEOCODING_RUN_SEARCH_ERROR,\n    GEOCODING_REMOVE_PROJECT_PENDING,\n    GEOCODING_REMOVE_PROJECT_SUCCESS,\n    GEOCODING_REMOVE_PROJECT_ERROR,\n    GEOCODING_SAVE_ALL_EDITS_CHECK\n} from '../actions/geocodingAction';\n\nconst initialState = {\n    pending: false,\n    reset_pending: false,\n    running: false,\n    status : null,\n    creator: null,\n    workspace: null,\n    activities : [],\n    save_activities_result: [],\n    save_pending: false,\n    error: null,\n    reset_error: null,\n    geocodeShouldRun: false\n};\n\nexport default function geocodingReducer(state = initialState, action) {\n    switch(action.type) {\n        case FETCH_GEOCODING_PENDING:\n            return {\n                ...state,\n                geocodeShouldRun: false,\n                pending: true,\n            };\n        case FETCH_GEOCODING_SUCCESS:\n            return {\n                ...state,\n                ...action.payload.data,\n                status: action.status,\n                pending: action.pending,\n                geocodeShouldRun: action.geocodeShouldRun,\n                error: null,\n                errorCode: null\n            };\n        case FETCH_GEOCODING_ERROR:\n            return {\n                ...state,\n                pending: false,\n                error: action.error,\n                geocodeShouldRun: false,\n                status : action.status,\n                errorCode: action.errorCode\n            };\n        case GEOCODING_RUN_SEARCH_SUCCESS:\n            return {\n                ...state,\n                ...action.payload.data,\n                status: action.status,\n                pending: false,\n                geocodeShouldRun: true,\n                error: null\n            };\n        case GEOCODING_LOCATION_PENDING:\n            return {\n                ...state,\n                activities: updateActivity(state.activities, action)\n            };\n        case GEOCODING_LOCATION_SUCCESS:\n            return {\n                ...state,\n                pending: false,\n                activities: updateActivity(state.activities, action)\n            };\n        case GEOCODING_LOCATION_ERROR:\n            return {\n                ...state,\n                pending: false,\n                activities: updateActivity(state.activities, action)\n            };\n        case GEOCODING_RESET_ALL_PENDING:\n            return {\n                ...state,\n                pending: true,\n                error: null\n            };\n        case GEOCODING_RESET_ALL_SUCCESS:\n            return {\n                ...state,\n                pending: false,\n                activities: resetAll(state.activities)\n            };\n        case GEOCODING_RESET_ALL_ERROR:\n            return {\n                ...state,\n                pending: false,\n                error: action.error,\n            };\n        case GEOCODING_CANCEL_PENDING:\n            return {\n                ...state,\n                pending: true,\n                error: null\n            };\n        case GEOCODING_CANCEL_SUCCESS:\n            return {\n                ...state,\n                status : \"NOT_STARTED\",\n                error: null,\n                pending: false,\n                activities : []\n            };\n        case GEOCODING_CANCEL_ERROR:\n            return {\n                ...state,\n                error: action.error,\n            };\n        case GEOCODING_SAVE_ALL_EDITS_PENDING:\n            return {\n                ...state,\n                pending: true,\n                save_pending: true,\n                geocodeShouldRun: false,\n            };\n        case GEOCODING_SAVE_ALL_EDITS_CHECK:\n            let pending = getActivitySavePendingStatus(state.save_activities_result);\n            return {\n                ...state,\n                error: null,\n                save_pending: pending,\n                pending: pending,\n                geocodeShouldRun: !pending,\n            };\n        case GEOCODING_SAVE_ACTIVITY_PENDING:\n            return {\n                ...state,\n                save_activities_result: updateActivitySaveStatus(state.save_activities_result, action.payload, true, null),\n            };\n        case GEOCODING_SAVE_ACTIVITY_SUCCESS:\n            return {\n                ...state,\n                save_activities_result: updateActivitySaveStatus(state.save_activities_result, action.payload, false, null),\n                activities: removeProject(state.activities, action.payload),\n            };\n        case GEOCODING_SAVE_ACTIVITY_ERROR:\n            return {\n                ...state,\n                save_activities_result: updateActivitySaveStatus(state.save_activities_result, action.payload, false, action.error),\n            };\n        case GEOCODING_RESET_SAVE_RESULTS:\n            return {\n                ...state,\n                save_activities_result: [],\n            };\n        case GEOCODING_RUN_SEARCH_ERROR:\n            return {\n                ...state,\n                pending: false,\n                error: action.error,\n                errorCode: action.errorCode\n            };\n        case GEOCODING_REMOVE_PROJECT_PENDING:\n            return {\n                ...state,\n                pending: true,\n                error: null\n            };\n        case GEOCODING_REMOVE_PROJECT_SUCCESS:\n            return {\n                ...state,\n                pending: false,\n                activities: removeProject(state.activities, action.payload),\n            };\n        case GEOCODING_REMOVE_PROJECT_ERROR:\n            return {\n                ...state,\n                pending: false,\n                error: action.error,\n                errorCode: action.errorCode\n            };\n        default:\n            return state;\n    }\n}\n\nfunction updateActivity(activities, action) {\n    return activities.map((item, id) => {\n        if(item.amp_id === action.payload.amp_id) {\n            return {\n                ...item,\n                locations: updateLocation(item.locations, action)\n            };\n        }\n\n        return item;\n    });\n}\n\nfunction updateLocation(locations, action) {\n    return locations.map((item, id) => {\n        if(item.id === action.payload.location_id) {\n            return {\n                ...item,\n                accepted: action.payload.accepted,\n                pending: false\n            };\n        }\n\n        return item;\n    });\n}\n\nfunction resetAll(activities) {\n    return activities.map((item, id) => {\n        return {\n            ...item,\n            locations: resetLocations(item.locations)\n        };\n    });\n}\n\nfunction resetLocations(locations) {\n    return locations.map((item, id) => {\n        return {\n            ...item,\n            accepted: null,\n            pending: false\n        };\n    });\n}\n\nfunction updateActivitySaveStatus(activities, ampId, pending, error) {\n    if (!activities.find(item => item.amp_id === ampId)) {\n        activities.push({\n            amp_id : ampId,\n            pending: pending,\n            error: error\n        });\n        return activities;\n    }\n\n    return activities.map((item, id) => {\n        if(item.amp_id === ampId) {\n            return {\n                ...item,\n                pending: pending,\n                error: error\n            };\n        }\n        return item;\n    });\n}\n\nfunction getActivitySavePendingStatus(activities) {\n    if (activities.find(item => item.pending === true)) {\n        return true;\n    }\n\n    return false;\n}\n\nfunction removeProject(activities, ampId) {\n    return activities.filter(item => item.amp_id !== ampId);\n}","export const FETCH_SETTINGS_PENDING = 'FETCH_SETTINGS_PENDING';\nexport const FETCH_SETTINGS_SUCCESS = 'FETCH_SETTINGS_SUCCESS';\nexport const FETCH_SETTINGS_ERROR = 'FETCH_SETTINGS_ERROR';\n\nexport function fetchSettingsPending() {\n    return {\n        type: FETCH_SETTINGS_PENDING\n    };\n}\n\nexport function fetchSettingsSuccess(layout) {\n    return {\n        type: FETCH_SETTINGS_SUCCESS,\n        payload: layout\n    };\n}\n\nexport function fetchSettingsError(error) {\n    return {\n        type: FETCH_SETTINGS_ERROR,\n        error\n    };\n}\n","import {FETCH_SETTINGS_ERROR, FETCH_SETTINGS_PENDING, FETCH_SETTINGS_SUCCESS} from \"../actions/settingsAction\";\n\nconst initialState = {\n    settingsLoaded: false,\n    settingsPending: false,\n    settings: {},\n    error: null\n};\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case FETCH_SETTINGS_PENDING:\n            return {\n                ...state,\n                settingsPending: true\n            };\n        case FETCH_SETTINGS_SUCCESS:\n            return {\n                ...state,\n                settingsPending: false,\n                settingsLoaded: true,\n                settings: action.payload\n            };\n        case FETCH_SETTINGS_ERROR:\n            return {\n                ...state,\n                settingsPending: false,\n                settingsLoaded: false,\n                error: action.payload.error\n            };\n        default:\n            return state;\n    }\n};\n","import {combineReducers} from 'redux';\nimport translationsReducer from \"../../../utils/reducers/translationsReducer\";\nimport activitiesReducer from \"./activitiesReducer\";\nimport geocodingReducer from \"./geocodingReducer\";\nimport settingsReducer from \"./settingsReducer\";\n\nexport default combineReducers({\n    translationsReducer,\n    activitiesReducer,\n    geocodingReducer,\n    settingsReducer\n});\n","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport PropTypes from 'prop-types';\nimport fetchTranslations from '../../../utils/actions/fetchTranslations';\nimport defaultTrnPack from '../config/initialTranslations.json';\nimport {Loading} from '../../../utils/components/Loading';\nimport {loadGeocoding} from \"../actions/geocodingAction\";\nimport fetchSettings from \"../../admin/ndd/actions/fetchSettings\";\n\n\nexport const TranslationContext = React.createContext({translations: defaultTrnPack});\n\n/**\n * Component used to load everything we need before launching the APP\n * TODO check if we should abstract it to a Load Translations component to avoid copy ^\n */\nclass AppContext extends Component {\n    static propTypes = {\n        translationPending: PropTypes.bool,\n        translations: PropTypes.object,\n        settings: PropTypes.object\n    };\n\n    componentDidMount() {\n        const {\n            _fetchTranslations, _loadGeocoding, _fetchSettings\n        } = this.props;\n\n        _fetchTranslations(defaultTrnPack);\n        _loadGeocoding();\n        _fetchSettings();\n    }\n\n    render() {\n        if (this.props.translationPending || this.props.geocodingPending) {\n            return <Loading/>;\n        }\n\n        return (\n            <TranslationContext.Provider value={{translations: this.props.translations}}>\n                {this.props.children}\n            </TranslationContext.Provider>);\n    }\n}\n\nAppContext.propTypes = {\n    _fetchTranslations: PropTypes.func.isRequired,\n    _loadGeocoding: PropTypes.func.isRequired,\n    _fetchSettings: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => {\n    return {\n        translationPending: state.translationsReducer.pending,\n        translations: state.translationsReducer.translations,\n        geocoding: state.geocodingReducer.geocoding,\n    };\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    _fetchTranslations: fetchTranslations,\n    _loadGeocoding: loadGeocoding,\n    _fetchSettings: fetchSettings\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppContext);\n","import React, {Component} from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport {TranslationContext} from \"../../../AppContext\";\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport {resetAllLocationStatuses} from \"../../../../actions/geocodingAction\";\n\nclass ResetAllButton extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {show: false};\n\n        this.handleClose = this.handleClose.bind(this);\n        this.handleShow = this.handleShow.bind(this);\n        this.onResetAll = this.onResetAll.bind(this);\n\n    }\n\n    handleClose() {\n        this.setState({show: false});\n    }\n\n    handleShow() {\n        this.setState({show: true});\n    }\n\n    onResetAll = (e) => {\n        this.props.resetAllActivities();\n        this.handleClose();\n    };\n\n    hasActivityAcceptedOrRejectedLocations(activity) {\n        if (activity.locations.length === 0) {\n            return false;\n        }\n\n        return activity.locations.filter(loc => loc.accepted != null).length > 0;\n    }\n\n    render() {\n        const {translations} = this.context;\n\n        const isEnabled = this.props.geocoding.activities\n            .filter(activity => this.hasActivityAcceptedOrRejectedLocations(activity)).length > 0;\n\n        return (\n            <>\n                <Button variant=\"primary\"  className={'pull-right'}\n                        onClick={this.handleShow} disabled={!isEnabled}>\n                    {this.props.title}\n                </Button>\n\n                <Modal show={this.state.show} onHide={this.handleClose} animation={false}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>{this.props.title}</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>{translations['amp.geocoder:resetAllConfirmation']}</Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={this.handleClose}>\n                            {translations['amp.geocoder:cancel']}\n                        </Button>\n                        <Button variant=\"primary\" className={'button-header'} onClick={this.onResetAll}>\n                            {this.props.title}\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n            </>\n        );\n    }\n}\n\nResetAllButton.contextType = TranslationContext;\n\nconst mapStateToProps = state => {\n    return {\n        geocoding: state.geocodingReducer,\n    };\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    resetAllActivities: resetAllLocationStatuses,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResetAllButton);","import React, {Component} from \"react\";\nimport Alert from \"react-bootstrap/Alert\";\nimport {TranslationContext} from \"../../AppContext\";\nimport {formatText} from \"../../../../../utils/Utils\";\n\nexport default class AlertError extends Component {\n    render() {\n        const {translations} = this.context;\n\n        let errorMessage = getErrorMessage(translations, this.props);\n\n        return (\n            <Alert variant=\"danger\" show={true} transition={false}>\n                <Alert.Heading>{translations['amp.geocoder:errorAlertWarning']}</Alert.Heading>\n                <p>{errorMessage}</p>\n            </Alert>\n        );\n    }\n}\n\nfunction getErrorMessage(translations, {errorCode, error}) {\n    let errorMessageCode = 'amp.geocoder:error.' + errorCode;\n\n    if (translations.hasOwnProperty(errorMessageCode)) {\n        if (errorCode === '1704' || errorCode === '1705') {\n            let errorObj = JSON.parse(error);\n            return formatText(translations[errorMessageCode], errorObj[0][Object.keys(errorObj[0])[0]][0]);\n        } else {\n            return translations[errorMessageCode];\n        }\n    }\n\n    return error;\n}\n\nAlertError.contextType = TranslationContext;","import React, {Component} from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport {TranslationContext} from \"../../../AppContext\";\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport AlertError from \"../AlertError\";\nimport {Loading} from \"../../../../../../utils/components/Loading\";\nimport {cancelGeocoding} from \"../../../../actions/geocodingAction\";\n\nclass CancelGeocodingButton extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {show: false};\n\n        this.handleClose = this.handleClose.bind(this);\n        this.handleShow = this.handleShow.bind(this);\n        this.onCancelGeocoding = this.onCancelGeocoding.bind(this);\n\n    }\n\n    handleClose() {\n        this.setState({show: false});\n    }\n\n    handleShow() {\n        this.setState({show: true});\n    }\n\n    onCancelGeocoding = (e) => {\n        this.props.cancelGeocoding();\n        this.handleClose();\n    };\n\n    render() {\n        const {translations} = this.context;\n\n        return (\n            <>\n                <Button variant=\"warning\" onClick={this.handleShow}>{this.props.title}</Button>\n\n                <Modal show={this.state.show} onHide={this.handleClose} animation={false}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>{this.props.title}</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>{translations['amp.geocoder:cancelGeocodingConfirmation']}</Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={this.handleClose}>\n                            {translations['amp.geocoder:cancel']}\n                        </Button>\n                        <Button variant=\"primary\" className={'button-header'} onClick={this.onCancelGeocoding}>\n                            {this.props.title}\n                        </Button>\n                        {this.props.geocoding.pending && <Loading/>}\n                        {this.props.geocoding.error && <AlertError error={this.props.geocoding.error}/>}\n                    </Modal.Footer>\n                </Modal>\n            </>\n        );\n    }\n}\n\nCancelGeocodingButton.contextType = TranslationContext;\n\nconst mapStateToProps = state => {\n    return {\n        geocoding: state.geocodingReducer,\n    };\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    cancelGeocoding: cancelGeocoding,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CancelGeocodingButton);","import React, {Component} from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport {TranslationContext} from \"../../../AppContext\";\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport {resetSaveResults, saveAllEdits} from \"../../../../actions/geocodingAction\";\n\nclass SaveAllEditsButton extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {show: false};\n\n        this.handleClose = this.handleClose.bind(this);\n        this.handleShow = this.handleShow.bind(this);\n        this.onSaveAllEdits = this.onSaveAllEdits.bind(this);\n    }\n\n    handleClose() {\n        this.setState({show: false});\n    }\n\n    handleShow() {\n        this.setState({show: true});\n    }\n\n    onSaveAllEdits = () => {\n        const ampIds = this.props.geocoding.activities\n            .filter(activity => activity.locations.length > 0)\n            .filter(activity => activity.locations.filter(loc => loc.accepted !== false && loc.accepted !== true).length < 1)\n            .filter(activity => activity.status !== 'SAVED')\n            .map(act => act.amp_id);\n        this.props._resetSaveResults();\n        this.props._saveAllEdits(ampIds);\n        this.handleClose();\n    }\n\n    hasActivityAcceptedOrRejectedAllLocations(activity) {\n        if (activity.locations.length === 0) {\n            return false;\n        }\n\n        return activity.locations.filter(loc => loc.accepted === null).length === 0;\n    }\n\n    render() {\n        const {translations} = this.context;\n\n        const isEnabled = this.props.geocoding.activities\n            .filter(activity => this.hasActivityAcceptedOrRejectedAllLocations(activity) && activity.status !== 'SAVED').length > 0;\n\n\n        let renderTooltip = props => (\n            <Tooltip {...props}>{this.props.tooltip}</Tooltip>\n        );\n\n        return (\n            <>\n\n                <OverlayTrigger placement=\"top\" overlay={renderTooltip}>\n                    <Button variant=\"success\"\n                            className={'pull-right button-header'}\n                            disabled={!isEnabled} onClick={this.handleShow}>{this.props.title}\n                    </Button>\n                </OverlayTrigger>\n\n                <Modal show={this.state.show} onHide={this.handleClose} animation={false}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>{this.props.title}</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>{translations['amp.geocoder:saveAllEditsConfirmation']}</Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={this.handleClose}>\n                            {translations['amp.geocoder:cancel']}\n                        </Button>\n                        <Button variant=\"success\" className={'button-header'} onClick={this.onSaveAllEdits}>\n                            {this.props.title}\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n            </>\n        );\n    }\n}\n\nSaveAllEditsButton.contextType = TranslationContext;\n\nconst mapStateToProps = state => {\n    return {\n        geocoding: state.geocodingReducer,\n    };\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    _resetSaveResults: resetSaveResults,\n    _saveAllEdits: saveAllEdits,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SaveAllEditsButton);","import React, {Component} from 'react';\nimport {TranslationContext} from '../../AppContext';\nimport '../panel/geocoder.css'\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport ResetAllButton from \"../panel/button/ResetAllButton\";\nimport CancelGeocodingButton from \"../panel/button/CancelGeocodingButton\";\nimport SaveAllEditsButton from \"../panel/button/SaveAllEditsButton\";\n\nclass GeocodingTableHeader extends Component {\n\n    render() {\n        const {translations} = this.context;\n\n        if (this.props.geocoding.pending || this.props.geocoding.geocodeShouldRun) {\n            return <></>\n        }\n\n        return (\n            <div className='panel-body custom-panel geocoder-header'>\n                <CancelGeocodingButton title={translations['amp.geocoder:cancelGeocoding']} />\n                <SaveAllEditsButton className={'pull-right button-header'} title={translations['amp.geocoder:saveAllEdits']}\n                                    tooltip={translations['amp.geocoder:saveAllEditsTooltip']}/>\n                <ResetAllButton title={translations['amp.geocoder:resetAll']} tooltip={translations['amp.geocoder:resetAllTooltip']}/>\n            </div>);\n    }\n}\n\nGeocodingTableHeader.contextType = TranslationContext;\n\nconst mapStateToProps = state => {\n    return {\n        geocoding: state.geocodingReducer,\n    };\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GeocodingTableHeader);\n","\nexport function parseDate(str) {\n    let m = str.match(/^(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})$/);\n    return (m) ? new Date(m[3], m[2]-1, m[1]) : null;\n}\n\nexport function orderDates(a, b, order) {\n    if (order === 'asc') {\n        return parseDate(a) - parseDate(b);\n    } else {\n        return parseDate(b) - parseDate(a);\n    }\n}","import React from 'react';\nimport {ClipLoader} from \"react-spinners\";\n\n\nexport const Loading = (props) => (\n    <>\n    <div className=\"modal-backdrop show\"></div>\n    <div className=\"loading\">\n        <div className=\"loading-dialog\">\n            <div className=\"loading-content\">\n                <div className=\"loading-title\">{props.title}</div>\n                <div className=\"loading-spinner\">\n                    <ClipLoader\n                        size={30}\n                        loading={true}\n                     />\n                </div>\n                <div className=\"loading-text\">{props.text}</div>\n            </div>\n        </div>\n    </div>\n    </>\n);\n","import React from 'react';\n\n\nexport const PaginationTotal = (from, to, size, translations) => (\n    <span className=\"react-bootstrap-table-pagination-total\">\n        {from} {translations['amp.geocoder:paginationTo']} {to} {translations['amp.geocoder:paginationOf']} {size} {translations['amp.geocoder:paginationProjects']}\n    </span>\n);\n","import React, {Component} from 'react';\nimport BootstrapTable from \"@musicstory/react-bootstrap-table-next\";\nimport paginationFactory from '@musicstory/react-bootstrap-table2-paginator';\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport filterFactory, { textFilter } from '@musicstory/react-bootstrap-table2-filter';\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\n\nimport './table.css';\nimport {loadActivities} from \"../../../actions/activitiesAction\";\nimport {orderDates} from \"../../../utils/utils\";\nimport {Loading} from \"../panel/Loading\";\nimport {TranslationContext} from \"../../AppContext\";\nimport {PaginationTotal} from \"./PaginationTotal\";\n\nclass ActivityTable extends Component {\n    constructor(props) {\n        super(props);\n\n        this.wrapper = React.createRef();\n    }\n\n    componentDidMount() {\n        this.props._loadActivities();\n    }\n\n    render() {\n        const {translations} = this.context;\n\n        const renderSelectAllTooltip = props => (\n            <Tooltip {...props}>{translations['amp.geocoder:selectAllTooltip']}</Tooltip>\n        );\n\n        let options = {\n            page: 1,\n            sizePerPage: this.props.settings['workspace-default-records-per-page'],\n            pageStartIndex: 1,\n            paginationSize: 15,\n            hideSizePerPage: true,\n            showTotal: true,\n            prePageTitle: translations['amp.geocoder:paginationNextPageTitle'],\n            nextPageTitle: translations['amp.geocoder:paginationPrevPageTitle'],\n            firstPageTitle: translations['amp.geocoder:paginationFirstPageTitle'],\n            lastPageTitle: translations['amp.geocoder:paginationLastPageTitle'],\n            paginationTotalRenderer: (from, to, size) => PaginationTotal(from, to, size, translations)\n        };\n\n        let selectRow = {\n            mode: 'checkbox',\n            style: { background: '#F2FFF8' },\n            onSelect: (row, isSelected, rowIndex, e) => {\n                this.props.onSelectActivity(isSelected, row.id);\n            },\n            selectionHeaderRenderer: ({mode, checked}) => (\n                <OverlayTrigger placement=\"top\" overlay={renderSelectAllTooltip}>\n                    <input type={mode} checked={checked}/>\n                </OverlayTrigger>\n            ),\n            onSelectAll: this.props.onSelectAllActivities\n        };\n\n        let lastUpdatedHeaderText = translations['amp.geocoder:lastUpdatedDate'];\n        let ampIdHeaderText = translations['amp.geocoder:ampId'];\n        let projectNameHeaderText = translations['amp.geocoder:projectName'];\n        let locationHeaderText = translations['amp.geocoder:location'];\n\n        let columns = [\n            {\n                dataField: \"id\",\n                text: \"ID\",\n                hidden: true\n            },\n            {\n                dataField: \"col1\",\n                text: lastUpdatedHeaderText,\n                sort: true,\n                sortFunc: (a, b, order) => {\n                    return orderDates(a, b, order);\n                },\n                headerStyle: () => {\n                    return { width: \"15%\" };\n                }\n            },\n            {\n                dataField: \"col2\",\n                text: ampIdHeaderText,\n                headerStyle: () => {\n                    return { width: \"20%\" };\n                },\n                sort:true,\n                filter: textFilter({\n                    placeholder: translations['amp.geocoder:select'] + ' ' + ampIdHeaderText\n                })\n            },\n            {\n                dataField: \"col3\",\n                text: projectNameHeaderText,\n                headerStyle: () => {\n                    return { width: \"45%\" };\n                },\n                filter: textFilter({\n                    placeholder: translations['amp.geocoder:select'] + ' ' + projectNameHeaderText\n                }),\n                sort:true\n            },\n            {\n                dataField: \"col4\",\n                text: locationHeaderText,\n                headerStyle: () => {\n                    return { width: \"15%\" };\n                },\n                sort:true\n            }\n        ];\n\n        return (\n            <div className=\"activity-table\">\n                {this.props.activitiesPending\n                    ? <Loading title={translations['amp.geocoder:geocodingRunning']} text={translations['amp.geocoder:geocodingRunningText']}/>\n                    : <>\n                        <BootstrapTable\n                            ref={n => this.node = n}\n                            keyField=\"id\"\n                            scrollY\n                            data={this.props.activities}\n                            maxHeight=\"200px\"\n                            columns={columns}\n                            classes=\"table-striped\"\n                            selectRow={selectRow}\n                            pagination={paginationFactory(options)}\n                            noDataIndication={() => translations['amp.geocoder:noActivities']}\n                            filter={filterFactory()}\n                        />\n                        </>}\n               </div>\n          );\n    }\n}\n\nActivityTable.contextType = TranslationContext;\n\nconst mapStateToProps = state => {\n    return {\n        activitiesPending: state.activitiesReducer.pending,\n        activities: state.activitiesReducer.activities,\n        settings: state.settingsReducer.settings\n    };\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    _loadActivities: loadActivities,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActivityTable);\n","import React, {Component} from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport {TranslationContext} from \"../../../AppContext\";\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport {removeProject} from \"../../../../actions/geocodingAction\";\nimport {faTimesCircle} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\n\nclass RemoveProjectButton extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {show: false};\n\n        this.handleClose = this.handleClose.bind(this);\n        this.handleShow = this.handleShow.bind(this);\n        this.onRemoveProject = this.onRemoveProject.bind(this);\n    }\n\n    handleClose(e) {\n        if (e && e.stopPropagation) {\n            e.stopPropagation();\n        }\n        this.setState({show: false});\n    }\n\n    handleShow(e) {\n        if (e && e.stopPropagation) {\n            e.stopPropagation();\n        }\n        this.setState({show: true});\n    }\n\n    onRemoveProject = (e) => {\n        this.props._removeProject(this.props.ampId);\n        this.handleClose(e);\n    }\n\n    render() {\n        const {translations} = this.context;\n\n        let renderTooltip = props => (\n            <Tooltip {...props}>{translations['amp.geocoder:removeProjectTooltip']}</Tooltip>\n        );\n\n        return (\n            <>\n\n                <OverlayTrigger placement=\"top\" overlay={renderTooltip}>\n                    <FontAwesomeIcon className={'fa-icon fa-lg'} icon={faTimesCircle} onClick={this.handleShow}/>\n                </OverlayTrigger>\n\n                <Modal show={this.state.show} onHide={this.handleClose} animation={false}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>{translations['amp.geocoder:removeProject']}</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <p>\n                            {translations['amp.geocoder:removeProjectConfirmation']}\n                        </p>\n                        <div className=\"modal-activities\">\n                            <div>{translations['amp.geocoder:ampId']}: {this.props.ampId}</div>\n                        </div>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={this.handleClose}>\n                            {translations['amp.geocoder:cancel']}\n                        </Button>\n                        <Button variant=\"success\" className={'button-header'} onClick={this.onRemoveProject}>\n                            {translations['amp.geocoder:removeProject']}\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n            </>\n        );\n    }\n}\n\nRemoveProjectButton.contextType = TranslationContext;\n\nconst mapStateToProps = () => ({});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    _removeProject: removeProject,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RemoveProjectButton);","import React, {Component} from 'react';\n\nimport {faPencilAlt} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport RemoveProjectButton from \"../panel/button/RemoveProjectButton\";\n\nexport default class GeocodingActionColumn extends Component {\n\n    render() {\n        let renderTooltip = props => (\n            <Tooltip {...props}>{this.props.tooltip}</Tooltip>\n        );\n\n        if (this.props.enabled) {\n            return (\n                <>\n                    <OverlayTrigger placement=\"top\" overlay={renderTooltip}>\n                        <FontAwesomeIcon className={'fa-icon fa-lg'} icon={faPencilAlt}/>\n                    </OverlayTrigger>\n\n                    <RemoveProjectButton ampId={this.props.ampId} />\n                </>\n            );\n        }\n\n        if (this.props.tooltipEnabled) {\n            return (\n                <>\n                    <OverlayTrigger placement=\"top\" overlay={renderTooltip}>\n                        <div className={'red-bold-message'}>{this.props.message}</div>\n                    </OverlayTrigger>\n                </>\n            );\n        }\n\n        return (<div className={'red-bold-message'}>{this.props.message}</div>);\n    }\n}\n","import React, {Component} from 'react';\n\nimport {faCheckCircle, faTimesCircle} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport {TranslationContext} from \"../../AppContext\";\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\n\nclass LocationActionColumn extends Component {\n\n    render() {\n\n        const {\n            handleAcceptLocation,\n            handleRejectLocation\n        } = this.props.handleLocation;\n\n        const {translations} = this.context;\n\n        let renderAcceptTooltip = props => (\n            <Tooltip {...props}>{translations['amp.geocoder:locationAcceptTooltip']}</Tooltip>\n        );\n\n        let renderRejectTooltip = props => (\n            <Tooltip {...props}>{translations['amp.geocoder:locationRejectTooltip']}</Tooltip>\n        );\n\n        return (\n            <div className={'location-action'}>\n                {this.props.location.accepted === true ? 'ACCEPTED' : this.props.location.accepted === false ? 'REJECTED'\n                        :\n                    <ul>\n                        <li>\n                            <OverlayTrigger placement=\"top\" overlay={renderAcceptTooltip}>\n                                {/*eslint-disable-next-line jsx-a11y/anchor-is-valid*/}\n                                <a href=\"#\" title=\"accept\" onClick={e => handleAcceptLocation(e, this.props.location.id)}>\n                                    <FontAwesomeIcon className={'fa-icon fa-2x'} icon={faCheckCircle}/>\n                                    <span>{translations['amp.geocoder:locationAccept']}</span>\n                                </a>\n                            </OverlayTrigger>\n                        </li>\n\n                        <li>\n                            <OverlayTrigger placement=\"top\" overlay={renderRejectTooltip}>\n                                {/*eslint-disable-next-line jsx-a11y/anchor-is-valid*/}\n                                <a href=\"#\" title=\"reject\" onClick={e => handleRejectLocation(e, this.props.location.id)}>\n                                    <FontAwesomeIcon className={'fa-icon fa-2x'} icon={faTimesCircle}/>\n                                    <span>{translations['amp.geocoder:locationReject']}</span>\n                                </a>\n                            </OverlayTrigger>\n                        </li>\n                    </ul>}\n            </div>\n        );\n    }\n}\n\n\nLocationActionColumn.contextType = TranslationContext;\n\nfunction mapStateToProps(state, ownProps) {\n    return {}\n}\n\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LocationActionColumn);","import React, {Component} from 'react';\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport Highlighter from \"react-highlight-words\";\nimport LocationActionColumn from \"./LocationActionColumn\";\nimport {geocodeLocation} from \"../../../actions/geocodingAction\";\nimport {TranslationContext} from \"../../AppContext\";\n\n\nfunction LocationFields({fields}) {\n    return (\n        fields.map((field) =>\n            <>\n            <div> / <b>{field.label}</b> |\n                <span className={'location-text'}>\n                    <Highlighter\n                        searchWords={[field.entity]}\n                        autoEscape={true}\n                        textToHighlight={field.value}\n                    />\n                </span>\n            </div>\n            </>\n        )\n    );\n}\n\nclass Locations extends Component {\n\n    selectLocations = (ampId) => {\n        return this.props.activities.filter(activity => activity.amp_id === ampId)[0].locations;\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.selectLocations = this.selectLocations.bind(this);\n    }\n\n    handleAcceptLocation = (e, locationId) => {\n        this.props.geocodeLocation(this.props.ampId, locationId, true)\n\n        e.preventDefault();\n    };\n\n    handleRejectLocation = (e, locationId) => {\n        this.props.geocodeLocation(this.props.ampId, locationId, false);\n\n        e.preventDefault();\n    };\n\n    render() {\n        let locations = this.selectLocations(this.props.ampId);\n\n        const handleLocation = {\n            handleAcceptLocation: this.handleAcceptLocation.bind(this),\n            handleRejectLocation: this.handleRejectLocation.bind(this),\n        };\n\n        const {translations} = this.context;\n\n        let locationItems = locations.map((location) =>\n            <>\n                <tr>\n                    <td className=\"col-10 location-name-column\">\n                        <span className=\"location-name\">{location.name}</span>\n                        <span>({location.administrative_level})</span>\n                    </td>\n                    <td className=\"col-70 location-field-column \">\n                        <LocationFields fields={location.fields}/>\n                    </td>\n                    <td className=\"col-20\">\n                        <LocationActionColumn location={location} handleLocation={handleLocation} props={this.props}/>\n                    </td>\n                </tr>\n                <tr>\n                    <td colSpan=\"3\"><div className={'border-line'}></div></td>\n                </tr>\n            </>\n        );\n\n\n        return ( <div>\n            <div className={'search-result'}><b>{locations.length}</b> {translations['amp.geocoder:searchResults']} <b>{translations['amp.geocoder:locations']}</b></div>\n            <div>\n                <table className={'location-container'}>\n                    <tbody>\n                        {locationItems}\n                    </tbody>\n                </table>\n            </div>\n        </div>);\n    }\n}\n\nLocations.contextType = TranslationContext;\n\nconst mapStateToProps = state => {\n    return {\n        activities: state.geocodingReducer.activities,\n    };\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    geocodeLocation: geocodeLocation,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Locations);","import React, {Component} from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport {TranslationContext} from \"../../../AppContext\";\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport AlertError from \"../AlertError\";\nimport {Loading} from \"../../../../../../utils/components/Loading\";\nimport {cancelGeocoding} from \"../../../../actions/geocodingAction\";\n\nclass ActivityWithoutLocationsDialog extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {show: true};\n\n        this.handleClose = this.handleClose.bind(this);\n        this.onDiscardChanges = this.onDiscardChanges.bind(this);\n\n    }\n\n    handleClose() {\n        this.setState({show: false});\n    }\n\n    onDiscardChanges = (e) => {\n        this.props.cancelGeocoding();\n        this.handleClose();\n    };\n\n    render() {\n        const {translations} = this.context;\n\n        return (\n            <>\n                <Modal show={this.state.show} onHide={this.handleClose} animation={false}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>{this.props.title}</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>{translations['amp.geocoder:discardGeocodingText']}</Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={this.handleClose}>\n                            {translations['amp.geocoder:cancel']}\n                        </Button>\n                        <Button variant=\"primary\" className={'button-header'} onClick={this.onDiscardChanges}>\n                            {this.props.title}\n                        </Button>\n                        {this.props.geocoding.pending && <Loading/>}\n                        {this.props.geocoding.error && <AlertError error={this.props.geocoding.error}/>}\n                    </Modal.Footer>\n                </Modal>\n            </>\n        );\n    }\n}\n\nActivityWithoutLocationsDialog.contextType = TranslationContext;\n\nconst mapStateToProps = state => {\n    return {\n        geocoding: state.geocodingReducer,\n    };\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    cancelGeocoding: cancelGeocoding,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActivityWithoutLocationsDialog);","import React, {Component} from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport {TranslationContext} from \"../../../AppContext\";\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport {loadGeocoding, resetSaveResults} from \"../../../../actions/geocodingAction\";\n\nfunction ActivitySaveResults(props) {\n    const results = [];\n    const activitiesWithoutErrors = props.activities.filter(activity => !activity.error);\n    const activitiesWithErrors = props.activities.filter(activity => activity.error);\n\n    if (activitiesWithoutErrors.length > 0) {\n        results.push(<div className={'status-header'}>{props.translations['amp.geocoder:saveResultsText']}:</div>)\n        results.push(\n            activitiesWithoutErrors.map((activity) =>\n                <>\n                    <div>{props.translations['amp.geocoder:ampId']}: {activity.amp_id}</div>\n                </>\n            )\n        );\n    }\n\n    function deepFlatten(array) {\n        return array.reduce(function (r, e) {\n            return Array.isArray(e) ? r.push(...deepFlatten(e)) : (r.push(e), r)\n        }, [])\n    };\n\n    function translateErrorMessage(message) {\n        if (message === \"Different implementation levels selected\") {\n            return props.translations['amp.geocoder:error.differentImplementationLevels'];\n        }\n        return message;\n    };\n\n    function getUserFriendlyErrorMessage(error) {\n        let messages = Object.values(JSON.parse(error))\n            .map(x => Object.values(x))\n            .flat();\n\n        return deepFlatten(messages)\n            .map(translateErrorMessage)\n            .join(\"; \");\n    }\n\n    if (activitiesWithErrors.length > 0) {\n        results.push(<br/>);\n        results.push(<div className={'status-header'}>{props.translations['amp.geocoder:saveResultsErrorText']}:</div>)\n        results.push(\n            activitiesWithErrors.map((activity) =>\n                <>\n                    <div>{props.translations['amp.geocoder:ampId']}: {activity.amp_id}</div>\n                    <div className={'status-error'}>{getUserFriendlyErrorMessage(activity.error)}</div>\n                    <br/>\n                </>\n            )\n        );\n    }\n\n    return results;\n}\n\nclass ActivitySaveResultsDialog extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {show: true};\n\n        this.handleClose = this.handleClose.bind(this);\n\n    }\n\n    handleClose() {\n        this.props.resetSaveResults();\n        this.setState({show: false});\n    }\n\n    render() {\n        const {translations} = this.context;\n\n        return (\n            <>\n                <Modal show={this.state.show} onHide={this.handleClose} animation={false}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>{this.props.title}</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                            <ActivitySaveResults translations={translations}\n                                                 activities={this.props.geocoding.save_activities_result} />\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"primary\" onClick={this.handleClose}>\n                            {translations['amp.geocoder:ok']}\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n            </>\n        );\n    }\n}\n\nActivitySaveResultsDialog.contextType = TranslationContext;\n\nconst mapStateToProps = state => {\n    return {\n        geocoding: state.geocodingReducer,\n    };\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    loadGeocoding: loadGeocoding,\n    resetSaveResults: resetSaveResults,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActivitySaveResultsDialog);","import React, {Component} from 'react';\nimport BootstrapTable from \"@musicstory/react-bootstrap-table-next\";\nimport paginationFactory from '@musicstory/react-bootstrap-table2-paginator';\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport GeocodingActionColumn from \"./GeocodingActionColumn\";\nimport filterFactory, {textFilter} from '@musicstory/react-bootstrap-table2-filter';\n\nimport './table.css';\nimport Locations from \"./Locations\";\nimport {Loading} from \"../panel/Loading\";\nimport {loadGeocoding} from \"../../../actions/geocodingAction\";\nimport {TranslationContext} from \"../../AppContext\";\nimport ActivityWithoutLocationsDialog from \"../panel/dialog/ActivityWithoutLocationsDialog\";\nimport ActivitySaveResultsDialog from \"../panel/dialog/ActivitySaveResultsDialog\";\nimport {orderDates} from \"../../../utils/utils\";\nimport {PaginationTotal} from \"./PaginationTotal\";\n\nclass GeocodingTable extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { selectedRowAction: null };\n\n        this.handleActionsClick = this.handleActionsClick.bind(this);\n        this.hasLocations = this.hasLocations.bind(this);\n        this.wrapper = React.createRef();\n    }\n\n    handleActionsClick = selectedRowId => {\n        this.setState({ selectedRowAction: selectedRowId });\n    };\n\n    hasLocations = ampId => {\n        return this.props.activities.filter(activity => activity.amp_id === ampId)[0].locations.length > 0;\n    }\n\n    hasError = ampId => {\n        return this.props.activities.filter(activity => activity.amp_id === ampId)[0].status === 'ERROR';\n    }\n\n    getNonExpandableIds = () => {\n        return this.props.activities.filter(activity => activity.locations.length < 1).map(act => act.amp_id);\n    }\n\n    existLocationsInGeocoding = () => {\n        return this.props.activities.some(activity => activity.status === 'ERROR'\n                                          || (activity.locations.length > 0 && activity.status !== 'SAVED'));\n    }\n\n    existSaveResults = () => {\n        return this.props.save_activities_result && this.props.save_activities_result.length > 0;\n    }\n\n    componentDidMount() {\n        if(this.props.geocodeShouldRun) {\n            this.props.loadGeocoding();\n        }\n    }\n\n    componentDidUpdate() {\n        if(this.props.geocodeShouldRun) {\n            setTimeout(() => this.props.loadGeocoding(), 5000);\n        }\n    }\n\n    expandComponent(row) {\n        return (\n            <div>\n                <Locations/>\n            </div>\n        );\n    }\n\n    render() {\n        const {translations} = this.context;\n\n        if (this.props.geocodingPending || this.props.geocodeShouldRun) {\n            return <Loading title={translations['amp.geocoder:geocodingRunning']} text={translations['amp.geocoder:geocodingRunningText']}/>\n        }\n\n        let expandRow = {\n            onlyOneExpanding: false,\n            renderer: row => (\n                <Locations ampId={row.amp_id}/>\n            ),\n            nonExpandable: this.getNonExpandableIds(),\n            showExpandColumn: true,\n            expandByColumnOnly: false,\n            expandColumnPosition: 'right',\n            parentClassName: 'geocoding-table-expanded-row',\n            expandColumnRenderer: ({isExpanded, rowKey, expandable}) => {\n                let containsError = this.hasError(rowKey);\n                let containsLocations = this.hasLocations(rowKey);\n                return <GeocodingActionColumn\n                    ampId={rowKey} enabled={containsLocations} tooltipEnabled={containsLocations || containsError}\n                    message={containsError ? translations['amp.geocoder:errorGeocoding'] : translations['amp.geocoder:noLocations']}\n                    tooltip={containsError ? translations['amp.geocoder:errorGeocodingTooltip'] : translations['amp.geocoder:editActionTooltip']}\n                />\n            },\n            expandHeaderColumnRenderer: ({ isAnyExpands }) => (null)\n        };\n\n        let options = {\n            page: 1,\n            sizePerPage: this.props.settings['workspace-default-records-per-page'],\n            pageStartIndex: 1,\n            paginationSize: 5,\n            hideSizePerPage: true,\n            showTotal: true,\n            prePageTitle: translations['amp.geocoder:paginationNextPageTitle'],\n            nextPageTitle: translations['amp.geocoder:paginationPrevPageTitle'],\n            firstPageTitle: translations['amp.geocoder:paginationFirstPageTitle'],\n            lastPageTitle: translations['amp.geocoder:paginationLastPageTitle'],\n            paginationTotalRenderer: (from, to, size) => PaginationTotal(from, to, size, translations)\n        };\n\n        let lastUpdatedHeaderText = translations['amp.geocoder:lastUpdatedDate'];\n        let ampIdHeaderText = translations['amp.geocoder:ampId'];\n        let projectNameHeaderText = translations['amp.geocoder:projectName'];\n\n        let columns = [\n            {\n                dataField: \"updated_date\",\n                text: lastUpdatedHeaderText,\n                sort: true,\n                sortFunc: (a, b, order) => {\n                    return orderDates(a, b, order);\n                },\n                headerStyle: () => {\n                    return { width: \"15%\" };\n                }\n            },\n            {\n                dataField: \"amp_id\",\n                text: ampIdHeaderText,\n                headerStyle: () => {\n                    return { width: \"20%\" };\n                },\n                filter: textFilter({\n                    placeholder: translations['amp.geocoder:select'] + ' ' + ampIdHeaderText\n                }),\n                sort:true\n            },\n            {\n                dataField: \"project_title\",\n                text: projectNameHeaderText,\n                headerStyle: () => {\n                    return { width: \"58%\" };\n                },\n                filter: textFilter({\n                    placeholder: translations['amp.geocoder:select'] + ' ' + projectNameHeaderText\n                }),\n                sort:true\n            }\n        ];\n\n        let data = this.props.activities\n                .filter(act => act.status === 'ERROR' || (act.locations.length > 0 && act.status !== 'SAVED'));\n\n        return (\n            <>\n            <div className=\"activity-table\">\n                <BootstrapTable\n                    keyField=\"amp_id\"\n                    scrollY\n                    data={data}\n                    maxHeight=\"200px\"\n                    columns={columns}\n                    expandRow={expandRow}\n                    classes=\"table-striped geocoding-table\"\n                    pagination={paginationFactory(options)}\n                    filter={filterFactory()}\n                    expandColumnOptions={{\n                        expandColumnVisible: true,\n                        columnWidth: '200px'\n                    }}/>\n            </div>\n                {this.existSaveResults() ? <ActivitySaveResultsDialog title={translations['amp.geocoder:saveResults']}/>\n                    : !this.existLocationsInGeocoding() && <ActivityWithoutLocationsDialog title={translations['amp.geocoder:discardGeocodingButton']}/>\n                }\n            </>\n\n    );\n    }\n}\n\nGeocodingTable.contextType = TranslationContext;\n\nconst mapStateToProps = state => {\n    return {\n        geocodingPending: state.geocodingReducer.pending,\n        activities: state.geocodingReducer.activities,\n        save_activities_result: state.geocodingReducer.save_activities_result,\n        geocodeShouldRun: state.geocodingReducer.geocodeShouldRun,\n        settings: state.settingsReducer.settings\n    };\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    loadGeocoding: loadGeocoding,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GeocodingTable);\n","import React, {Component} from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport Modal from \"react-bootstrap/Modal\";\nimport {TranslationContext} from \"../../../AppContext\";\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport {runSearch} from \"../../../../actions/geocodingAction\";\n\nclass RunSearchButton extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {show: false};\n\n        this.handleClose = this.handleClose.bind(this);\n        this.handleShow = this.handleShow.bind(this);\n        this.onRunSearch = this.onRunSearch.bind(this);\n    }\n\n    handleClose() {\n        this.setState({show: false});\n    }\n\n    handleShow() {\n        this.setState({show: true});\n    }\n\n    onRunSearch = () => {\n        this.props.runSearch(this.props.selectedActivities);\n        this.handleClose();\n    }\n\n    render() {\n        const {translations} = this.context;\n\n        let renderTooltip = props => (\n            <Tooltip {...props}>{this.props.tooltip}</Tooltip>\n        );\n\n        return (\n            <>\n                <OverlayTrigger placement=\"top\" overlay={renderTooltip}>\n                    <Button variant=\"success\"\n                            className={'pull-right button-header'}\n                            disabled={this.props.selectedActivities.length < 1 || this.props.activitiesPending} onClick={this.handleShow}>{this.props.title}\n                    </Button>\n                </OverlayTrigger>\n\n                <Modal show={this.state.show} onHide={this.handleClose} animation={false}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>{this.props.title}</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        {translations['amp.geocoder:runSearchText']}:\n                        <div className=\"modal-activities\">\n                            {this.props.activities\n                                .filter(act => this.props.selectedActivities.includes(act.id))\n                                .map((value) => {\n                                return <div key={value.col2}>{value.col2}</div>\n                            })}\n                        </div>\n                        </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={this.handleClose}>\n                            {translations['amp.geocoder:cancel']}\n                        </Button>\n                        <Button variant=\"success\" className={'button-header'} onClick={this.onRunSearch}>\n                            {this.props.title}\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n            </>\n        );\n    }\n}\n\nRunSearchButton.contextType = TranslationContext;\n\nconst mapStateToProps = state => {\n    return {\n        geocoding: state.geocodingReducer,\n        activitiesPending: state.activitiesReducer.pending,\n        activities: state.activitiesReducer.activities\n    };\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    runSearch: runSearch,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RunSearchButton);","import React, {Component} from 'react';\nimport {TranslationContext} from '../../AppContext';\nimport '../panel/geocoder.css'\nimport Button from \"react-bootstrap/Button\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport RunSearchButton from \"../panel/button/RunSearchButton\";\nimport {loadActivities, switchNationalProjects} from \"../../../actions/activitiesAction\";\n\nconst SelectedActivitiesMessage = ({title, selectedSize, size}) =>  {\n    return (\n        <>\n            <div className={'col-md-2 text-header'}>\n                <span>{title}</span>\n                <span className=\"activities-message\"><b>({selectedSize}/{size})</b></span>\n            </div>\n        </>\n    );\n}\n\nclass ActivityTableHeader extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.onToggleNationalProjects = this.onToggleNationalProjects.bind(this);\n    }\n\n    onToggleNationalProjects = () => {\n        this.props._switchNationalProjects();\n        this.props._loadActivities(!this.props._includeNationalProjects);\n    }\n\n\n    render() {\n        const {translations} = this.context;\n\n        if (this.props.activitiesPending) {\n            return <></>\n        }\n\n\n        let toggleButtonTooltip = this.props._includeNationalProjects ? translations['amp.geocoder:removeNationalLevelProjectsTooltip']\n            : translations['amp.geocoder:addNationalLevelProjectsTooltip'];\n\n        let toggleButtonText = this.props._includeNationalProjects ? translations['amp.geocoder:removeNationalLevelProjects']\n            : translations['amp.geocoder:addNationalLevelProjects'];\n\n        let renderTooltip = props => (\n            <Tooltip {...props}>{toggleButtonTooltip}</Tooltip>\n        );\n\n        return (\n            <div className='panel-body custom-panel geocoder-header'>\n                <SelectedActivitiesMessage title={translations['amp.geocoder:selectProjects']}\n                                            selectedSize={this.props.selectedActivities.length}\n                                            size={this.props.activities.length} />\n                <RunSearchButton title={translations['amp.geocoder:runSearch']} tooltip={translations['amp.geocoder:runSearchTooltip']}\n                         selectedActivities={this.props.selectedActivities}\n                         onRunSearch={this.onRunSearch} />\n                <OverlayTrigger placement=\"top\" overlay={renderTooltip}>\n                    <Button variant=\"primary\"\n                            className={'pull-right button-header'}\n                            onClick={this.onToggleNationalProjects}>{toggleButtonText}\n                    </Button>\n                </OverlayTrigger>\n            </div>);\n    }\n}\n\nActivityTableHeader.contextType = TranslationContext;\n\nconst mapStateToProps = state => {\n    return {\n        activities: state.activitiesReducer.activities,\n        activitiesPending: state.activitiesReducer.pending,\n        _includeNationalProjects: state.activitiesReducer.includeNationalProjects\n    };\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    _switchNationalProjects: switchNationalProjects,\n    _loadActivities: loadActivities,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActivityTableHeader);\n","import React, {Component} from 'react';\nimport {TranslationContext} from '../../AppContext';\nimport GeocodingTableHeader from \"../table/GeocodingTableHeader\";\nimport ActivityTable from \"../table/ActivityTable\";\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport GeocodingTable from \"../table/GeocodingTable\";\nimport AlertError from \"./AlertError\";\nimport ActivityTableHeader from \"../table/ActivityTableHeader\";\nimport {selectActivitiesForGeocoding} from \"../../../actions/activitiesAction\";\n\nconst ProjectList = ({title}) => <div className={'geocoder-title'}>{title}</div>;\n\nclass GeocoderPanel extends Component {\n\n    onSelectActivity = (isSelected, ampId) => {\n        let selectedActivities = Array.from(this.props.selectedActivities);\n        if (isSelected) {\n            selectedActivities.push(ampId);\n        } else {\n            selectedActivities = selectedActivities.filter(id => id !== ampId);\n        }\n        this.props.selectActivitiesForGeocoding(selectedActivities);\n    }\n\n    onSelectAllActivities = (isSelected, rows) => {\n        let selectedActivities = Array.from(this.props.selectedActivities);\n        let ampIds = rows.map(r => r.id);\n\n        if (isSelected) {\n            ampIds.forEach(ampId => selectedActivities.push(ampId));\n        } else {\n            selectedActivities = selectedActivities.filter(id => !ampIds.includes(id));\n        }\n\n        this.props.selectActivitiesForGeocoding(selectedActivities);\n    }\n\n    render() {\n        const {translations} = this.context;\n\n        const isGeocoding = this.props.geocoding && this.props.geocoding.status !== 'NOT_STARTED';\n\n        let title = translations['amp.geocoder:projectList'];\n        let table;\n        let tableHeader;\n\n        let pending;\n\n        if (isGeocoding) {\n            pending = this.props.geocoding.pending || this.props.geocoding.geocodeShouldRun;\n            title = title +  ' - ' + translations['amp.geocoder:geocodedSelection'];\n            tableHeader =  <GeocodingTableHeader/>;\n            table = <GeocodingTable/>;\n        } else {\n            pending = this.props.activitiesPending;\n            tableHeader =  <ActivityTableHeader selectedActivities={this.props.selectedActivities}/>;\n            table = <ActivityTable onSelectActivity={this.onSelectActivity.bind(this)}\n                                   onSelectAllActivities={this.onSelectAllActivities.bind(this)}/>\n        }\n\n        return (\n            <div>\n                {this.props.geocoding.error\n                    ?  <AlertError error={this.props.geocoding.error} errorCode={this.props.geocoding.errorCode}/>\n                    : <div>\n                        {!pending && <ProjectList title={title}/>}\n                        <div className='panel panel-default'>\n                            {tableHeader}\n                            {table}\n                        </div>\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nGeocoderPanel.contextType = TranslationContext;\n\nconst mapStateToProps = state => {\n    return {\n        activitiesPending: state.activitiesReducer.pending,\n        geocoding: state.geocodingReducer,\n        selectedActivities: state.activitiesReducer.selectedActivities\n    };\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    selectActivitiesForGeocoding: selectActivitiesForGeocoding,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GeocoderPanel);","import React, {Component} from 'react';\nimport {applyMiddleware, compose, createStore} from 'redux';\nimport thunk from 'redux-thunk';\nimport {Provider} from 'react-redux'\n\nimport rootReducer from './reducers/rootReducer';\nimport defaultTrnPack from './config/initialTranslations';\nimport AppContext from './components/AppContext';\nimport GeocoderPanel from \"./components/layout/panel/GeocoderPanel\";\nimport './index.css';\nimport '../../open-sans.css';\n\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nclass GeocoderAPP extends Component {\n    constructor(props) {\n        super(props)\n        this.store = createStore(rootReducer, composeEnhancer(applyMiddleware(thunk)));\n\n    }\n\n    render() {\n        return (<Provider store={this.store}>\n            <AppContext defaultTrnPack = {defaultTrnPack}>\n                <div className='container'>\n                    <GeocoderPanel />\n                </div>\n            </AppContext>\n        </Provider>);\n\n    }\n}\n\nexport default GeocoderAPP;","export const ZERO = 0;\nexport const ONE = 1;\nexport const NEGATIVE_ONE = -1;\nexport const FLAGS_DIRECTORY = '/assets/img/flags/';\n\nexport const DASHBOARD_DEFAULT_MIN_YEAR_RANGE = 'dashboard-default-min-year-range';\nexport const DASHBOARD_DEFAULT_MAX_YEAR_RANGE = 'dashboard-default-max-year-range';\n\nexport const API_FILTERS_SECTORS_URL = '/rest/filters/sectors';\nexport const API_FILTERS_COUNTRIES_URL = '/rest/filters/locations?firstLevelOnly=true&showAllCountries=true';\nexport const API_AMP_SETTINGS_URL = '/rest/amp/settings';\nexport const API_FILTERS_MODALITIES_URL = '/rest/filters/modalities?sscWorkspace=true';\nexport const API_SSC_DASHBOARD_URL = '/rest/gis/sscdashboard';\nexport const API_XLS_REPORT_URL = '/rest/gis/sscdashboard/xsl';\nexport const API_REPORTS_ACTIVITY_DETAIL_URL = '/rest/gis/activities';\n\nexport const BOOTSTRAP_COLUMNS_COUNT = 12;\n\nexport const NON_SELECTED_LINE_COLOR = '#fd8f00';\nexport const NON_SELECTED_BUBBLE_COLOR = '#fd8f00';\n\nexport const SELECTED_LINE_COLOR = '#007236';\nexport const SELECTED_BUBBLE_COLOR = '#007236';\nexport const PNG_FORMAT = 'png';\nexport const PROJECT_LENGTH_HOME_PAGE = 50;\nexport const UNDEFINED_FILTER = -999999999;\nexport const FLAGS_TO_SHOW_DEFAULT = 9;\nexport const FLAGS_TO_SHOW_SMALL = 6;\nexport const FLAGS_TO_SHOW_SMALL_WIDTH_THRESHOLD = 1766;\nexport const SECTORS_LIMIT_CHART = 5;\nexport const SECTORS_OTHERS_ID_CHART = '-1';\nexport const DEFAULT_SCREEN_SIZE = 1920;\nexport const DEFAULT_ELLIPSIS = 145;\nexport const SECTOR_MODALITY_MIN_SIZE = 2;\nexport const SECTOR_MODALITY_LEADING_LEFT = '0';\nexport const WS_PREFIX = 'SSC_';\n\nexport const HOME_CHART = 'home';\nexport const SECTORS_CHART = 'sector';\nexport const MODALITY_CHART = 'modality';\nexport const DOWNLOAD_CHART = 'download';\nexport const COUNTRY_COLUMN = 'country-column';\n// eslint-disable-next-line max-len\nexport const FALLBACK_FLAG = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAbCAQAAACkGQXlAAAAI0lEQVR42mP8L8lAVcA4auCogaMGjho4auCogaMGjhpINAAAOBcdpLw/CDsAAAAASUVORK5CYII=';\nexport const OTHERS_CODE = '000';\nexport const INVALID_COLUMN_ERROR_CODE = '0602';\nexport const FILTER_PRIMARY_SECTOR = 'primary-sector';\nexport const FILTER_SSC_MODALITIES = 'ssc-modalities';\nexport const FILTER_DONOR_AGENCY_COUNTRY = 'donor-agency-country';\n\n\nexport const SECTOR_COLOR_MAP = new Map([\n  ['110', '#d46453'], ['120', '#f5a15d'], ['130', '#ffcf8e'], ['140', '#ff7a7d'], ['150', '#ff417d'],\n  ['160', '#d61a88'], ['210', '#fff540'], ['220', '#28c074'], ['230', '#429058'], ['240', '#bd4035'],\n  ['250', '#b0fff1'], ['311', '#144491'], ['312', '#9b0e3e'], ['313', '#10908e'], ['321', '#8f5765'],\n  ['322', '#c7d4e1'], ['323', '#77b02a'], ['331', '#488bd4'], ['332', '#928fb8'], ['400', '#c6d831'],\n  ['500', '#d41e3c'], ['600', '#cf968c'], ['700', '#78d7ff'], ['910', '#94007a'], ['920', '#ffb84a'],\n  ['930', '#ed7b39'], ['998', '#ed4c40'], ['000', '#8f5765']\n]);\nexport const MODALITIES_COLOR_MAP = new Map([\n  [OTHERS_CODE, '#8f5765']]);\n\nexport const MODALITIES_COLOR = ['#00429d', '#3761ab', '#5681b9', '#73a2c6', '#93c4d2', '#b9e5dd',\n  '#ffffe0', '#ffd3bf', '#ffa59e', '#f4777f', '#dd4c65', '#be214d', '#93003a'];\nexport const COLOR_MAP_CUSTOM = new Map([[\n  MODALITY_CHART, MODALITIES_COLOR\n]]);\n\nexport const COLOR_MAP = new Map([\n  [SECTORS_CHART, SECTOR_COLOR_MAP],\n  [MODALITY_CHART, MODALITIES_COLOR_MAP]\n]);\n","import { DEVELOPMENT } from './Constants';\n\nexport function getRootUrl() {\n  if (process.env.NODE_ENV === DEVELOPMENT) {\n    return '/#';\n  } else {\n    return `${process.env.PUBLIC_URL}/index.html#`;\n  }\n}\n\nexport function formatText(text) {\n    var args = arguments;\n    return text.replace(/{(\\d+)}/g, function (match, number) {\n        let argIdx = parseInt(number) + 1;\n        return typeof args[argIdx] != 'undefined' ? args[argIdx] : match;\n    });\n};","import { fetchTranslationsSuccess, fetchTranslationsPending, fetchTranslationsError }\n  from './translationsActions';\nimport { loadTranslations } from '../loadTranslations';\n\nfunction fetchTranslations(translations) {\n  return dispatch => {\n    dispatch(fetchTranslationsPending(translations));\n    return loadTranslations(translations)\n      .then(trnPack => dispatch(fetchTranslationsSuccess(trnPack)))\n      .catch(error => dispatch(fetchTranslationsError(error)));\n  };\n}\nexport default fetchTranslations;\n","export const FETCH_TRANSLATIONS_PENDING = 'FETCH_TRANSLATIONS_PENDING';\nexport const FETCH_TRANSLATIONS_SUCCESS = 'FETCH_TRANSLATIONS_SUCCESS';\nexport const FETCH_TRANSLATIONS_ERROR = 'FETCH_TRANSLATIONS_ERROR';\n\nexport function fetchTranslationsPending(translations) {\n  return {\n    type: FETCH_TRANSLATIONS_PENDING,\n    payload: translations\n  };\n}\n\nexport function fetchTranslationsSuccess(translations) {\n  return {\n    type: FETCH_TRANSLATIONS_SUCCESS,\n    payload: translations\n  };\n}\n\nexport function fetchTranslationsError(error) {\n  return {\n    type: FETCH_TRANSLATIONS_ERROR,\n    error\n  };\n}\n","const POST = 'POST';\nconst GET = 'GET';\nconst DELETE = 'DELETE';\n\nexport function getRequestOptions(body) {\n    const requestOptions = {\n        method: body ? POST : GET,\n        headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}\n    };\n    if (body) {\n        requestOptions.body = JSON.stringify(body);\n    }\n    return requestOptions;\n}\n\nexport const callDeleteApiEndpoint = ({url}) => {\n    const deleteRequestOptions = {\n        method: DELETE,\n        headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}\n    }\n\n    return new Promise((resolve, reject) => {\n        return fetch(url, deleteRequestOptions)\n            .then(data => {\n                if (data.error) {\n                    return reject(data.error);\n                }\n                return resolve(data);\n            }).catch(error => reject(error));\n    })\n};\n\nexport const fetchApiData = ({body, url}) => {\n    return new Promise((resolve, reject) => {\n        return fetch(url, getRequestOptions(body))\n            .then(response => {\n                return response.json();\n            })\n            .then(data => {\n                if (data.error) {\n                    return reject(data.error);\n                }\n                return resolve(data);\n            }).catch(error => reject(error));\n    })\n};\n\nexport const fetchApiDataWithStatus = ({body, url}) => {\n    return new Promise((resolve, reject) => {\n        return fetch(url, getRequestOptions(body))\n            .then(response => response.text().then(data => {\n                let contentType = response.headers.get(\"content-type\");\n                let parsedData = data;\n                if (data && contentType && contentType.indexOf(\"application/json\") !== -1) {\n                    parsedData = JSON.parse(data);\n                }\n                return ({\n                    data: parsedData,\n                    ok : response.ok,\n                    status: response.status\n                })}\n            ).then(response => {\n                if (!response.ok) {\n                    return reject({\n                        status: response.status,\n                        message: extractErrorMessageFromResponse(response),\n                        code: extractErrorCodeFromResponse(response)\n                    });\n                }\n                return resolve(response);\n            })).catch(error => reject(error));\n    })\n};\n\nexport function extractErrorMessageFromResponse(response) {\n    let errorMessage = \"\";\n    if (response.data && response.data.error) {\n        for (let k in response.data.error) {\n            errorMessage += JSON.stringify(response.data.error[k]);\n        }\n    } else {\n        errorMessage = response.data\n    }\n\n    return errorMessage;\n}\n\nexport function extractErrorCodeFromResponse(response) {\n    if (response.data && response.data.error) {\n        for (let k in response.data.error) {\n            return k;\n        }\n    }\n    return response.data;\n}","import React from 'react';\n\nconst Loading = () => (\n  <div className=\"jumbotron\">\n    <div className=\"progress\">\n      <div\n        className=\"progress-bar progress-bar-striped bg-info\"\n        role=\"progressbar\"\n        aria-valuenow=\"100\"\n        aria-valuemin=\"0\"\n        aria-valuemax=\"100\"\n        style={{ width: '100%' }}>\n        ...\n      </div>\n    </div>\n  </div>\n);\n\n// eslint-disable-next-line import/prefer-default-export\nexport { Loading };\n","import { WS_PREFIX } from '../modules/sscdashboard/utils/constants';\n\nconst POST = 'POST';\nconst GET = 'GET';\n\nfunction getRequestOptions(body, headers) {\n  const requestOptions = {\n    method: body ? POST : GET,\n    headers: headers || { 'Content-Type': 'application/json', Accept: 'application/json', 'ws-prefix': WS_PREFIX }\n  };\n  if (body) {\n    requestOptions.body = JSON.stringify(body);\n  }\n  return requestOptions;\n}\n\nexport const fetchApiData = ({ body, url, headers }) => new Promise((resolve, reject) => fetch(url,\n  getRequestOptions(body, headers))\n  .then(response => {\n    if (headers && headers.Accept === 'text/html') {\n      return response.text();\n    } else if (response.headers && response.headers.get('Content-Type')\n        && response.headers.get('Content-Type').indexOf('application/json') > -1) {\n      return response.json();\n    } else {\n      return response;\n    }\n  })\n  .then(data => {\n    if (data.error) {\n      return reject(data.error);\n      // throw new Error(data.error);\n    }\n    return resolve(data);\n  }));\n\n// TODO to move api route to a constant.\nexport function loadTranslations(trnPack) {\n  return new Promise((resolve) => fetch('/rest/translations/label-translations', getRequestOptions(trnPack))\n    .then(response => {\n        let contentType = response.headers.get(\"content-type\");\n        if (contentType && contentType.indexOf(\"application/json\") !== -1) {\n            return response.json().then(data => {\n                if (data.error) {\n                    throw new Error(data.error);\n                }\n                return resolve(data);\n            });\n        }\n    }));\n}\n","import {\n  FETCH_TRANSLATIONS_ERROR, FETCH_TRANSLATIONS_PENDING, FETCH_TRANSLATIONS_SUCCESS\n} from '../actions/translationsActions';\n\nconst initialState = {\n  pending: true,\n  translations: {},\n  error: null\n};\n\nexport default function translationsReducer(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_TRANSLATIONS_PENDING:\n      return {\n        ...state,\n        pending: true,\n        translations: action.payload\n      };\n    case FETCH_TRANSLATIONS_SUCCESS:\n      return {\n        ...state,\n        pending: false,\n        translations: action.payload\n      };\n    case FETCH_TRANSLATIONS_ERROR:\n      return {\n        ...state,\n        pending: false,\n        error: action.error\n      };\n    default:\n      return state;\n  }\n}\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return possibleConstructorReturn(this, result);\n  };\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nexport default function _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : String(i);\n}","import _typeof from \"./typeof.js\";\nexport default function toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}"],"names":["FETCH_SETTINGS_PENDING","FETCH_SETTINGS_SUCCESS","FETCH_SETTINGS_ERROR","dispatch","type","fetch","SETTINGS_EP","then","res","json","error","payload","catch","fetchSettingsError","SRC_PROGRAM","DST_PROGRAM","ALL_PROGRAMS","PROGRAM_MAPPING","PROGRAM","CHILDREN","FIRST_LEVEL","SECOND_LEVEL","THIRD_LEVEL","STATE_LEVEL_FIELD","TYPE_SRC","TYPE_DST","LAYOUT_EP","UPDATE_ACTIVITIES_EP","FIELD_PROJECT_TITLE","FIELD_ACTIVITY_DATE","FIELD_AMP_ID","FIELD_LOCATION","FETCH_ACTIVITIES_PENDING","FETCH_ACTIVITIES_SUCCESS","FETCH_ACTIVITIES_ERROR","SELECT_ACTIVITY_FOR_GEOCODING","TOGGLE_NATIONAL_PROJECTS","selectActivitiesForGeocoding","selectedActivities","switchNationalProjects","loadActivities","includeNationalProjects","locationFilter","sortedColumns","push","queryModel","name","add_columns","filters","sorting","columns","asc","recordsPerPage","fetchApiData","url","body","activities","page","pageArea","children","map","activity","id","contents","entityId","col1","displayedValue","col2","col3","col4","fetchActivitiesSuccess","console","fetchActivitiesError","FETCH_GEOCODING_PENDING","FETCH_GEOCODING_SUCCESS","FETCH_GEOCODING_ERROR","GEOCODING_LOCATION_PENDING","GEOCODING_LOCATION_SUCCESS","GEOCODING_LOCATION_ERROR","GEOCODING_RESET_ALL_PENDING","GEOCODING_RESET_ALL_SUCCESS","GEOCODING_RESET_ALL_ERROR","GEOCODING_CANCEL_PENDING","GEOCODING_CANCEL_SUCCESS","GEOCODING_CANCEL_ERROR","GEOCODING_RUN_SEARCH_PENDING","GEOCODING_RUN_SEARCH_SUCCESS","GEOCODING_RUN_SEARCH_ERROR","GEOCODING_SAVE_ALL_EDITS_PENDING","GEOCODING_SAVE_ALL_EDITS_CHECK","GEOCODING_SAVE_ACTIVITY_PENDING","GEOCODING_SAVE_ACTIVITY_SUCCESS","GEOCODING_SAVE_ACTIVITY_ERROR","GEOCODING_REMOVE_PROJECT_PENDING","GEOCODING_REMOVE_PROJECT_SUCCESS","GEOCODING_REMOVE_PROJECT_ERROR","GEOCODING_RESET_SAVE_RESULTS","fetchGeocodingErrorWithCode","status","code","errorCode","saveAllEditsCheck","loadGeocoding","fetchApiDataWithStatus","geocoding","pending","geocodeShouldRun","data","filter","act","length","fetchGeocodingSuccess","message","runSearch","ampIds","runSearchSuccess","runSearchError","geocodeLocation","ampId","locationId","accepted","locationStatusRequest","amp_id","amp_category_value_location_id","location_id","geocodeLocationPending","geocodeLocationSuccess","geocodeLocationError","resetAllLocationStatuses","resetAllLocationStatusesError","cancelGeocoding","callDeleteApiEndpoint","cancelGeocodingError","saveAllEdits","forEach","saveActivity","saveActivityPending","result","saveActivitySuccess","saveActivityError","removeProject","removeProjectPending","removeProjectSuccess","removeProjectError","resetSaveResults","initialState","reset_pending","running","creator","workspace","save_activities_result","save_pending","reset_error","updateActivity","action","item","_objectSpread","locations","updateLocation","updateActivitySaveStatus","find","settingsLoaded","settingsPending","settings","combineReducers","translationsReducer","activitiesReducer","state","arguments","undefined","geocodingReducer","getActivitySavePendingStatus","settingsReducer","TranslationContext","React","translations","defaultTrnPack","AppContext","_Component","_inherits","_super","_createSuper","_classCallCheck","apply","_createClass","key","value","_this$props","this","props","_fetchTranslations","_loadGeocoding","_fetchSettings","translationPending","geocodingPending","_jsx","Loading","Provider","Component","connect","bindActionCreators","fetchTranslations","fetchSettings","ResetAllButton","_this","call","onResetAll","e","resetAllActivities","handleClose","show","bind","_assertThisInitialized","handleShow","setState","loc","_this2","context","isEnabled","hasActivityAcceptedOrRejectedLocations","_jsxs","_Fragment","Button","variant","className","onClick","disabled","title","Modal","onHide","animation","Header","closeButton","Title","Body","Footer","contextType","AlertError","errorMessage","_ref","errorMessageCode","hasOwnProperty","errorObj","JSON","parse","formatText","Object","keys","getErrorMessage","Alert","transition","Heading","CancelGeocodingButton","onCancelGeocoding","SaveAllEditsButton","onSaveAllEdits","_resetSaveResults","_saveAllEdits","hasActivityAcceptedOrRejectedAllLocations","OverlayTrigger","placement","overlay","Tooltip","tooltip","GeocodingTableHeader","parseDate","str","m","match","Date","orderDates","a","b","order","ClipLoader","size","loading","text","PaginationTotal","from","to","ActivityTable","wrapper","_loadActivities","renderSelectAllTooltip","options","sizePerPage","pageStartIndex","paginationSize","hideSizePerPage","showTotal","prePageTitle","nextPageTitle","firstPageTitle","lastPageTitle","paginationTotalRenderer","selectRow","mode","style","background","onSelect","row","isSelected","rowIndex","onSelectActivity","selectionHeaderRenderer","checked","onSelectAll","onSelectAllActivities","lastUpdatedHeaderText","ampIdHeaderText","projectNameHeaderText","locationHeaderText","dataField","hidden","sort","sortFunc","headerStyle","width","textFilter","placeholder","activitiesPending","BootstrapTable","ref","n","node","keyField","scrollY","maxHeight","classes","pagination","paginationFactory","noDataIndication","filterFactory","RemoveProjectButton","onRemoveProject","_removeProject","stopPropagation","FontAwesomeIcon","icon","faTimesCircle","GeocodingActionColumn","renderTooltip","enabled","faPencilAlt","tooltipEnabled","LocationActionColumn","_this$props$handleLoc","handleLocation","handleAcceptLocation","handleRejectLocation","location","href","faCheckCircle","ownProps","LocationFields","fields","field","label","Highlighter","searchWords","entity","autoEscape","textToHighlight","Locations","selectLocations","preventDefault","locationItems","administrative_level","colSpan","ActivityWithoutLocationsDialog","onDiscardChanges","ActivitySaveResults","results","activitiesWithoutErrors","activitiesWithErrors","deepFlatten","array","reduce","r","Array","isArray","_toConsumableArray","translateErrorMessage","getUserFriendlyErrorMessage","values","x","flat","join","ActivitySaveResultsDialog","GeocodingTable","handleActionsClick","selectedRowId","selectedRowAction","hasLocations","hasError","getNonExpandableIds","existLocationsInGeocoding","some","existSaveResults","setTimeout","_this3","expandRow","onlyOneExpanding","renderer","nonExpandable","showExpandColumn","expandByColumnOnly","expandColumnPosition","parentClassName","expandColumnRenderer","isExpanded","rowKey","containsError","expandable","containsLocations","expandHeaderColumnRenderer","_ref2","isAnyExpands","expandColumnOptions","expandColumnVisible","columnWidth","RunSearchButton","onRunSearch","includes","SelectedActivitiesMessage","selectedSize","ActivityTableHeader","onToggleNationalProjects","_switchNationalProjects","_includeNationalProjects","toggleButtonTooltip","toggleButtonText","ProjectList","GeocoderPanel","_len","args","_key","concat","rows","table","tableHeader","isGeocoding","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","GeocoderAPP","store","createStore","rootReducer","applyMiddleware","thunk","ZERO","ONE","NEGATIVE_ONE","FLAGS_DIRECTORY","DASHBOARD_DEFAULT_MIN_YEAR_RANGE","DASHBOARD_DEFAULT_MAX_YEAR_RANGE","API_FILTERS_SECTORS_URL","API_FILTERS_COUNTRIES_URL","API_AMP_SETTINGS_URL","API_FILTERS_MODALITIES_URL","API_SSC_DASHBOARD_URL","API_XLS_REPORT_URL","API_REPORTS_ACTIVITY_DETAIL_URL","BOOTSTRAP_COLUMNS_COUNT","NON_SELECTED_LINE_COLOR","NON_SELECTED_BUBBLE_COLOR","SELECTED_LINE_COLOR","SELECTED_BUBBLE_COLOR","PNG_FORMAT","PROJECT_LENGTH_HOME_PAGE","UNDEFINED_FILTER","FLAGS_TO_SHOW_DEFAULT","FLAGS_TO_SHOW_SMALL","FLAGS_TO_SHOW_SMALL_WIDTH_THRESHOLD","SECTORS_LIMIT_CHART","SECTORS_OTHERS_ID_CHART","DEFAULT_SCREEN_SIZE","DEFAULT_ELLIPSIS","SECTOR_MODALITY_MIN_SIZE","SECTOR_MODALITY_LEADING_LEFT","WS_PREFIX","HOME_CHART","SECTORS_CHART","MODALITY_CHART","DOWNLOAD_CHART","COUNTRY_COLUMN","FALLBACK_FLAG","OTHERS_CODE","FILTER_PRIMARY_SECTOR","FILTER_SSC_MODALITIES","FILTER_DONOR_AGENCY_COUNTRY","SECTOR_COLOR_MAP","Map","MODALITIES_COLOR_MAP","COLOR_MAP_CUSTOM","COLOR_MAP","getRootUrl","process","DEVELOPMENT","replace","number","argIdx","parseInt","fetchTranslationsPending","loadTranslations","trnPack","fetchTranslationsSuccess","fetchTranslationsError","FETCH_TRANSLATIONS_PENDING","FETCH_TRANSLATIONS_SUCCESS","FETCH_TRANSLATIONS_ERROR","getRequestOptions","requestOptions","method","headers","stringify","deleteRequestOptions","Promise","resolve","reject","response","_ref3","contentType","get","parsedData","indexOf","ok","extractErrorMessageFromResponse","extractErrorCodeFromResponse","k","role","POST","GET","Accept","Error","self","ReferenceError","instance","Constructor","TypeError","_defineProperties","target","i","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","prototype","Derived","hasNativeReflectConstruct","Super","NewTarget","constructor","Reflect","construct","_defineProperty","obj","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","subClass","superClass","create","_isNativeReflectConstruct","sham","Proxy","Boolean","valueOf","_iterableToArray","iter","Symbol","iterator","ownKeys","t","getOwnPropertySymbols","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","_possibleConstructorReturn","arr","arrayLikeToArray","iterableToArray","unsupportedIterableToArray","toPropertyKey","toPrimitive","String","Number","_typeof"],"sourceRoot":""}