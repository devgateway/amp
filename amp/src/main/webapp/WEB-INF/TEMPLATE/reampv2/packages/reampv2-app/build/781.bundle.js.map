{"version":3,"file":"781.bundle.js","mappings":"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","sources":["modules/admin/indicator_manager/utils/errorHelper.ts","modules/admin/ndd/constants/Constants.jsx","modules/ndddashboard/actions/startupAction.js","modules/ndddashboard/reducers/startupReducer.js","modules/ndddashboard/actions/reportActions.js","modules/ndddashboard/reducers/reportsReducer.js","modules/ndddashboard/actions/dashboardSettingsActions.js","modules/ndddashboard/reducers/dashboardSettingsReducer.js","modules/ndddashboard/actions/shareLinkActions.js","modules/ndddashboard/reducers/shareLinkReducer.js","modules/ndddashboard/reducers/sharedDataReducer.js","modules/ndddashboard/actions/mappingsActions.js","modules/ndddashboard/reducers/mappingsReducer.js","modules/ndddashboard/utils/constants.js","modules/ndddashboard/medashboard/reducers/fetchProgramConfigurationReducer.ts","modules/ndddashboard/medashboard/reducers/fetchIndicatorsByProgramReducer.ts","modules/ndddashboard/medashboard/reducers/fetchProgramReportReducer.ts","modules/ndddashboard/medashboard/reducers/fetchIndicatorsReducer.ts","modules/ndddashboard/medashboard/reducers/fetchIndicatorReportReducer.ts","modules/ndddashboard/medashboard/reducers/fetchFmReducer.ts","modules/ndddashboard/medashboard/utils/data.ts","modules/ndddashboard/reducers/rootReducer.js","modules/ndddashboard/components/StartUp.jsx","modules/ndddashboard/utils/Utils.js","modules/ndddashboard/components/tooltips/ToolTip.jsx","modules/ndddashboard/components/charts/NestedDonutsProgramChart.jsx","modules/ndddashboard/components/FundingTypeSelector.jsx","modules/ndddashboard/actions/callReports.js","modules/ndddashboard/components/charts/YearDetail.jsx","modules/ndddashboard/components/charts/FundingByYearChart.jsx","modules/ndddashboard/components/PieChartTypeSelector.jsx","utils/components/CustomLegend.jsx","utils/components/SimpleLegend.jsx","modules/ndddashboard/components/charts/TopChart.jsx","modules/ndddashboard/components/TopChartContainer.jsx","modules/ndddashboard/components/MainDashboardContainer.jsx","modules/ndddashboard/components/FilterOutputItem.jsx","modules/ndddashboard/components/Filters.jsx","modules/ndddashboard/components/Settings.jsx","modules/ndddashboard/actions/generateShareLink.js","modules/ndddashboard/components/Share.jsx","modules/ndddashboard/components/HeaderContainer.jsx","modules/ndddashboard/actions/loadDashboardSettings.js","modules/ndddashboard/actions/getMappings.js","modules/ndddashboard/actions/getSharedData.js","modules/ndddashboard/components/NDDDashboardHome.jsx","modules/ndddashboard/components/NDDDashboard.router.jsx","modules/ndddashboard/index.js","modules/sscdashboard/utils/PrintDummy.jsx","modules/sscdashboard/utils/PrintUtils.js","modules/sscdashboard/utils/constants.js","utils/actions/fetchTranslations.js","utils/actions/translationsActions.js","utils/apiOperations.js","utils/components/Loading.jsx","utils/components/WithRouter.jsx","utils/loadTranslations.js","utils/reducers/translationsReducer.js","../../../node_modules/src/factory.js"],"sourcesContent":["const NOT_AUTHENTICATED_ERROR = '(Not authenticated)';\n\nexport const errorHelper = <T>(error: T | any[]) => {\n    if (error === null) {\n        return 'No error';\n    }\n\n    if (typeof error === 'string') {\n        return error;\n    }\n\n    const tempError = error as any;\n\n    if (tempError) {\n        const detectKeys = Object.keys(tempError.error)[0];\n        const extractedError = tempError.error[detectKeys][0];\n\n        if (!extractedError) {\n            return \"An error occurred.\";\n        }\n\n        if (extractedError === NOT_AUTHENTICATED_ERROR) {\n            window.location.href = '/';\n            return \"Auth Error\";\n        }\n        return extractedError;\n    }\n\n};\n","export const SRC_PROGRAM = 'src-program';\nexport const DST_PROGRAM = 'dst-program';\nexport const ALL_PROGRAMS = 'all-programs';\nexport const PROGRAM_MAPPING = 'program-mapping';\nexport const PROGRAM = '-program';\nexport const VALUE = 'value';\nexport const CHILDREN = 'children';\nexport const FIRST_LEVEL = 2;\nexport const SECOND_LEVEL = 3;\nexport const THIRD_LEVEL = 4;\nexport const STATE_LEVEL_FIELD = 'srcLvl';\nexport const TYPE_SRC = 'src';\nexport const TYPE_DST = 'dst';\nexport const LAYOUT_EP = '/rest/security/layout';\nexport const SETTINGS_EP = '/rest/amp/settings';\nexport const UPDATE_ACTIVITIES_EP = '/rest/activity/updateMappings/async';\n","export const FETCH_AMP_SETTINGS_PENDING = 'FETCH_AMP_SETTINGS_PENDING';\nexport const FETCH_AMP_SETTINGS_SUCCESS = 'FETCH_AMP_SETTINGS_SUCCESS';\nexport const FETCH_AMP_SETTINGS_ERROR = 'FETCH_AMP_SETTINGS_ERROR';\n\nexport function fetchAmpSettingsPending() {\n  return {\n    type: FETCH_AMP_SETTINGS_PENDING\n  };\n}\n\nexport function fetchAmpSettingsSuccess(settings) {\n  return {\n    type: FETCH_AMP_SETTINGS_SUCCESS,\n    payload: settings\n  };\n}\n\nexport function fetchAmpSettingsError(error) {\n  return {\n    type: FETCH_AMP_SETTINGS_ERROR,\n    error\n  };\n}\n","import {\n  FETCH_AMP_SETTINGS_SUCCESS,\n  FETCH_AMP_SETTINGS_PENDING,\n  FETCH_AMP_SETTINGS_ERROR\n} from '../actions/startupAction';\n\nconst initialState = {\n  settingsLoaded: false,\n  settingsPending: false,\n  settings: {},\n  error: null\n};\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_AMP_SETTINGS_PENDING:\n      return {\n        ...state,\n        settingsPending: true\n      };\n    case FETCH_AMP_SETTINGS_SUCCESS:\n      return {\n        ...state,\n        settingsPending: false,\n        settingsLoaded: true,\n        settings: action.payload\n      };\n    case FETCH_AMP_SETTINGS_ERROR:\n      return {\n        ...state,\n        settingsPending: false,\n        settingsLoaded: false,\n        error: action.payload.error\n      };\n    default:\n      return state;\n  }\n};\n","export const FETCH_DIRECT_INDIRECT_NDD_PENDING = 'FETCH_DIRECT_INDIRECT_NDD_PENDING';\nexport const FETCH_DIRECT_INDIRECT_NDD_SUCCESS = 'FETCH_DIRECT_INDIRECT_NDD_SUCCESS';\nexport const FETCH_DIRECT_INDIRECT_NDD_ERROR = ' FETCH_DIRECT_INDIRECT_NDD_ERROR';\n\nexport const FETCH_TOP_PENDING = 'FETCH_TOP_PENDING';\nexport const FETCH_TOP_SUCCESS = 'FETCH_TOP_SUCCESS';\nexport const FETCH_TOP_ERROR = ' FETCH_TOP_ERROR';\nexport const RESET_TOP = 'RESET_TOP';\n\nexport const FETCH_YEAR_DETAIL_PENDING = 'FETCH_YEAR_DETAIL_PENDING';\nexport const FETCH_YEAR_DETAIL_SUCCESS = 'FETCH_YEAR_DETAIL_SUCCESS';\nexport const FETCH_YEAR_DETAIL_ERROR = ' FETCH_YEAR_DETAIL_ERROR';\n\nexport function fetchIndirectReportPending() {\n  return {\n    type: FETCH_DIRECT_INDIRECT_NDD_PENDING\n  };\n}\n\nexport function fetchIndirectReportSuccess(payload) {\n  return {\n    type: FETCH_DIRECT_INDIRECT_NDD_SUCCESS,\n    payload\n  };\n}\n\nexport function fetchIndirectReportError(error) {\n  return {\n    type: FETCH_DIRECT_INDIRECT_NDD_ERROR,\n    error\n  };\n}\n\nexport function fetchTopReportPending() {\n  return {\n    type: FETCH_TOP_PENDING\n  };\n}\n\nexport function fetchTopReportSuccess(payload) {\n  return {\n    type: FETCH_TOP_SUCCESS,\n    payload\n  };\n}\n\nexport function fetchTopReportError(error) {\n  return {\n    type: FETCH_TOP_ERROR,\n    error\n  };\n}\n\nexport function resetTopReport() {\n  return {\n    type: RESET_TOP\n  };\n}\n\nexport function fetchYearDetailPending() {\n  return {\n    type: FETCH_YEAR_DETAIL_PENDING\n  };\n}\n\nexport function fetchYearDetailSuccess(payload) {\n  const sorted = payload ? payload.sort((a, b) => a.amount < b.amount) : [];\n  return {\n    type: FETCH_YEAR_DETAIL_SUCCESS,\n    payload: sorted\n  };\n}\n\nexport function fetchYearDetailError(error) {\n  return {\n    type: FETCH_YEAR_DETAIL_ERROR,\n    error\n  };\n}\n","import {\n  FETCH_DIRECT_INDIRECT_NDD_ERROR,\n  FETCH_DIRECT_INDIRECT_NDD_PENDING,\n  FETCH_DIRECT_INDIRECT_NDD_SUCCESS,\n  FETCH_TOP_ERROR,\n  FETCH_TOP_PENDING,\n  FETCH_TOP_SUCCESS, FETCH_YEAR_DETAIL_ERROR, FETCH_YEAR_DETAIL_PENDING,\n  FETCH_YEAR_DETAIL_SUCCESS,\n  RESET_TOP\n} from '../actions/reportActions';\n\nconst initialState = {\n  nddLoaded: false,\n  nddLoadingPending: false,\n  topLoaded: false,\n  topLoadingPending: false,\n  error: null,\n  top: undefined,\n  yearDetail: undefined,\n  yearDetailLoaded: false,\n  yearDetailPending: false,\n};\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_DIRECT_INDIRECT_NDD_PENDING:\n      return {\n        ...state,\n        nddLoadingPending: true\n      };\n    case FETCH_TOP_PENDING:\n      return {\n        ...state,\n        topLoadingPending: true\n      };\n    case FETCH_DIRECT_INDIRECT_NDD_SUCCESS: {\n      return {\n        ...state,\n        nddLoadingPending: false,\n        nddLoaded: true,\n        ndd: action.payload\n      };\n    }\n    case FETCH_TOP_SUCCESS: {\n      return {\n        ...state,\n        topLoadingPending: false,\n        topLoaded: true,\n        top: action.payload,\n      };\n    }\n    case FETCH_DIRECT_INDIRECT_NDD_ERROR:\n      return {\n        ...state,\n        nddLoaded: false,\n        nddLoadingPending: false,\n        error: action.error\n      };\n    case FETCH_TOP_ERROR:\n      return {\n        ...state,\n        topLoaded: false,\n        topLoadingPending: false,\n        error: action.error\n      };\n    case RESET_TOP:\n      return {\n        ...state,\n        topLoaded: false,\n        topLoadingPending: false,\n        top: undefined\n      };\n    case FETCH_YEAR_DETAIL_SUCCESS:\n      return {\n        ...state,\n        yearDetailPending: false,\n        yearDetailLoaded: true,\n        yearDetail: action.payload,\n        error: null\n      };\n    case FETCH_YEAR_DETAIL_PENDING:\n      return {\n        ...state,\n        yearDetail: null,\n        yearDetailLoaded: false,\n        yearDetailPending: true,\n        error: null\n      };\n    case FETCH_YEAR_DETAIL_ERROR:\n      return {\n        ...state,\n        yearDetail: null,\n        yearDetailLoaded: false,\n        yearDetailPending: false,\n        error: action.error\n      };\n    default:\n      return state;\n  }\n};\n","export const FETCH_DASHBOARD_SETTINGS_PENDING = 'FETCH_DASHBOARD_SETTINGS_PENDING';\nexport const FETCH_DASHBOARD_SETTINGS_SUCCESS = 'FETCH_DASHBOARD_SETTINGS_SUCCESS';\nexport const FETCH_DASHBOARD_SETTINGS_ERROR = ' FETCH_DASHBOARD_SETTINGS_ERROR';\n\nexport function fetchDashboardSettingsPending() {\n  return {\n    type: FETCH_DASHBOARD_SETTINGS_PENDING\n  };\n}\n\nexport function fetchDashboardSettingsSuccess(payload, payloadGS) {\n  return {\n    type: FETCH_DASHBOARD_SETTINGS_SUCCESS,\n    payload,\n    gs: extractSettings(payloadGS)\n  };\n}\n\nexport function fetchDashboardSettingsError(error) {\n  return {\n    type: FETCH_DASHBOARD_SETTINGS_ERROR,\n    error\n  };\n}\n\nconst extractSettings = (gs) => {\n  const format = {};\n  format.numberFormat = gs['number-format'] || '#,#.#';\n  format.precision = 0;\n  if (format.numberFormat.indexOf('.') !== -1) {\n    format.precision = format.numberFormat.length - format.numberFormat.indexOf('.') - 1;\n  }\n  if (format.numberFormat.indexOf(',') !== -1) {\n    format.groupSeparator = gs['number-group-separator'] || ',';\n  } else {\n    format.groupSeparator = '';\n  }\n  format.decimalSeparator = gs['number-decimal-separator'] || '.';\n  format.numberDivider = gs['number-divider'];\n  if (format.numberDivider === 1) {\n    format.numberDividerDescriptionKey = 'inunits';\n  } else if (format.numberDivider === 1000) {\n    format.numberDividerDescriptionKey = 'inthousands';\n  } else if (format.numberDivider === 1000000) {\n    format.numberDividerDescriptionKey = 'inmillions';\n  } else if (format.numberDivider === 1000000000) {\n    format.numberDividerDescriptionKey = 'inbillions';\n  }\n\n  format.dateFormat = gs['default-date-format'];\n  format.defaultMinDate = gs['dashboard-default-min-date'];\n  format.defaultMaxDate = gs['dashboard-default-max-date'];\n  return format;\n};\n","import {\n  FETCH_DASHBOARD_SETTINGS_ERROR,\n  FETCH_DASHBOARD_SETTINGS_PENDING,\n  FETCH_DASHBOARD_SETTINGS_SUCCESS\n} from '../actions/dashboardSettingsActions';\n\nconst initialState = {\n  dashboardSettingsLoaded: false,\n  dashboardSettingsLoadingPending: false,\n  error: null\n};\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_DASHBOARD_SETTINGS_PENDING:\n      return {\n        ...state,\n        dashboardSettingsLoadingPending: true\n      };\n    case FETCH_DASHBOARD_SETTINGS_SUCCESS: {\n      return {\n        ...state,\n        dashboardSettingsLoadingPending: false,\n        dashboardSettingsLoaded: true,\n        dashboardSettings: action.payload,\n        globalSettings: action.gs\n      };\n    }\n    case FETCH_DASHBOARD_SETTINGS_ERROR:\n      return {\n        ...state,\n        dashboardSettingsLoaded: false,\n        dashboardSettingsLoadingPending: false,\n        error: action.error\n      };\n    default:\n      return state;\n  }\n};\n","export const FETCH_SHARE_LINK_PENDING = 'FETCH_SHARE_LINK_PENDING';\nexport const FETCH_SHARE_LINK_SUCCESS = 'FETCH_SHARE_LINK_SUCCESS';\nexport const FETCH_SHARE_LINK_ERROR = ' FETCH_SHARE_LINK_ERROR';\nexport const GET_SHARED_DATA_PENDING = 'GET_SHARED_DATA_PENDING';\nexport const GET_SHARED_DATA_SUCCESS = 'GET_SHARED_DATA_SUCCESS';\nexport const GET_SHARED_DATA_ERROR = ' GET_SHARED_DATA_ERROR';\n\nexport function fetchShareLinkPending() {\n  return {\n    type: FETCH_SHARE_LINK_PENDING\n  };\n}\n\nexport function fetchShareLinkSuccess(payload) {\n  return {\n    type: FETCH_SHARE_LINK_SUCCESS,\n    payload\n  };\n}\n\nexport function fetchShareLinkError(error) {\n  return {\n    type: FETCH_SHARE_LINK_ERROR,\n    error\n  };\n}\n\nexport function getSharedDataPending() {\n  return {\n    type: GET_SHARED_DATA_PENDING\n  };\n}\n\nexport function getSharedDataSuccess(payload) {\n  return {\n    type: GET_SHARED_DATA_SUCCESS,\n    payload\n  };\n}\n\nexport function getSharedDataError(error) {\n  return {\n    type: GET_SHARED_DATA_ERROR,\n    error\n  };\n}\n","import {\n  FETCH_SHARE_LINK_ERROR,\n  FETCH_SHARE_LINK_PENDING,\n  FETCH_SHARE_LINK_SUCCESS\n} from '../actions/shareLinkActions';\n\nconst initialState = {\n  shareLinkLoaded: false,\n  shareLinkPending: false,\n  error: null\n};\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_SHARE_LINK_PENDING:\n      return {\n        ...state,\n        shareLinkPending: true\n      };\n    case FETCH_SHARE_LINK_SUCCESS: {\n      return {\n        ...state,\n        shareLinkPending: false,\n        shareLinkLoaded: true,\n        shareLink: action.payload,\n      };\n    }\n    case FETCH_SHARE_LINK_ERROR:\n      return {\n        ...state,\n        shareLinkLoaded: false,\n        shareLinkPending: false,\n        error: action.error\n      };\n    default:\n      return state;\n  }\n};\n","import {\n  GET_SHARED_DATA_ERROR,\n  GET_SHARED_DATA_PENDING,\n  GET_SHARED_DATA_SUCCESS\n} from '../actions/shareLinkActions';\n\nconst initialState = {\n  sharedDataLoaded: false,\n  sharedDataPending: false,\n  error: null\n};\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case GET_SHARED_DATA_PENDING:\n      return {\n        ...state,\n        sharedDataPending: true\n      };\n    case GET_SHARED_DATA_SUCCESS: {\n      return {\n        ...state,\n        sharedDataPending: false,\n        sharedDataLoaded: true,\n        sharedData: action.payload,\n      };\n    }\n    case GET_SHARED_DATA_ERROR:\n      return {\n        ...state,\n        sharedDataLoaded: false,\n        sharedDataPending: false,\n        error: action.error\n      };\n    default:\n      return state;\n  }\n};\n","export const FETCH_MAPPINGS_PENDING = 'FETCH_MAPPINGS_PENDING';\nexport const FETCH_MAPPINGS_SUCCESS = 'FETCH_MAPPINGS_SUCCESS';\nexport const FETCH_MAPPINGS_ERROR = ' FETCH_MAPPINGS_ERROR';\n\nexport function fetchDashboardSettingsPending() {\n  return {\n    type: FETCH_MAPPINGS_PENDING\n  };\n}\n\nexport function fetchDashboardSettingsSuccess(payload, payload2) {\n  return {\n    type: FETCH_MAPPINGS_SUCCESS,\n    payload,\n    payload2\n  };\n}\n\nexport function fetchDashboardSettingsError(error) {\n  return {\n    type: FETCH_MAPPINGS_ERROR,\n    error\n  };\n}\n","import { FETCH_MAPPINGS_ERROR, FETCH_MAPPINGS_PENDING, FETCH_MAPPINGS_SUCCESS } from '../actions/mappingsActions';\n\nconst initialState = {\n  mappingsLoaded: false,\n  mappingsLoadingPending: false,\n  error: null\n};\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_MAPPINGS_PENDING:\n      return {\n        ...state,\n        mappingsLoadingPending: true\n      };\n    case FETCH_MAPPINGS_SUCCESS: {\n      return {\n        ...state,\n        mappingsLoadingPending: false,\n        mappingsLoaded: true,\n        mapping: action.payload,\n        noIndirectMapping: action.payload2\n      };\n    }\n    case FETCH_MAPPINGS_ERROR:\n      return {\n        ...state,\n        mappingsLoaded: false,\n        mappingsLoadingPending: false,\n        error: action.error\n      };\n    default:\n      return state;\n  }\n};\n","export const TRN_PREFIX = 'amp.ndd.dashboard:';\nexport const DIRECT_INDIRECT_REPORT = '/rest/ndd/direct-indirect-report';\nexport const ACTIVITY_DETAIL_REPORT = '/rest/ndd/activity-detail-report';\nexport const INDIRECT_MAPPING_CONFIG = '/rest/ndd/indirect-programs-mapping-config';\nexport const MAPPING_CONFIG_NO_INDIRECT = '/rest/ndd/programs-mapping-config';\nexport const TOP_DONOR_REPORT = '/rest/dashboard/tops/do?limit=5';\nexport const DIRECT_PROGRAM = 'directProgram';\nexport const INDIRECT_PROGRAMS = 'indirectPrograms';\nexport const PROGRAMLVL1 = 'programLvl1';\nexport const PROGRAMLVL2 = 'programLvl2';\nexport const AMOUNT = 'amount';\nexport const CODE = 'code';\nexport const DIRECT = 'DIRECT';\nexport const INDIRECT = 'INDIRECT';\nexport const TRANSITIONS = 100;\nexport const SETTINGS_EP = '/rest/settings-definitions/dashboards';\nexport const GS_EP = '/rest/amp/settings';\nexport const SHARING_EP = '/rest/ndd/save-charts';\nexport const GET_SHARED_EP = '/rest/ndd/saved-charts/';\nexport const FUNDING_TYPE = 'funding-type';\nexport const CURRENCY_CODE = 'currency-code';\nexport const DEFAULT_FUNDING_TYPE = 'Actual Commitments';\nexport const INCLUDE_LOCATIONS_WITH_CHILDREN = 'include-location-children';\nexport const DEFAULT_CURRENCY = 'USD';\nexport const MAX_GRADIENTS = 50;\n\nconst PROGRAMLVL1_COLOR = ['#1f5177',\n  '#a42727',\n  '#b6861e',\n  '#598118',\n  '#551881',\n  '#188150',\n  '#811849',\n  '#187881',\n  '#845EC2',\n  '#FF9671',\n  '#F9F871'];\n\nconst INDIRECT_PROGRAM_COLOR = ['#91cb34',\n  '#9053bc',\n  '#2480c6',\n  '#ec4444',\n  '#ffbd2f',\n  '#2fffd5',\n  '#d92fff',\n  '#ff6a2f',\n  '#FBEAFF',\n  '#2fffd5',\n  '#926C00'];\n\nconst MAPPED_PROGRAM_COLOR = ['#443E61',\n  '#3CBABA',\n  '#BED683',\n  '#EDD345',\n  '#FB624B',\n  '#747D81',\n  '#C99694',\n  '#D44A28',\n  '#C8C8C1',\n  '#1C1015',\n  '#9DE7A6'];\nexport const AVAILABLE_COLORS = [PROGRAMLVL1_COLOR, INDIRECT_PROGRAM_COLOR, MAPPED_PROGRAM_COLOR];\nexport const SELECTED_COLORS = new Map();\n\nexport const CHART_COLOR_MAP = new Map();\n\nexport const BASE_VALUE_COLOR = '#008efa'\nexport const CURRENT_VALUE_COLOR = '#ff9b29'\nexport const TARGET_VALUE_COLOR = '#5d9d2f'\n\nexport const BASE_VALUE ='BaseLine'\nexport const CURRENT_VALUE ='Current'\nexport const TARGET_VALUE ='Target'\n\nexport const PROGRESS_TRACKING_DASHBOARDS = 'PROGRESS TRACKING DASHBOARDS'\n\nexport const REST_PROGRAM_CONFIGURATION = '/rest/dashboard/programConfiguration';\nexport const REST_FM_SETTINGS = '/rest/common/fm/flat';\nexport const REST_SECTORS = '/rest/dashboard/sectors';\nexport const REST_INDICATORS = '/rest/dashboard/me/indicators';\nexport const REST_INDICATORS_BY_PROGRAM = '/rest/dashboard/me/indicatorsByProgram';\nexport const REST_PROGRAM_PROGRESS_REPORT = '/rest/dashboard/me/programReport';\nexport const REST_INDICATOR_REPORT = '/rest/dashboard/me/indicatorReport'\n\nexport const DEFAULT_REPORTING_PERIOD = 5;\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { ProgramConfig, InitialState } from '../types';\nimport { REST_PROGRAM_CONFIGURATION } from \"../../utils/constants\";\nimport { errorHelper } from \"../../../admin/indicator_manager/utils/errorHelper\";\n\nconst REDUCER_NAME = 'programConfiguration';\n\nexport const fetchProgramConfiguration = createAsyncThunk(\n    `${REDUCER_NAME}/fetch`,\n    async (_ , { rejectWithValue }) => {\n        const response = await fetch(REST_PROGRAM_CONFIGURATION);\n\n        const data: ProgramConfig [] = await response.json();\n\n        if (response.status !== 200) {\n            return rejectWithValue(data);\n        }\n\n        return data;\n    }\n);\n\ninterface ProgramConfigurationState extends InitialState {\n    data: ProgramConfig [] | null;\n}\n\nconst initialState: ProgramConfigurationState = {\n    data: null,\n    loading: false,\n    error: null\n};\n\nconst programConfigurationSlice = createSlice({\n    name: REDUCER_NAME,\n    initialState,\n    reducers: {\n        resetProgramConfiguration: () => initialState\n    },\n    extraReducers: (builder) => {\n        builder.addCase(fetchProgramConfiguration.pending, (state) => {\n            state.loading = true;\n        });\n        builder.addCase(fetchProgramConfiguration.fulfilled, (state, { payload }) => {\n            state.loading = false;\n            state.data = payload;\n        });\n        builder.addCase(fetchProgramConfiguration.rejected, (state, { payload }) => {\n            state.loading = false;\n            state.error = errorHelper(payload);\n        });\n    }\n});\n\nexport const { resetProgramConfiguration } = programConfigurationSlice.actions;\nexport default programConfigurationSlice.reducer;\n","import { errorHelper } from '../../../admin/indicator_manager/utils/errorHelper';\nimport { IndicatorObjectType } from '../../../admin/indicator_manager/types';\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { REST_INDICATORS_BY_PROGRAM } from '../../utils/constants';\n\nconst REDUCER_NAME = 'indicatorsByProgram';\ntype IndicatorInitialStateType = {\n    data: IndicatorObjectType[];\n    loading: boolean;\n    error: any;\n}\n\nconst initialState: IndicatorInitialStateType = {\n    data: [],\n    loading: false,\n    error: null\n}\n\nexport const fetchIndicatorsByProgram = createAsyncThunk(\n    `${REDUCER_NAME}/fetch`,\n    async (id: number, { rejectWithValue }) => {\n        const response = await fetch(`${REST_INDICATORS_BY_PROGRAM}/${id}`);\n        const data: IndicatorObjectType [] = await response.json();\n\n        if (response.status !== 200) {\n            return rejectWithValue(data);\n        }\n\n        return data;\n    }\n);\n\nconst indicatorsByProgramSlice = createSlice({\n    name: REDUCER_NAME,\n    initialState,\n    reducers: {\n        resetState : (state) => {\n            state.data = [];\n            state.loading = false;\n            state.error = null;\n        }\n    },\n    extraReducers: (builder) => {\n        builder.addCase(fetchIndicatorsByProgram.pending, (state) => {\n            state.loading = true;\n        });\n        builder.addCase(fetchIndicatorsByProgram.fulfilled, (state, action) => {\n            state.data = [];\n            state.loading = false;\n            state.data = action.payload;\n        });\n        builder.addCase(fetchIndicatorsByProgram.rejected, (state, action) => {\n            state.loading = false;\n            state.error = errorHelper(action.payload);\n\n        });\n    }\n});\n\nexport const {\n    resetState\n} = indicatorsByProgramSlice.actions;\n\nexport default indicatorsByProgramSlice.reducer;\n","import { errorHelper } from '../../../admin/indicator_manager/utils/errorHelper';\nimport { REST_PROGRAM_PROGRESS_REPORT } from '../../utils/constants';\nimport { YearValues } from '../types';\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nconst REDUCER_NAME = 'programReport';\n\ntype ProgressReportInitialStateType = {\n    data: YearValues [] | null;\n    loading: boolean;\n    error: any;\n}\n\nconst initialState: ProgressReportInitialStateType = {\n    data: null,\n    loading: false,\n    error: null\n}\n\nexport const fetchProgramReport = createAsyncThunk(\n    `${REDUCER_NAME}/fetch`,\n    async ({ filters, id, settings } : { filters: any, id: number, settings: any }, { rejectWithValue }) => {\n        const requestData = {\n            ...filters,\n            settings: settings\n        }\n        const response = await fetch(`${REST_PROGRAM_PROGRESS_REPORT}/${id}`,{\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({ ...requestData }),\n        });\n        const data: YearValues[] = await response.json();\n\n        if (response.status !== 200) {\n            return rejectWithValue(data);\n        }\n        return data;\n    }\n);\n\nconst programProgressReportSlice = createSlice({\n    name: REDUCER_NAME,\n    initialState,\n    reducers: {\n        resetState : (state) => {\n            state.data = null;\n            state.loading = false;\n            state.error = null;\n        }\n    },\n    extraReducers: (builder) => {\n        builder.addCase(fetchProgramReport.pending, (state) => {\n            state.loading = true;\n        });\n        builder.addCase(fetchProgramReport.fulfilled, (state, action) => {\n            state.data = null;\n            state.loading = false;\n            state.data = action.payload;\n        });\n        builder.addCase(fetchProgramReport.rejected, (state, action) => {\n            state.loading = false;\n            state.error = errorHelper(action.payload);\n\n        });\n    }\n});\n\nexport const { resetState } = programProgressReportSlice.actions;\nexport default programProgressReportSlice.reducer;\n\n","import { IndicatorObjectType } from '../../../admin/indicator_manager/types';\nimport { errorHelper } from \"../../../admin/indicator_manager/utils/errorHelper\";\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { REST_INDICATORS } from '../../utils/constants';\n\nconst REDUCER_NAME = 'indicators';\n\ntype IndicatorInitialStateType = {\n    indicators: IndicatorObjectType[];\n    loading: boolean;\n    error: any;\n}\n\nconst initialState: IndicatorInitialStateType = {\n    indicators: [],\n    loading: false,\n    error: null,\n}\n\nexport const fetchIndicators = createAsyncThunk(\n    `${REDUCER_NAME}/fetch`,\n    async (_, { rejectWithValue }) => {\n        const response = await fetch(REST_INDICATORS)\n        const data: IndicatorObjectType [] = await response.json();\n\n        if (response.status !== 200) {\n            return rejectWithValue(data);\n        }\n\n        return data;\n    }\n);\n\nconst fetchIndicatorSlice = createSlice({\n    name: REDUCER_NAME,\n    initialState,\n    reducers: {\n        resetState : () => initialState,\n    },\n    extraReducers: (builder) => {\n        builder.addCase(fetchIndicators.pending, (state) => {\n            state.loading = true;\n        });\n        builder.addCase(fetchIndicators.fulfilled, (state, action) => {\n            state.indicators = [];\n            state.loading = false;\n            state.indicators = action.payload;\n        });\n        builder.addCase(fetchIndicators.rejected, (state, action) => {\n            state.loading = false;\n            state.error = errorHelper(action.payload);\n\n        });\n    }\n});\n\nexport const {\n    resetState\n} = fetchIndicatorSlice.actions;\n\nexport default fetchIndicatorSlice.reducer;\n","import { errorHelper } from \"../../../admin/indicator_manager/utils/errorHelper\";\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { YearValues } from '../types';\nimport { REST_INDICATOR_REPORT } from \"../../utils/constants\";\n\nconst REDUCER_NAME = 'indicatorReport';\n\ntype IndicatorReportInitialStateType = {\n    data: YearValues | null;\n    loading: boolean;\n    error: any;\n}\n\nconst initialState: IndicatorReportInitialStateType = {\n    data: null,\n    loading: false,\n    error: null,\n}\n\nexport const fetchIndicatorReport = createAsyncThunk(\n    `${REDUCER_NAME}/fetch`,\n    async ({ filters, id, yearCount, settings } : { filters: any, id: number, yearCount?: number, settings: any }, { rejectWithValue }) => {\n        let count = 5;\n\n        if (yearCount && yearCount > 5) {\n            count = yearCount;\n        }\n\n        const requestBody = {\n            ...filters,\n            settings: {\n                ...settings,\n                yearCount: count\n            }\n        }\n\n        const response = await fetch(`${REST_INDICATOR_REPORT}/${id}`,{\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({ ...requestBody }),\n        });\n        const data: YearValues = await response.json();\n\n        if (response.status !== 200) {\n            return rejectWithValue(data);\n        }\n        return data;\n    }\n);\n\nconst indicatorReportSlice = createSlice({\n    name: REDUCER_NAME,\n    initialState,\n    reducers: {\n        resetState : (state) => {\n            state.data = null;\n            state.loading = false;\n            state.error = null;\n        }\n    },\n    extraReducers: (builder) => {\n        builder.addCase(fetchIndicatorReport.pending, (state) => {\n            state.loading = true;\n        });\n        builder.addCase(fetchIndicatorReport.fulfilled, (state, action) => {\n            state.error = null;\n            state.loading = false;\n            state.data = action.payload;\n        });\n        builder.addCase(fetchIndicatorReport.rejected, (state, action) => {\n            state.loading = false;\n            state.error = errorHelper(action.payload);\n\n        });\n    }\n});\n\nexport const {\n    resetState\n} = indicatorReportSlice.actions;\nexport default indicatorReportSlice.reducer;\n","import { errorHelper } from \"../../../admin/indicator_manager/utils/errorHelper\";\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport {PROGRESS_TRACKING_DASHBOARDS, REST_FM_SETTINGS} from \"../../utils/constants\";\nimport {extractFmColumnsData} from \"../utils/data\";\n\nconst REDUCER_NAME = 'fm';\n\ntype FmInitialStateType = {\n    data: any;\n    loading: boolean;\n    error: any;\n}\n\nconst initialState: FmInitialStateType = {\n    data: null,\n    loading: false,\n    error: null,\n}\n\nexport const fetchFm = createAsyncThunk(\n    `${REDUCER_NAME}/fetch`,\n    async ( _, { rejectWithValue }) => {\n        const body = {\n            \"enabled-modules\": false,\n            \"reporting-fields\": false,\n            \"full-enabled-paths\": false,\n            \"detail-modules\": [\n                \"PROGRESS TRACKING DASHBOARDS\"\n            ]\n        }\n\n        const response = await fetch(REST_FM_SETTINGS,{\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({ ...body }),\n        });\n        const data: any = await response.json();\n\n        if (response.status !== 200) {\n            return rejectWithValue(data);\n        }\n        return data;\n    }\n);\n\nconst fmSlice = createSlice({\n    name: REDUCER_NAME,\n    initialState,\n    reducers: {\n        resetState : (state) => {\n            state.data = null;\n            state.loading = false;\n            state.error = null;\n        }\n    },\n    extraReducers: (builder) => {\n        builder.addCase(fetchFm.pending, (state) => {\n            state.loading = true;\n        });\n        builder.addCase(fetchFm.fulfilled, (state, action) => {\n            state.error = null;\n            state.loading = false;\n            state.data = extractFmColumnsData(action.payload, PROGRESS_TRACKING_DASHBOARDS);\n        });\n        builder.addCase(fetchFm.rejected, (state, action) => {\n            state.loading = false;\n            state.error = errorHelper(action.payload);\n        });\n    }\n});\n\nexport const { resetState } = fmSlice.actions;\nexport default fmSlice.reducer;\n","import {FmSettings, ProgramConfig, ProgramConfigChild} from '../types';\n\nexport const extractLv1Children = (program: ProgramConfig) => {\n    const { children } = program;\n    if (!children || children.length === 0) {\n        return [];\n    }\n\n    const lv1Children = children.map((child) => {\n        const { children: lv2Children, ...rest } = child;\n        return rest;\n    });\n\n    return lv1Children as ProgramConfigChild[];\n};\n\nexport const findProgramConfig = (id: number, data: ProgramConfig[]) => {\n    return data.find((program) => program.ampProgramSettingsId === id);\n}\n\nexport const extractFmColumnsData = (data: FmSettings, columnName: string) => {\n    const { \"fm-settings\": fmSettings } = data;\n    const fmColumns = Object.keys(fmSettings);\n\n    const findProgressTrackingColumn = fmColumns.find((column) => column === columnName);\n\n    if (!findProgressTrackingColumn) {\n        return [];\n    }\n\n    return fmSettings[columnName];\n}\n","import { combineReducers } from 'redux';\nimport startupReducer from './startupReducer';\nimport translationsReducer from '../../../utils/reducers/translationsReducer';\nimport reportsReducer from './reportsReducer';\nimport dashboardSettingsReducer from './dashboardSettingsReducer';\nimport shareLinkReducer from './shareLinkReducer';\nimport sharedDataReducer from './sharedDataReducer';\nimport mappingsReducer from './mappingsReducer';\n\n//me dashboard\nimport programConfigurationReducer from '../medashboard/reducers/fetchProgramConfigurationReducer';\nimport indicatorsByProgramReducer from '../medashboard/reducers/fetchIndicatorsByProgramReducer';\nimport programReportReducer from '../medashboard/reducers/fetchProgramReportReducer';\nimport fetchIndicatorsReducer from '../medashboard/reducers/fetchIndicatorsReducer';\nimport indicatorReportReducer from '../medashboard/reducers/fetchIndicatorReportReducer';\nimport fetchFmReducer from \"../medashboard/reducers/fetchFmReducer\";\n\nexport default combineReducers({\n  startupReducer,\n  translationsReducer,\n  reportsReducer,\n  dashboardSettingsReducer,\n  shareLinkReducer,\n  sharedDataReducer,\n  mappingsReducer,\n  programConfigurationReducer,\n  indicatorsByProgramReducer,\n  programReportReducer,\n  fetchIndicatorsReducer,\n  indicatorReportReducer,\n  fetchFmReducer\n});\n","import React, { useEffect } from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport fetchTranslations from '../../../utils/actions/fetchTranslations';\nimport { fetchProgramConfiguration }  from '../medashboard/reducers/fetchProgramConfigurationReducer';\nimport { Loading } from '../../../utils/components/Loading';\nimport defaultTrnPack from '../config/initialTranslations.json';\nimport {fetchFm} from \"../medashboard/reducers/fetchFmReducer\";\n\nexport const NDDTranslationContext = React.createContext({ translations: defaultTrnPack });\n\n/**\n * Component used to load everything we need before launching the APP\n * TODO check if we should abstract it to a Load Translations component to avoid copy ^\n */\nconst Startup = (props) => {\n  const { translationPending, translations, _fetchTranslations, programConfigurationPending, fmReducerPending } = props;\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    _fetchTranslations(defaultTrnPack);\n\n    dispatch(fetchProgramConfiguration());\n    dispatch(fetchFm());\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (translationPending || programConfigurationPending || fmReducerPending) {\n    return (<Loading />);\n  } else {\n    document.title = translations['amp.ndd.dashboard:page-title'];\n    return (\n      <NDDTranslationContext.Provider value={{ translations }}>\n        {props.children}\n      </NDDTranslationContext.Provider>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  translationPending: state.translationsReducer.pending,\n  translations: state.translationsReducer.translations,\n  programConfigurationPending: state.programConfigurationReducer.pending,\n  fmReducerPending: state.fetchFmReducer.loading,\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  _fetchTranslations : fetchTranslations,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Startup);\nStartup.propTypes = {\n  children: PropTypes.object.isRequired\n};\n\n\n","/* eslint-disable  no-bitwise */\n// eslint-disable-next-line no-unused-vars\nimport React from 'react';\nimport Gradient from 'javascript-color-gradient';\nimport { format } from 'd3-format';\n\nimport {\n  CHART_COLOR_MAP, AVAILABLE_COLORS, SELECTED_COLORS, MAX_GRADIENTS\n} from './constants';\nimport {\n  ALL_PROGRAMS, DST_PROGRAM, PROGRAM_MAPPING, SRC_PROGRAM\n} from '../../admin/ndd/constants/Constants';\n\nexport function hashCode(str) { // java String#hashCode\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  return hash;\n}\n\nexport function removeFilter(filters, selectedDirectProgram) {\n  if (filters && filters.filters && filters.filters[selectedDirectProgram.filterColumnName]) {\n    filters.filters[selectedDirectProgram.filterColumnName]\n      .splice(filters.filters[selectedDirectProgram.filterColumnName]\n        .findIndex(i => i === selectedDirectProgram.objectId), 1);\n    if (filters.filters[selectedDirectProgram.filterColumnName].length === 0) {\n      filters.filters[selectedDirectProgram.filterColumnName] = null;\n    }\n  }\n  return filters;\n}\n\nexport function intToRGB(i) {\n  const c = (i & 0x00FFFFFF)\n    .toString(16)\n    .toUpperCase();\n\n  return '00000'.substring(0, 6 - c.length) + c;\n}\n\nexport function addAlpha(color, opacity) {\n  const _opacity = Math.round(Math.min(Math.max(opacity || 1, 0), 1) * 255);\n  return color + _opacity.toString(16)\n    .toUpperCase();\n}\n\nexport function getCustomColor(item, program) {\n  let colorMap;\n  let color;\n  colorMap = CHART_COLOR_MAP.get(program);\n  if (!colorMap) {\n    colorMap = new Map();\n    CHART_COLOR_MAP.set(program, colorMap);\n  }\n  color = colorMap.get(item.code.trim());\n  if (!color) {\n    let CHART_COLORS = SELECTED_COLORS.get(program);\n    if (!CHART_COLORS) {\n      if (AVAILABLE_COLORS.length > 0) {\n        CHART_COLORS = AVAILABLE_COLORS.shift();\n        SELECTED_COLORS.set(program, CHART_COLORS);\n      } else {\n        CHART_COLORS = ['#00ff00', '#aa00bb']; // TODO: This shouldn't be needed but leaving just in case\n      }\n    }\n    color = CHART_COLORS.shift();\n    colorMap.set(item.code, color);\n  }\n  return color;\n}\n\nexport function getGradient(colorFrom, colorTwo, maxGradient = MAX_GRADIENTS) {\n  const colorGradient = new Gradient('', maxGradient);\n\n  colorGradient.setGradient(colorFrom, colorTwo);\n  return colorGradient.getArray();\n}\n\nexport function extractPrograms(mapping, noIndirectMapping) {\n  const ret = { direct: undefined, indirect1: undefined, indirect2: undefined };\n  if (mapping && mapping[PROGRAM_MAPPING] && mapping[PROGRAM_MAPPING].length > 0) {\n    ret.direct = mapping[ALL_PROGRAMS].find(i => i.id === mapping[SRC_PROGRAM].id);\n    ret.indirect1 = mapping[ALL_PROGRAMS].find(i => i.id === mapping[DST_PROGRAM].id);\n  }\n  if (noIndirectMapping && noIndirectMapping[PROGRAM_MAPPING] && noIndirectMapping[PROGRAM_MAPPING].length > 0) {\n    ret.indirect2 = noIndirectMapping[ALL_PROGRAMS].find(i => i.id === noIndirectMapping[DST_PROGRAM].id);\n  }\n  return ret;\n}\n\nexport function formatKMB(translations, precision, decimalSeparator, summary, lang) {\n  const formatSI = format(`.${precision || 3}s`);\n  decimalSeparator = decimalSeparator || '.';\n  if (summary) {\n    return (value) => formatSI(value)\n      .replace('k', getSuffixForLang('k', lang))\n      .replace('G', getSuffixForLang('G', lang))\n      .replace('.', decimalSeparator);\n  }\n  return (value) => formatSI(value)\n    .replace('k', ` ${translations['amp.dashboard:chart-thousand']}`)\n    .replace('M', ` ${translations['amp.dashboard:chart-million']}`)\n    .replace('G', ` ${translations['amp.dashboard:chart-billion']}`) // now just need to convert G Gigia -> B Billion\n    .replace('T', ` ${translations['amp.dashboard:chart-trillion']}`)\n    .replace('P', ` ${translations['amp.dashboard:chart-peta']}`)\n    .replace('E', ` ${translations['amp.dashboard:chart-exa']}`)\n    .replace('.', decimalSeparator);\n}\n\nfunction getSuffixForLang(prefix, lang) {\n  // eslint-disable-next-line default-case\n  switch (lang) {\n    case 'en':\n      return prefix;\n    case 'fr':\n      // eslint-disable-next-line default-case\n      switch (prefix) {\n        case 'k':\n          return 'm';\n        case 'G':\n          return 'MM';\n      }\n      break;\n    case 'sp':\n      // eslint-disable-next-line default-case\n      switch (prefix) {\n        case 'G':\n          return 'B';\n      }\n      break;\n  }\n  return prefix;\n}\n\nexport function formatNumber(currency, translations, value, precision, decimalSeparator, groupSeparator, numberDivider,\n  numberDividerDescriptionKey) {\n  const formatString = `${decimalSeparator}.${precision}f`;\n  const dividedValue = (numberDivider && numberDividerDescriptionKey) ? value / numberDivider : value;\n  // eslint-disable-next-line max-len\n  const txtVal = <b>{format(formatString)(dividedValue).replace(/[,]+/g, groupSeparator).replace(/[.]+/g, decimalSeparator)}</b>;\n  return (\n    <>\n      {txtVal}\n      {' '}\n      {currency}\n      {numberDivider && numberDividerDescriptionKey\n        ? ` (${translations[`amp.ndd.dashboard:${numberDividerDescriptionKey}`]})`\n        : null}\n    </>\n  );\n}\n\nexport function formatNumberWithSettings(currency, translations, settings, value, useUnits) {\n  if (useUnits) {\n    return formatNumber(currency, translations, value, settings.precision, settings.decimalSeparator,\n      settings.groupSeparator, settings.numberDivider, settings.numberDividerDescriptionKey);\n  }\n  return formatNumber(currency, translations, value, settings.precision, settings.decimalSeparator,\n    settings.groupSeparator);\n}\n\n// TODO: Unify with formatNumber();\nexport function formatOnlyNumber(settings, value) {\n  const formatString = `${settings.decimalSeparator}.${settings.precision}f`;\n  const dividedValue = (settings.numberDivider && settings.numberDividerDescriptionKey)\n    ? value / settings.numberDivider\n    : value;\n  return format(formatString)(dividedValue)\n    .replace(/[,]+/g, settings.groupSeparator)\n    .replace('.', settings.decimalSeparator);\n}\n\nexport function getAmountsInWord(translations, settings) {\n  if (settings.numberDivider > 1) {\n    return translations[`amp.ndd.dashboard:${settings.numberDividerDescriptionKey}-amounts`];\n  }\n  return '';\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './ToolTip.css';\nimport { NDDTranslationContext } from '../StartUp';\nimport { formatNumberWithSettings } from '../../utils/Utils';\n\nclass ToolTip extends Component {\n  // eslint-disable-next-line class-methods-use-this\n  getActualWidth(inputText) {\n    const font = '16px times new roman';\n    const canvas = document.createElement('canvas');\n    const context = canvas.getContext('2d');\n    context.font = font;\n    const { width } = context.measureText(inputText);\n    const formattedWidth = Math.ceil(width);\n    return formattedWidth;\n  }\n\n  render() {\n    const {\n      titleLabel, color, value, formattedValue, total, minWidth, isYearTotal, globalSettings\n    } = this.props;\n    const { translations } = this.context;\n    const percentage = total > 0 ? (value * 100) / total : 0;\n    const headerStyle = { backgroundColor: color };\n    const containerStyle = {};\n    // Dont make it wider if the content doesnt need it.\n    if (minWidth && this.getActualWidth(titleLabel) > minWidth) {\n      containerStyle.minWidth = minWidth;\n    }\n    return (\n      <div className=\"generic-tooltip\" style={containerStyle}>\n        <div className=\"tooltip-header\" style={headerStyle}>\n          {titleLabel}\n        </div>\n        <div className=\"inner\">\n          <div className=\"\">\n            <div className=\"element\">\n              <span className=\"formattedValue\">\n                {formattedValue}\n              </span>\n            </div>\n            {percentage > 0 ? (\n              <div className=\"element grey\">\n                <span className=\"of-total\">\n                  {formatNumberWithSettings('', translations, globalSettings,\n                    percentage, false)}\n                  <b>% </b>\n                  {isYearTotal\n                    ? translations['amp.ndd.dashboard:of-year-total']\n                    : translations['amp.ndd.dashboard:of-total']}\n                </span>\n              </div>\n            ) : null}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nToolTip.propTypes = {\n  titleLabel: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n  value: PropTypes.number.isRequired,\n  formattedValue: PropTypes.object.isRequired,\n  total: PropTypes.number.isRequired,\n  minWidth: PropTypes.number,\n  isYearTotal: PropTypes.bool,\n  globalSettings: PropTypes.object.isRequired\n};\n\nToolTip.defaultProps = {\n  minWidth: null,\n  isYearTotal: false,\n};\n\nToolTip.contextType = NDDTranslationContext;\n\nexport default ToolTip;\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {CSSTransitionGroup} from 'react-transition-group';\n\n// Dont use react-plotly directly: https://github.com/plotly/react-plotly.js/issues/135#issuecomment-501398125\nimport Plotly from 'plotly.js';\nimport createPlotlyComponent from 'react-plotly.js/factory';\nimport {\n    DIRECT_PROGRAM, INDIRECT_PROGRAMS, PROGRAMLVL1, AMOUNT, CODE, DIRECT, INDIRECT,\n    TRANSITIONS, PROGRAMLVL2, TRN_PREFIX, CURRENCY_CODE\n} from '../../utils/constants';\nimport {\n    addAlpha, formatNumberWithSettings, getCustomColor\n} from '../../utils/Utils';\nimport ToolTip from '../tooltips/ToolTip';\n// eslint-disable-next-line no-unused-vars\nimport styles from '../styles.css';\n\nconst Plot = createPlotlyComponent(Plotly);\n\nclass NestedDonutsProgramChart extends Component {\n    constructor(props) {\n        super(props);\n        const {handleOuterChartClick} = this.props;\n        this.extractOuterData = this.extractOuterData.bind(this);\n        this.extractInnerData = this.extractInnerData.bind(this);\n        this.handleOuterChartClick = handleOuterChartClick;\n        this.calculateOpacity = this.calculateOpacity.bind(this);\n        this.state = {\n            showLegend: false, legendTop: 0, legendLeft: 0, tooltipData: null\n        };\n    }\n\n    /**\n     * Create an array with each unique Direct Program Level 1 adding the amounts when it has multiple children.\n     * @returns {[]}\n     */\n    // eslint-disable-next-line react/sort-comp\n    extractOuterData(calculateLvl2) {\n        const {selectedDirectProgram} = this.props;\n        const ret = [];\n        const {data} = this.props;\n        if (data && data.length > 0) {\n            const totalAmount = data.reduce((acc, cur) => (acc + cur[DIRECT_PROGRAM][AMOUNT]), 0);\n            data.forEach(i => {\n                const isSubProgramElement = (calculateLvl2 && this.isSubProgram(i, selectedDirectProgram));\n                const directProgram = isSubProgramElement ? i[DIRECT_PROGRAM][PROGRAMLVL2] : i[DIRECT_PROGRAM][PROGRAMLVL1];\n                if (directProgram && ret.filter(d => d[CODE] === directProgram[CODE]).length === 0) {\n                    const item = {\n                        [CODE]: directProgram[CODE],\n                        filterColumnName: directProgram.filterColumnName,\n                        objectId: directProgram.objectId,\n                        name: directProgram.name,\n                        [AMOUNT]: data.filter(d2 => ((calculateLvl2 && this.isSubProgram(i, selectedDirectProgram))\n                            ? d2[DIRECT_PROGRAM][PROGRAMLVL2] && d2[DIRECT_PROGRAM][PROGRAMLVL2][CODE] === directProgram[CODE]\n                            : d2[DIRECT_PROGRAM][PROGRAMLVL1] && d2[DIRECT_PROGRAM][PROGRAMLVL1][CODE] === directProgram[CODE]))\n                            .reduce((accumulator, currentValue) => (\n                                accumulator + currentValue[DIRECT_PROGRAM][AMOUNT]\n                            ), 0),\n                        neverFade: this.isSubProgram(i, selectedDirectProgram),\n                        parent: i[DIRECT_PROGRAM][PROGRAMLVL1].objectId\n                    };\n                    item.percentageInTotal = (item[AMOUNT] / totalAmount) * 100;\n                    item.normalizedPercentage = item.percentageInTotal;\n                    ret.push(item);\n                }\n            });\n        }\n        const normalized = this.normalizePieData(ret);\n\n        // If we are showing the lvl 2 we need to sort the results to match the place of the parent area.\n        if (calculateLvl2) {\n            const sorted = [];\n            const parents = this.extractOuterData(false);\n            parents.forEach(p => {\n                normalized.filter(c => c.parent === p.objectId).forEach(i => sorted.push(i));\n            });\n            return sorted;\n        }\n        return normalized;\n    }\n\n    /**\n     * If at least one section of the pie data is too small to be drawn then we make it bigger at the expense\n     * of the biggest section.\n     */\n    // eslint-disable-next-line class-methods-use-this\n    normalizePieData(data) {\n        const MINIMUM_PERCENTAGE = 2;\n        if (data.find(i => i.percentageInTotal < MINIMUM_PERCENTAGE)) {\n            const biggest = data.sort((i, j) => j.percentageInTotal - i.percentageInTotal)[0];\n            let minusPercentage = 0;\n            data.filter(i => i.percentageInTotal < MINIMUM_PERCENTAGE).forEach(cat => {\n                const localMinusPercentage = MINIMUM_PERCENTAGE - cat.percentageInTotal;\n                minusPercentage += localMinusPercentage;\n                cat.normalizedPercentage = MINIMUM_PERCENTAGE;\n            });\n            biggest.normalizedPercentage = biggest.percentageInTotal - minusPercentage;\n        }\n        return data;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    isSubProgram(i, selectedDirectProgram) {\n        if (selectedDirectProgram) {\n            return i[DIRECT_PROGRAM][PROGRAMLVL1][CODE] === selectedDirectProgram[CODE];\n        }\n        return false;\n    }\n\n    extractInnerData(outerData) {\n        const ret = [];\n        const {data} = this.props;\n        if (data && data.length > 0) {\n            outerData.forEach(i => {\n                const innerSubGroup = [];\n                const subProgramsData = data.filter(j => j[DIRECT_PROGRAM][PROGRAMLVL1][CODE] === i[CODE]);\n                subProgramsData.forEach(j => {\n                    j[INDIRECT_PROGRAMS].forEach(k => {\n                        if (innerSubGroup.filter(l => l[CODE] === k[PROGRAMLVL1][CODE]).length === 0) {\n                            innerSubGroup.push({\n                                [CODE]: k[PROGRAMLVL1][CODE],\n                                originalAmount: k[AMOUNT],\n                                name: k[PROGRAMLVL1].name,\n                                directProgramCode: j[DIRECT_PROGRAM][PROGRAMLVL1][CODE]\n                            });\n                        } else {\n                            const program = innerSubGroup.find(l => l[CODE] === k[PROGRAMLVL1][CODE]);\n                            program.originalAmount += k[AMOUNT];\n                        }\n                    });\n                });\n                const totalForSubGroup = innerSubGroup.reduce((acc, cur) => (acc + cur.originalAmount), 0);\n                innerSubGroup.forEach(j => {\n                    j.percentageInSubGroup = ((j.originalAmount * 100) / totalForSubGroup);\n                });\n                ret.push(innerSubGroup);\n            });\n        }\n        return ret;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    innerDataToChartValues(data, outerData) {\n        const ret = [];\n        if (data) {\n            data.forEach(i => {\n                i.forEach(j => {\n                    // Notice we use now normalizedPercentage instead of percentageInTotal to 1) match the outer rings and\n                    // 2) show categories that are too small.\n                    const parentPercentage = outerData.find(k => k[CODE] === j.directProgramCode).normalizedPercentage;\n                    // Dont merge inner categories from different outer categories.\n                    ret.push({\n                        [CODE]: j[CODE],\n                        innerCode: j[CODE] + j.directProgramCode,\n                        name: j.name,\n                        percentage: (j.percentageInSubGroup / 100) * parentPercentage,\n                        amount: j.originalAmount\n                    });\n                });\n            });\n        }\n        return ret;\n    }\n\n    calculateOpacity(colors, data) {\n        const {selectedDirectProgram} = this.props;\n        let newColors = [];\n        if (selectedDirectProgram) {\n            colors.forEach((c, i) => {\n                const index = data.findIndex(j => j[CODE] === selectedDirectProgram[CODE]);\n                if (i !== index && data[i].neverFade !== true) {\n                    c = addAlpha(c, 0.15);\n                    newColors.push(c);\n                } else {\n                    newColors.push(c);\n                }\n            });\n        } else {\n            newColors = colors;\n        }\n        return newColors;\n    }\n\n    onHover = (data) => {\n        const {selectedDirectProgram} = this.props;\n        if (selectedDirectProgram === null\n            || (selectedDirectProgram !== null && data.points[0].data.extraData[data.points[0].i].neverFade)) {\n            // Disable tooltip when outer ring is selected\n            this.setState({\n                showLegend: true,\n                legendTop: data.event.layerY,\n                legendLeft: data.event.layerX + 15, /* extra pixels to avoid CSS jitter on Chrome. */\n                tooltipData: data\n            });\n        }\n    }\n\n    onUnHover = () => {\n        this.setState({showLegend: false, tooltipData: null});\n    }\n\n    onClick = (event, outerData) => {\n        const {handleOuterChartClick} = this.props;\n        this.setState({showLegend: false});\n        handleOuterChartClick(event, outerData);\n    }\n\n    createTooltip = () => {\n        const {tooltipData} = this.state;\n        const {settings, globalSettings, translations} = this.props;\n        if (tooltipData) {\n            const program = tooltipData.points[0].data.extraData[tooltipData.points[0].i];\n            const val = formatNumberWithSettings(settings[CURRENCY_CODE], translations, globalSettings, program.amount, true);\n            const totalAmount = tooltipData.points[0].data.extraData.reduce((i, j) => (i + j.amount), 0);\n            return (\n                <ToolTip\n                    color={tooltipData.points[0].color}\n                    currencyCode={settings[CURRENCY_CODE]}\n                    formattedValue={val}\n                    titleLabel={`${program.name}`}\n                    total={totalAmount}\n                    value={program.amount}\n                    minWidth={400}\n                    globalSettings={globalSettings}\n                />\n            );\n        }\n        return null;\n    }\n\n    render() {\n        const {selectedDirectProgram, translations, selectedPrograms} = this.props;\n        const {showLegend, legendTop, legendLeft} = this.state;\n        const outerData = this.extractOuterData(false);\n        const outerDataLvl2 = selectedDirectProgram ? this.extractOuterData(true) : this.extractOuterData(false);\n        const innerData = this.extractInnerData(outerData);\n        const innerDataForChart = this.innerDataToChartValues(innerData, outerData);\n        const innerColors = this.calculateOpacity(innerDataForChart.map(i => getCustomColor(i, selectedPrograms[1])),\n            innerDataForChart);\n        const outerColors = this.calculateOpacity(outerDataLvl2\n                .map(o => getCustomColor(o, o.neverFade ? `${selectedPrograms[0]}_${selectedDirectProgram.code}`\n                    : selectedPrograms[0])),\n            outerDataLvl2);\n        const transition = {\n            duration: 2000,\n            easing: 'cubic-in-out'\n        };\n        const annotations = outerData.length === 0 ? [\n            {\n                text: translations[`${TRN_PREFIX}no-data`],\n                xref: 'paper',\n                yref: 'paper',\n                showarrow: false,\n                font: {\n                    size: 20\n                }\n            }\n        ] : [];\n        return (\n            <CSSTransitionGroup\n                /* key={selectedDirectProgram} */\n                transitionName=\"solar-chart\"\n                transitionAppear\n                transitionLeave\n                transitionEnter\n                transitionEnterTimeout={TRANSITIONS}\n                transitionLeaveTimeout={TRANSITIONS}\n                transitionAppearTimeout={TRANSITIONS}>\n                <Plot\n                    key=\"solarChart\"\n                    data={\n                        [{\n                            values: innerDataForChart.map(i => i.percentage),\n                            labels: innerDataForChart.map(i => i.innerCode),\n                            text: innerDataForChart.map(i => i[CODE]),\n                            neverFade: innerDataForChart.map(i => i.neverFade),\n                            extraData: innerDataForChart,\n                            domain: {\n                                x: [0.15, 0.85],\n                                y: [0.15, 0.85]\n                            },\n                            textposition: 'inside',\n                            direction: 'clockwise',\n                            name: INDIRECT,\n                            hoverinfo: 'skip',\n                            hole: 0.5,\n                            type: 'pie',\n                            sort: false,\n                            textinfo: 'text',\n                            marker: {\n                                colors: innerColors,\n                                line: {\n                                    color: 'white',\n                                    width: 3\n                                }\n                            },\n                            textfont: {\n                                color: 'white'\n                            }\n                        }, {\n                            values: outerDataLvl2.map(i => i.normalizedPercentage),\n                            labels: outerDataLvl2.map(i => i[CODE]),\n                            text: outerDataLvl2.map(i => i[AMOUNT]),\n                            neverFade: outerDataLvl2.map(i => i.neverFade),\n                            extraData: outerDataLvl2,\n                            name: DIRECT,\n                            hoverinfo: 'skip',\n                            textposition: 'inside',\n                            hole: innerDataForChart.length > 0 ? 0.7 : 0.36,\n                            type: 'pie',\n                            sort: false,\n                            direction: 'clockwise',\n                            textinfo: 'label',\n                            marker: {\n                                colors: outerColors,\n                                line: {\n                                    color: 'white',\n                                    width: 3\n                                }\n                            },\n                            textfont: {\n                                color: 'white'\n                            }\n                        }]\n                    }\n                    layout={{\n                        autosize: false,\n                        paper_bgcolor: 'rgba(0,0,0,0)',\n                        width: 400,\n                        height: 400,\n                        title: '',\n                        showlegend: false,\n                        transition,\n                        margin: {\n                            l: 55,\n                            r: 0,\n                            b: 10,\n                            t: 20,\n                            pad: 4\n                        },\n                        annotations\n                    }}\n                    config={{displaylogo: false}}\n                    onClick={event => this.onClick(event, outerData)}\n                    onHover={event => this.onHover(event)}\n                    onUnhover={() => this.onUnHover()}\n                />\n                <div\n                    style={{\n                        display: (!showLegend ? 'none' : 'block'),\n                        top: legendTop,\n                        left: legendLeft\n                    }}\n                    className=\"pie-legend-wrapper\">\n                    {this.createTooltip()}\n                </div>\n            </CSSTransitionGroup>\n        );\n    }\n}\n\nNestedDonutsProgramChart.propTypes = {\n    data: PropTypes.array.isRequired,\n    handleOuterChartClick: PropTypes.func.isRequired,\n    selectedDirectProgram: PropTypes.object,\n    translations: PropTypes.object.isRequired,\n    settings: PropTypes.object.isRequired,\n    globalSettings: PropTypes.object.isRequired,\n    selectedPrograms: PropTypes.array.isRequired\n};\n\nNestedDonutsProgramChart.defaultProps = {\n    selectedDirectProgram: undefined\n};\n\nconst mapStateToProps = state => ({\n    translations: state.translationsReducer.translations\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NestedDonutsProgramChart);\n","import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nclass FundingTypeSelector extends Component {\n  constructor(props) {\n    super(props);\n    this.generateDropdown = this.generateDropdown.bind(this);\n  }\n\n  generateDropdown() {\n    const { dashboardSettings, onChange, defaultValue } = this.props;\n    const options = dashboardSettings.find(s => s.id === 'funding-type');\n    return (\n      <form className=\"form-inline dash-form dash-adj-type\">\n        <select\n          defaultValue={defaultValue}\n          className=\"form-control like-btn-sm ftype-options\"\n          onChange={(e) => onChange(e.target.value)}>\n          {options.value.options.map(i => (<option key={i.id} value={i.id}>{i.name}</option>))}\n        </select>\n        <span className=\"cheat-lineheight\" />\n      </form>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"panel-footer clearfix\">\n        {/* <div className=\"pull-right\">\n          <div className=\"btn-group\">\n            <a\n              data-toggle=\"tooltip\"\n              title=\"\"\n              className=\"btn btn-sm btn-default download\"\n              target=\"_blank\">\n              <span className=\"glyphicon glyphicon-cloud-download\" />\n            </a>\n            <button\n              data-toggle=\"tooltip\"\n              title=\"\"\n              type=\"button\"\n              className=\"btn btn-sm btn-default expand hidden-xs hidden-sm\"\n              data-original-title=\"Expand chart\">\n              <span className=\"glyphicon glyphicon-fullscreen\" />\n            </button>\n          </div>\n        </div> */}\n        {this.generateDropdown()}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  ndd: state.reportsReducer.ndd,\n  dashboardSettings: state.dashboardSettingsReducer.dashboardSettings,\n});\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FundingTypeSelector);\n\nFundingTypeSelector.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  defaultValue: PropTypes.string,\n  dashboardSettings: PropTypes.array.isRequired\n};\n\nFundingTypeSelector.defaultProps = {\n  defaultValue: null\n};\n","import {\n  fetchIndirectReportPending,\n  fetchIndirectReportError,\n  fetchIndirectReportSuccess,\n  fetchTopReportPending,\n  fetchTopReportSuccess, fetchTopReportError,\n  resetTopReport,\n  fetchYearDetailSuccess, fetchYearDetailPending, fetchYearDetailError\n} from './reportActions';\nimport { fetchApiData } from '../../../utils/apiOperations';\nimport {\n  CURRENCY_CODE, DEFAULT_CURRENCY,\n  DIRECT_INDIRECT_REPORT, FUNDING_TYPE, INCLUDE_LOCATIONS_WITH_CHILDREN, TOP_DONOR_REPORT,\n  ACTIVITY_DETAIL_REPORT\n} from '../utils/constants';\nimport { removeFilter } from '../utils/Utils';\n\nexport const callReport = (fundingType, filters, programIds, settings) => dispatch => {\n  dispatch(fetchIndirectReportPending());\n  const newSettings = { [FUNDING_TYPE]: fundingType, programIds, ...settings };\n  const body = { ...filters };\n  body.settings = newSettings;\n  return Promise.all([fetchApiData({\n    url: DIRECT_INDIRECT_REPORT,\n    body\n  })]).then((data) => dispatch(fetchIndirectReportSuccess(data[0])))\n    .catch(error => dispatch(fetchIndirectReportError(error)));\n};\n\nexport const clearTopReport = () => dispatch => {\n  dispatch(resetTopReport());\n};\n\nexport const callTopReport = (fundingType, settings, filterParam, selectedProgram) => dispatch => {\n  let params = { ...filterParam };\n  if (!params.filters) {\n    params.filters = {};\n    params[INCLUDE_LOCATIONS_WITH_CHILDREN] = true;\n  }\n  if (selectedProgram !== null) {\n    if (!params.filters[selectedProgram.filterColumnName]) {\n      params.filters[selectedProgram.filterColumnName] = [];\n    }\n    if (!params.filters[selectedProgram.filterColumnName].find(v => v === selectedProgram.objectId)) {\n      params.filters[selectedProgram.filterColumnName].push(selectedProgram.objectId);\n    }\n  }\n  params.settings = { ...settings, [FUNDING_TYPE]: fundingType };\n  if (!params.settings[CURRENCY_CODE]) {\n    params.settings[CURRENCY_CODE] = DEFAULT_CURRENCY;\n  }\n  dispatch(fetchTopReportPending());\n  return fetchApiData({\n    url: TOP_DONOR_REPORT,\n    body: params\n  })\n    .then(payload => dispatch(fetchTopReportSuccess(payload)))\n    .catch(error => dispatch(fetchTopReportError(error)))\n    .finally(() => {\n      // We need to revert the extra param added for TopChart or it will affect other calls to the BE (like\n      // detail of activities).\n      if (selectedProgram !== null) {\n        params = removeFilter(params, selectedProgram);\n      }\n    });\n};\n\nexport const callYearDetailReport = (fundingType, filters, programId, year, settings) => dispatch => {\n  dispatch(fetchYearDetailPending());\n  const newSettings = {\n    [FUNDING_TYPE]: fundingType, id: programId, year, ...settings\n  };\n  return Promise.all([fetchApiData({\n    url: ACTIVITY_DETAIL_REPORT,\n    body: {\n      settings: newSettings,\n      filters: (filters ? filters.filters : null)\n    }\n  })]).then((data) => dispatch(fetchYearDetailSuccess(data[0])))\n    .catch(error => dispatch(fetchYearDetailError(error)));\n};\n","import React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\nimport Modal from 'react-bootstrap-modal';\nimport PropTypes from 'prop-types';\nimport { TRN_PREFIX } from '../../utils/constants';\nimport { formatOnlyNumber, getAmountsInWord } from '../../utils/Utils';\n\nconst MAX_RECORDS = 50;\n\nexport default class YearDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { recordsVisible: MAX_RECORDS };\n  }\n\n  createTable = () => {\n    const {\n      data, translations, fundingTypeDescription, currencyCode, globalSettings\n    } = this.props;\n    const { recordsVisible } = this.state;\n    const rows = [];\n    data.forEach((i, j) => {\n      rows.push(\n        <tr className={j >= recordsVisible ? 'invisible-row' : ''} key={Math.random()}>\n          <td>\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer noopener\"\n              title={i.projectTitle}\n              href={`/aim/viewActivityPreview.do~activityId=${i.id}`}>\n              {i.projectTitle}\n            </a>\n          </td>\n          <td className=\"amount-column\">\n            {formatOnlyNumber(globalSettings, i.amount)}\n          </td>\n        </tr>\n      );\n    });\n    return (\n      <div>\n        <span style={{ fontWeight: 'bold' }}>\n          {getAmountsInWord(translations, globalSettings)}\n        </span>\n        <table className=\"table table-striped\">\n          <thead>\n            <tr key={Math.random()}>\n              <th className=\"header-row\"><span>{translations[`${TRN_PREFIX}project-title`]}</span></th>\n              <th className=\"header-row\">\n                <span>\n                  {`${fundingTypeDescription} (${currencyCode})`}\n                </span>\n              </th>\n            </tr>\n          </thead>\n          <tbody>{rows}</tbody>\n        </table>\n        {recordsVisible < rows.length\n          ? (\n            <Button variant=\"success\" onClick={this.loadMore}>\n              {`${`${translations[`${TRN_PREFIX}load-more`]} ${recordsVisible}`}/${rows.length}`}\n            </Button>\n          )\n          : null}\n      </div>\n    );\n  }\n\n  loadMore = () => {\n    const { recordsVisible } = this.state;\n    this.setState({ recordsVisible: recordsVisible + MAX_RECORDS });\n  }\n\n  handleClose = () => {\n    const { handleClose } = this.props;\n    this.setState({ recordsVisible: MAX_RECORDS });\n    handleClose();\n  }\n\n  render() {\n    const {\n      translations, show, data, loading, error, title\n    } = this.props;\n    return (\n      <Modal show={show} onHide={this.handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>{title}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {loading\n            ? <div className=\"loading\" style={{ top: '5%', marginTop: '5px' }} />\n            : null}\n          {!loading && (!data || data.length === 0) && !error\n            ? <span>{translations[`${TRN_PREFIX}no-data`]}</span>\n            : null}\n          {data && data.length > 0 ? <div className=\"detail-table-container\">{this.createTable()}</div> : null}\n          {error ? <span className=\"error\">{JSON.stringify(error)}</span> : null}\n        </Modal.Body>\n      </Modal>\n    );\n  }\n}\n\nYearDetail.propTypes = {\n  translations: PropTypes.object.isRequired,\n  show: PropTypes.bool.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  data: PropTypes.array,\n  loading: PropTypes.bool.isRequired,\n  error: PropTypes.object,\n  fundingTypeDescription: PropTypes.string.isRequired,\n  currencyCode: PropTypes.string.isRequired,\n  globalSettings: PropTypes.object.isRequired,\n  title: PropTypes.string.isRequired\n};\n\nYearDetail.defaultProps = {\n  error: undefined,\n  data: null\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\n// Dont use react-plotly directly: https://github.com/plotly/react-plotly.js/issues/135#issuecomment-501398125\nimport Plotly from 'plotly.js';\nimport createPlotlyComponent from 'react-plotly.js/factory';\nimport { callYearDetailReport } from '../../actions/callReports';\nimport {\n  DIRECT_PROGRAM, INDIRECT_PROGRAMS, PROGRAMLVL1, CODE,\n  PROGRAMLVL2, TRN_PREFIX, CURRENCY_CODE, FUNDING_TYPE\n} from '../../utils/constants';\nimport {\n  formatNumberWithSettings, getCustomColor, formatKMB\n} from '../../utils/Utils';\n// eslint-disable-next-line no-unused-vars\nimport styles from '../styles.css';\nimport ToolTip from '../tooltips/ToolTip';\nimport YearDetail from './YearDetail';\n\nconst Plot = createPlotlyComponent(Plotly);\n\nexport const SRC_DIRECT = '0';\nconst SRC_INDIRECT = '1';\n\nclass FundingByYearChart extends Component {\n  constructor(props) {\n    super(props);\n    this.getValues = this.getValues.bind(this);\n    this.state = {\n      showLegend: false, legendTop: 0, legendLeft: 0, tooltipData: null, showDetail: false\n    };\n  }\n\n  getValues() {\n    const { selectedDirectProgram, fundingByYearSource } = this.props;\n    const ret = [];\n    const { data } = this.props;\n    if (data && data.length > 0) {\n      const sourceData = (fundingByYearSource === SRC_DIRECT\n        ? data.map(i => i[DIRECT_PROGRAM])\n        : data.map(i => i[INDIRECT_PROGRAMS]).flat());\n      const filteredData = !selectedDirectProgram ? sourceData\n        // TODO: maybe we can show the indirect funding for the selected direct program.\n        : (sourceData.filter(i => i[PROGRAMLVL1][CODE] === selectedDirectProgram[CODE]));\n      filteredData.forEach(i => {\n        const program = !selectedDirectProgram ? i[PROGRAMLVL1] : i[PROGRAMLVL2];\n        if (program) {\n          const item = ret.find(j => j[CODE] === program[CODE]);\n          const auxAmounts = i.amountsByYear;\n          if (item) {\n            item.values = this.sortAmountsByYear(this.addAmountsByYear(item.values, Object.keys(auxAmounts)\n              .map(j => ({ [j]: auxAmounts[j] }))));\n          } else {\n            ret.push({\n              [CODE]: program[CODE],\n              name: program.name,\n              values: Object.keys(auxAmounts)\n                .map(j => ({ [j]: auxAmounts[j] })),\n              id: program.objectId\n            });\n          }\n        }\n      });\n      ret.forEach(i => {\n        i.values = this.sortAmountsByYear(this.fillGapsInYears(i.values));\n      });\n    }\n    return ret;\n  }\n\n  // eslint-disable-next-line class-methods-use-this,react/sort-comp\n  sortAmountsByYear(values) {\n    return values.sort((i, j) => (Object.keys(i)[0] - Object.keys(j)[0]));\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  addAmountsByYear(current, values) {\n    const ret = current;\n    current.forEach((item, i) => {\n      const key = Object.keys(item)[0];\n      const value = item[key];\n      const newValue = values.find(item2 => item2[key]);\n      if (newValue) {\n        current[i][key] = value + newValue[key];\n      }\n    });\n    values.forEach(item => {\n      const key = Object.keys(item)[0];\n      const value = item[key];\n      const currValue = current.find(item2 => item2[key]);\n      if (currValue === undefined || currValue === null) {\n        current.push({ [key]: value });\n      }\n    });\n    return ret;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  fillGapsInYears(values) {\n    const ret = values;\n    const min = Math.min(...values.map(i => parseInt(Object.keys(i)[0], 10)));\n    const max = Math.max(...values.map(i => parseInt(Object.keys(i)[0], 10)));\n    for (let i = min; i <= max; i++) {\n      if (!values.find(j => Object.keys(j)[0] === i.toString())) {\n        values.push({ [i]: 0 });\n      }\n    }\n    return ret;\n  }\n\n  onHover = (data) => {\n    const { text } = data.points[0].data;\n    const lines = Math.ceil(text.length / 30);\n    this.setState({\n      showLegend: true,\n      legendTop: data.event.pointerY - 20 - (lines * 25),\n      legendLeft: data.event.pointerX - 100,\n      tooltipData: data\n    });\n  }\n\n  onUnHover = () => {\n    this.setState({ showLegend: false, tooltipData: null });\n  }\n\n  onClick = (event) => {\n    const {\n      _callYearDetailReport, settings, filters, fundingType, selectedPrograms, fundingByYearSource\n    } = this.props;\n    this.setState({ showDetail: true, year: event.points[0].x, programName: event.points[0].data.text });\n    const newSettings = { ...settings };\n    newSettings.isShowInnerChartDataForActivitiesDetail = (fundingByYearSource === SRC_INDIRECT);\n    newSettings.dontUseMapping = (selectedPrograms && selectedPrograms.length === 1);\n    newSettings.selectedPrograms = selectedPrograms;\n    _callYearDetailReport(fundingType,\n      filters,\n      event.points[0].data.extraData.find(i => i.name === event.points[0].data.text).id,\n      event.points[0].x,\n      newSettings);\n  }\n\n  createModalWindow = () => {\n    const {\n      translations, yearDetailPending, yearDetail, error, fundingType, settings, globalSettings, dashboardSettings\n    } = this.props;\n    const fundingTypeDescription = dashboardSettings.find(i => i.id === FUNDING_TYPE).value.options\n      .find(ft => ft.id === fundingType);\n    const { showDetail, year, programName } = this.state;\n    return (\n      <YearDetail\n        translations={translations}\n        show={showDetail}\n        handleClose={() => {\n          this.setState({ showDetail: false });\n        }}\n        data={yearDetail}\n        loading={yearDetailPending}\n        error={error}\n        fundingTypeDescription={fundingTypeDescription.name}\n        currencyCode={settings[CURRENCY_CODE]}\n        globalSettings={globalSettings}\n        title={`${year} ${programName}`} />\n    );\n  }\n\n  createTooltip = () => {\n    const { tooltipData } = this.state;\n    const { settings, translations, globalSettings } = this.props;\n    if (tooltipData) {\n      const year = tooltipData.points[0].x;\n      return (\n        <ToolTip\n          color={tooltipData.points[0].data.line.color}\n          currencyCode={settings[CURRENCY_CODE]}\n          formattedValue={formatNumberWithSettings(settings[CURRENCY_CODE], translations, globalSettings,\n            tooltipData.points[0].y, true)}\n          titleLabel={`${year} ${tooltipData.points[0].data.text}`}\n          total={tooltipData.points[0].data.extraData\n            .reduce((a, b) => (a + (b.values.find(i => i[year]) ? b.values.find(i => i[year])[year] : 0)), 0)}\n          value={tooltipData.points[0].y}\n          minWidth={400}\n          isYearTotal\n          globalSettings={globalSettings}\n        />\n      );\n    }\n    return null;\n  }\n\n  getColor(source, i) {\n    const { selectedDirectProgram, selectedPrograms } = this.props;\n    if (source === SRC_DIRECT) {\n      if (selectedDirectProgram == null) {\n        return getCustomColor(i, selectedPrograms[0]);\n      } else {\n        return getCustomColor(i, `${selectedPrograms[0]}_${selectedDirectProgram.code}`);\n      }\n    } else {\n      return getCustomColor(i, selectedPrograms[1]);\n    }\n  }\n\n  canEnableShowIndirectDataOption = () => {\n    const { data, selectedDirectProgram } = this.props;\n    const ret = data.find(d => d.indirectPrograms.length > 0) && !selectedDirectProgram;\n    return ret;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  calculateYAxisAbbreviations = (annotations, directData) => {\n    const { translations, globalSettings } = this.props;\n    const newAnnotations = annotations;\n    let biggest = 0;\n    directData.forEach(i => {\n      if (i.values) {\n        i.values.forEach(j => {\n          Object.keys(j).forEach(k => {\n            const amount = Number.parseFloat(j[k]);\n            if (amount > biggest) {\n              biggest = amount;\n            }\n          });\n        });\n      }\n    });\n    if (biggest) {\n      const formatter = formatKMB(translations, globalSettings.precision, globalSettings.decimalSeparator, false);\n      for (let i = 25; i <= 100; i += 25) {\n        newAnnotations.push({\n          text: formatter(this.getTickValue(biggest, i)),\n          align: 'right',\n          xref: 'paper',\n          x: 0,\n          xanchor: 'right',\n          xshift: 25,\n          yref: 'y',\n          y: this.getTickValue(biggest, i),\n          yanchor: 'auto',\n          yshift: 0,\n          showarrow: false\n        });\n      }\n    }\n    return newAnnotations;\n  }\n\n  // eslint-disable-next-line no-mixed-operators\n  getTickValue = (total, i) => (total * i / 100)\n\n  render() {\n    const {\n      translations, globalSettings, onChangeSource, fundingByYearSource\n    } = this.props;\n    const {\n      showLegend, legendTop, legendLeft\n    } = this.state;\n    const directData = this.getValues();\n    /* const transition = {\n      duration: 2000,\n      easing: 'cubic-in-out'\n    }; */\n    let annotations = directData.length === 0 ? [\n      {\n        text: translations[`${TRN_PREFIX}no-data`],\n        xref: 'paper',\n        yref: 'paper',\n        showarrow: false,\n        font: {\n          size: 20\n        }\n      }\n    ] : [];\n    annotations = this.calculateYAxisAbbreviations(annotations, directData);\n    return (\n      <div>\n        <div className=\"funding-by-year-radios\">\n          <div className=\"title-fy-source\">\n            {fundingByYearSource === SRC_DIRECT ? translations[`${TRN_PREFIX}direct`]\n              : translations[`${TRN_PREFIX}indirect`]}\n          </div>\n          <div className=\"radio-fy-source\">\n            <input\n              type=\"radio\"\n              id=\"fy-direct\"\n              name=\"fy-source\"\n              value=\"0\"\n              checked={fundingByYearSource === SRC_DIRECT ? 'checked' : null}\n              onChange={onChangeSource} />\n            <label htmlFor=\"fy-direct\">\n              {translations[`${TRN_PREFIX}fy-direct`]}\n            </label>\n          </div>\n          {this.canEnableShowIndirectDataOption() ? (\n            <div className=\"radio-fy-source\">\n              <input\n                type=\"radio\"\n                id=\"fy-indirect\"\n                name=\"fy-source\"\n                value=\"1\"\n                checked={fundingByYearSource === SRC_INDIRECT ? 'checked' : null}\n                onChange={onChangeSource} />\n              <label htmlFor=\"fy-indirect\">\n                {translations[`${TRN_PREFIX}fy-indirect`]}\n              </label>\n            </div>\n          ) : null}\n        </div>\n        <Plot\n          key=\"fundingByYearChart\"\n          data={\n            directData.map(i => ({\n              x: i.values.map(j => Object.keys(j)[0]),\n              y: i.values.map(j => j[Object.keys(j)[0]]),\n              text: i.name,\n              extraData: directData,\n              hoverinfo: 'none',\n              name: '',\n              type: 'scatter',\n              mode: 'lines+markers',\n              line: {\n                shape: 'spline',\n                smoothing: 0.5,\n                dash: 'solid',\n                width: 2,\n                color: this.getColor(fundingByYearSource, i),\n              },\n              marker: {\n                size: 7,\n                color: 'white',\n                line: {\n                  color: this.getColor(fundingByYearSource, i),\n                  width: 2,\n                }\n              }\n            }))\n          }\n          layout={{\n            autosize: true,\n            paper_bgcolor: 'rgba(0,0,0,0)',\n            height: 400,\n            title: '',\n            showlegend: false,\n            /* transition, */\n            margin: {\n              l: 60,\n              r: 30,\n              b: 50,\n              t: 20,\n              pad: 10\n            },\n            annotations,\n            xaxis: {\n              showgrid: false,\n              showline: false,\n              autotick: false,\n              tickangle: 45,\n              fixedrange: true,\n              automargin: true\n            },\n            yaxis: {\n              automargin: true,\n              fixedrange: true,\n              visible: true,\n              showline: false,\n              showticklabels: false\n            },\n            hovermode: 'closest',\n            separators: globalSettings.decimalSeparator + globalSettings.groupSeparator\n          }}\n          config={{ displaylogo: false, responsive: true, displayModeBar: false }}\n          useResizeHandler\n          style={{ width: '100%', height: '100%', cursor: 'pointer' }}\n          onHover={event => this.onHover(event)}\n          onUnhover={() => this.onUnHover()}\n          onClick={(event) => this.onClick(event)}\n        />\n        <div\n          style={{\n            display: (!showLegend ? 'none' : 'block'),\n            top: legendTop,\n            left: legendLeft\n          }}\n          className=\"line-legend-wrapper\">\n          {this.createTooltip()}\n        </div>\n        {this.createModalWindow()}\n      </div>\n    );\n  }\n}\n\nFundingByYearChart.propTypes = {\n  data: PropTypes.array.isRequired,\n  selectedDirectProgram: PropTypes.object,\n  translations: PropTypes.object.isRequired,\n  settings: PropTypes.object.isRequired,\n  globalSettings: PropTypes.object.isRequired,\n  _callYearDetailReport: PropTypes.func.isRequired,\n  fundingType: PropTypes.string,\n  filters: PropTypes.object.isRequired,\n  yearDetailPending: PropTypes.bool.isRequired,\n  yearDetail: PropTypes.array,\n  error: PropTypes.object,\n  selectedPrograms: PropTypes.array.isRequired,\n  dashboardSettings: PropTypes.array.isRequired,\n  fundingByYearSource: PropTypes.string.isRequired,\n  onChangeSource: PropTypes.func.isRequired\n};\n\nFundingByYearChart.defaultProps = {\n  selectedDirectProgram: undefined,\n  fundingType: undefined,\n  yearDetail: null,\n  error: undefined\n};\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations,\n  yearDetailPending: state.reportsReducer.yearDetailPending,\n  yearDetail: state.reportsReducer.yearDetail,\n  error: state.reportsReducer.error,\n  dashboardSettings: state.dashboardSettingsReducer.dashboardSettings,\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  _callYearDetailReport: callYearDetailReport\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FundingByYearChart);\n","import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { extractPrograms } from '../utils/Utils';\n\nclass PieChartTypeSelector extends Component {\n  constructor(props) {\n    super(props);\n    this.generateDropdown = this.generateDropdown.bind(this);\n  }\n\n  generateDropdown() {\n    const {\n      onChange, mapping, noIndirectMapping, selectedPrograms\n    } = this.props;\n    const programs = extractPrograms(mapping, noIndirectMapping);\n    const options = [];\n    const ids = [];\n    if (programs.direct) {\n      if (programs.indirect1) {\n        options.push(`${programs.direct.value} + ${programs.indirect1.value}`);\n        ids.push(`${programs.direct.id}-${programs.indirect1.id}`);\n      }\n      if (programs.indirect2) {\n        options.push(`${programs.direct.value} + ${programs.indirect2.value}`);\n        ids.push(`${programs.direct.id}-${programs.indirect2.id}`);\n      }\n      options.push(programs.direct.value);\n      ids.push(programs.direct.id);\n      if (programs.indirect1) {\n        options.push(programs.indirect1.value);\n        ids.push(programs.indirect1.id);\n      }\n      if (programs.indirect2) {\n        options.push(programs.indirect2.value);\n        ids.push(programs.indirect2.id);\n      }\n    }\n    let defaultValue = '';\n    if (selectedPrograms && selectedPrograms.length === 2) {\n      defaultValue = `${selectedPrograms[0]}-${selectedPrograms[1]}`;\n    } else if (selectedPrograms && selectedPrograms.length === 1) {\n      // eslint-disable-next-line prefer-destructuring\n      defaultValue = selectedPrograms[0];\n    }\n    return (\n      <form className=\"form-inline dash-form dash-adj-type\">\n        <select\n          defaultValue={defaultValue}\n          className=\"form-control like-btn-sm ftype-options programs-dropdown\"\n          onChange={(e) => onChange(e.target.value)}>\n          {options.map((i, j) => (<option key={ids[j]} value={ids[j]}>{i}</option>))}\n        </select>\n        <span className=\"cheat-lineheight\" />\n      </form>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"pie-chart-selector\">\n        {this.generateDropdown()}\n      </div>\n    );\n  }\n}\n\n// eslint-disable-next-line no-unused-vars\nconst mapStateToProps = state => ({});\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PieChartTypeSelector);\n\nPieChartTypeSelector.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  // eslint-disable-next-line react/no-unused-prop-types\n  defaultValue: PropTypes.string.isRequired,\n  mapping: PropTypes.object.isRequired,\n  noIndirectMapping: PropTypes.object.isRequired,\n  selectedPrograms: PropTypes.array\n};\n\nPieChartTypeSelector.defaultProps = {\n  selectedPrograms: undefined\n};\n","import React, { Component } from 'react';\nimport EllipsisText from 'react-ellipsis-text';\nimport PropTypes from 'prop-types';\nimport { formatOnlyNumber } from '../../modules/ndddashboard/utils/Utils';\n\nexport default class CustomLegend extends Component {\n  render() {\n    const {\n      data, colorMap, shouldSplitBig, formatter, translations, settings, currency\n    } = this.props;\n    return (\n      <div className=\"custom-legend\">\n        <div className=\"custom-legend-inner\">\n          <ul className={data.length > 3 && shouldSplitBig ? 'two-rows' : ''}>\n            {data.map(d => (\n              <li key={colorMap.get(d.code)}>\n                <div className=\"row row-eq-height\" >\n                  <div className=\"col-md-1 col-xs-1 symbol-container\">\n                    <span\n                      className=\"symbol\"\n                      style={{\n                        border: `2px solid ${colorMap.get(d.code)}`,\n                        backgroundColor: `${colorMap.get(d.code)}`\n                      }} />\n                  </div>\n                  <div className=\"col-md-7 col-xs-7 label\">\n                    <EllipsisText\n                      text={d.simpleLabel}\n                      length={100}\n                      tail=\"\" />\n                    {d.percentage\n                    && (\n                      <span\n                        className=\"label percentage\">\n                        {`${d.percentage}%`}\n                      </span>\n                    )}\n                  </div>\n                  {d.amount\n                  && (\n                    <div className=\"col-md-4 col-xs-4 label vertical-center\" style={{ textAlign: 'right' }}>\n                      <span\n                        className=\"label amount\">\n                        {/* eslint-disable-next-line no-nested-ternary */}\n                        {translations && settings && currency\n                          ? formatOnlyNumber(settings, d.amount)\n                          : formatter\n                            ? formatter.format(d.amount)\n                            : d.amount}\n                      </span>\n                    </div>\n                  )}\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\nCustomLegend.propTypes = {\n  data: PropTypes.array.isRequired,\n  colorMap: PropTypes.object.isRequired,\n  shouldSplitBig: PropTypes.bool,\n  formatter: PropTypes.object,\n  translations: PropTypes.object,\n  settings: PropTypes.object,\n  currency: PropTypes.string\n};\n\nCustomLegend.defaultProps = {\n  shouldSplitBig: false,\n  formatter: null,\n  translations: null,\n  settings: null,\n  currency: null\n};\n","import React, { Component } from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport PropTypes from 'prop-types';\nimport './SimpleLegend.css';\n\nexport default class SimpleLegend extends Component {\n  render() {\n    const {\n      data, getColor\n    } = this.props;\n    let index = 0;\n    return (\n      <div className=\"simple-legend\">\n        <div className=\"simple-legend-inner\">\n          <ul>\n            {data.map(d => {\n              d.index = index;\n              const ret = (\n                <li key={getColor(d)}>\n                  <span\n                    className=\"symbol\"\n                    style={{\n                      border: `2px solid ${getColor(d)}`,\n                      backgroundColor: `${getColor(d)}`\n                    }}\n                    data-tip={d.name}\n                    data-for={index.toString()}\n                  />\n                  <span className=\"label\">\n                    {d.name.substring(0, 10)}\n                    <ReactTooltip place=\"top\" effect=\"float\" backgroundColor={getColor(d)} id={index.toString()} />\n                  </span>\n                </li>\n              );\n              index += 1;\n              return ret;\n            })}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\nSimpleLegend.propTypes = {\n  data: PropTypes.array.isRequired,\n  shouldSplitBig: PropTypes.bool,\n  formatter: PropTypes.func,\n  getColor: PropTypes.func\n};\nSimpleLegend.defaultProps = {\n  shouldSplitBig: false,\n  formatter: null,\n  getColor: null\n};\n","import React, { Component } from 'react';\nimport { ResponsiveBar } from '@nivo/bar';\nimport PropTypes from 'prop-types';\nimport { NDDTranslationContext } from '../StartUp';\nimport ToolTip from '../tooltips/ToolTip';\nimport { formatKMB, formatNumberWithSettings } from '../../utils/Utils';\nimport SimpleLegend from '../../../../utils/components/SimpleLegend';\nimport { CURRENCY_CODE } from '../../utils/constants';\n\nconst styles = {\n  fontFamily: 'sans-serif',\n  textAlign: 'center',\n};\n\nclass TopChart extends Component {\n  // eslint-disable-next-line class-methods-use-this\n  getColor(item) {\n    return colors[item.index];\n  }\n\n  getLabel(item) {\n    const { translations } = this.context;\n    const { globalSettings } = this.props;\n    const formatter = formatKMB(translations, globalSettings.precision, globalSettings.decimalSeparator, false, null);\n    return formatter(item.data.value);\n  }\n\n  getOthers(o) {\n    const { translations } = this.context;\n    const { globalSettings, settings } = this.props;\n    return {\n      id: '-9999',\n      name: translations['amp.ndd.dashboard:others'],\n      value: o,\n      formattedAmount: formatNumberWithSettings(settings[CURRENCY_CODE], translations, globalSettings, o, true)\n    };\n    // TODO apply format from global settings\n  }\n\n  render() {\n    const {\n      data, globalSettings, translations, settings\n    } = this.props;\n    const transformedData = data.values.slice(0, 5).map(v => ({\n      id: v.id.toString(),\n      formattedAmount: formatNumberWithSettings(settings[CURRENCY_CODE], translations, globalSettings, v.amount, true),\n      name: v.name,\n      value: v.amount,\n    }));\n\n    const others = data.total - data.values.reduce((acc, cur) => (acc + cur.amount), 0);\n\n    if (others > 0) {\n      const o = this.getOthers(others);\n      transformedData.push(o);\n      data.values.push(o);\n    }\n    return (\n      <div style={styles}>\n        <SimpleLegend\n          data={data.values}\n          getColor={this.getColor.bind(this)}\n        />\n        <div style={{ height: '335px' }}>\n          <ResponsiveBar\n            data={transformedData}\n            colors={this.getColor.bind(this)}\n            label={this.getLabel.bind(this)}\n            enableGridY={false}\n            axisTop={null}\n            axisRight={null}\n            axisBottom={null}\n            axisLeft={null}\n            margin={{\n              top: 20, right: 10, bottom: 0, left: 10\n            }}\n            labelFormat={d => (<tspan y={-5}>{`${d}`}</tspan>)}\n            tooltip={(e) => (\n              <ToolTip\n                color={e.color}\n                titleLabel={e.data.name}\n                formattedValue={e.data.formattedAmount}\n                value={e.data.value}\n                total={data.total}\n                id={e.data.id}\n                currencyCode={data.currency}\n                globalSettings={globalSettings}\n              />\n            )}\n            theme={{\n              tooltip: {\n                container: {\n                  padding: '1px',\n                  borderRadius: '5px',\n                  boxShadow: '0 1px 2px rgba(0, 0, 0, 0.25)'\n                }\n              }\n            }}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst colors = ['rgba(90, 153, 199, 1)',\n  'rgba(195, 214, 238, 1)',\n  'rgba(255, 160, 87, 1)',\n  'rgba(255, 204, 154, 1)',\n  'rgba(99, 184, 99, 1)',\n  'rgba(153, 153, 153, 1)',\n  'rgba(217, 91, 95, 1)',\n  'rgba(253, 170, 170, 1)',\n  'rgba(166, 133, 196, 1)',\n  'rgba(206, 189, 218, 1)',\n\n];\nTopChart.contextType = NDDTranslationContext;\n\nTopChart.propTypes = {\n  data: PropTypes.object.isRequired,\n  globalSettings: PropTypes.object.isRequired,\n  translations: PropTypes.object.isRequired,\n  settings: PropTypes.object.isRequired\n};\nexport default TopChart;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  CHART_COLOR_MAP, CURRENCY_CODE\n} from '../utils/constants';\nimport CustomLegend from '../../../utils/components/CustomLegend';\nimport './legends/legends.css';\nimport {\n  getCustomColor, formatNumberWithSettings\n} from '../utils/Utils';\nimport TopChart from './charts/TopChart';\nimport { NDDTranslationContext } from './StartUp';\nimport { ALL_PROGRAMS } from '../../admin/ndd/constants/Constants';\n\nexport default class TopChartContainer extends Component {\n  getProgramLegend() {\n    const { ndd } = this.props;\n    const { selectedDirectProgram, selectedPrograms } = this.props;\n    const legends = [];\n    const directLegend = new Map();\n    const indirectLegend = new Map();\n    let directTotal = 0;\n    let indirectTotal = 0;\n    ndd.forEach(dp => {\n      if (selectedDirectProgram) {\n        if (dp.directProgram.programLvl1.code === selectedDirectProgram.code) {\n          directTotal += this.generateLegend(dp.directProgram, 2, directLegend,\n            `${selectedPrograms[0]}_${selectedDirectProgram.code}`, directTotal);\n        }\n      } else {\n        directTotal += this.generateLegend(dp.directProgram, 1, directLegend, selectedPrograms[0]);\n      }\n      if (!selectedDirectProgram) { // We only need indirect if no direct is selected\n        dp.indirectPrograms.forEach(idp => {\n          indirectTotal += this.generateLegend(idp, 1, indirectLegend, selectedPrograms[1]);\n        });\n      }\n    });\n    legends.push({ total: directTotal, legends: [...directLegend.values()] });\n    legends.push({ total: indirectTotal, legends: [...indirectLegend.values()] });\n    return legends;\n  }\n\n  getTopChart() {\n    const {\n      topLoaded, topLoadingPending, top, globalSettings, settings\n    } = this.props;\n    const { translations } = this.context;\n    return topLoaded && !topLoadingPending ? (\n      <div>\n        <div className=\"funding-sources-title\">\n          <div className=\"row\">\n            <div className=\"col-md-8\">\n              {translations['amp.ndd.dashboard:top-donor-agencies']}\n            </div>\n            <div className=\"amount col-md-4\">\n              {`${top.sumarizedTotal} ${top.currency}`}\n            </div>\n          </div>\n          <TopChart data={top} globalSettings={globalSettings} translations={translations} settings={settings} />\n        </div>\n      </div>\n    ) : <div style={{ position: 'relative', top: '10px' }} className=\"loading\" />;\n  }\n\n  // eslint-disable-next-line class-methods-use-this,react/sort-comp\n  generateLegend(program, level, legend, programColor) {\n    const programLevel = program[`programLvl${level}`];\n    if (!programLevel) {\n      return 0;\n    }\n    let prog = legend.get(programLevel.code.trim());\n    if (!prog) {\n      prog = {};\n      prog.amount = 0;\n      prog.code = programLevel.code.trim();\n      prog.simpleLabel = `${programLevel.code}:${programLevel.name}`;\n    }\n    prog.amount += program.amount;\n    getCustomColor(prog, programColor);\n    legend.set(prog.code, prog);\n    return program.amount;\n  }\n\n  getTitles = () => {\n    const { selectedPrograms, mapping } = this.props;\n    const titles = [];\n    if (mapping && selectedPrograms) {\n      titles[0] = mapping[ALL_PROGRAMS].find(i => `${i.id}` === selectedPrograms[0]).value;\n      if (selectedPrograms[1]) {\n        titles[1] = mapping[ALL_PROGRAMS].find(i => `${i.id}` === selectedPrograms[1]).value;\n      }\n    }\n    return titles;\n  }\n\n  render() {\n    const {\n      error,\n      nddLoadingPending,\n      nddLoaded,\n      settings,\n      selectedDirectProgram,\n      globalSettings,\n      selectedPrograms\n    } = this.props;\n    const { translations } = this.context;\n    if (error) {\n      // TODO proper error handling\n      return (<div>ERROR</div>);\n    } else {\n      const programLegend = nddLoaded && !nddLoadingPending ? this.getProgramLegend() : null;\n      const titles = this.getTitles();\n      return (\n        <div>\n          {programLegend && programLegend[0].total ? (\n            <div className=\"legends-container\">\n              <div className={`even-${selectedDirectProgram ? 'third' : 'middle'}`}>\n                <div className=\"legend-title\">\n                  <span>{titles[0]}</span>\n                  <span className=\"amount\">\n                    {formatNumberWithSettings(settings[CURRENCY_CODE], translations, globalSettings,\n                      programLegend[0].total, true)}\n                  </span>\n                </div>\n                <CustomLegend\n                  settings={globalSettings}\n                  translations={translations}\n                  currency={settings[CURRENCY_CODE]}\n                  data={programLegend[0].legends.sort((a, b) => b.amount - a.amount)}\n                  colorMap={CHART_COLOR_MAP\n                    .get(selectedDirectProgram ? `${selectedPrograms[0]}_${selectedDirectProgram.code}`\n                      : selectedPrograms[0])} />\n              </div>\n              {selectedDirectProgram === null && programLegend[1].total\n                ? (\n                  <div className=\"even-middle\">\n                    <div className=\"legend-title\">\n                      <span>\n                        {titles[1] ? titles[1] : null}\n                      </span>\n                      <span className=\"amount\">\n                        {formatNumberWithSettings(settings[CURRENCY_CODE], translations, globalSettings,\n                          programLegend[1].total, true)}\n                      </span>\n                    </div>\n                    <CustomLegend\n                      settings={globalSettings}\n                      translations={translations}\n                      currency={settings[CURRENCY_CODE]}\n                      data={programLegend[1].legends.sort((a, b) => b.amount - a.amount)}\n                      colorMap={CHART_COLOR_MAP.get(selectedPrograms[1])} />\n                  </div>\n                ) : null}\n              {selectedDirectProgram !== null\n              && (\n                <div className=\"even-sixth\">\n                  {this.getTopChart()}\n                </div>\n              )}\n\n            </div>\n          ) : null}\n        </div>\n      );\n    }\n  }\n}\n\nTopChartContainer.propTypes = {\n  error: PropTypes.object,\n  ndd: PropTypes.array,\n  top: PropTypes.object,\n  nddLoadingPending: PropTypes.bool.isRequired,\n  nddLoaded: PropTypes.bool.isRequired,\n  topLoadingPending: PropTypes.bool.isRequired,\n  topLoaded: PropTypes.bool.isRequired,\n  mapping: PropTypes.object,\n  settings: PropTypes.object,\n  selectedDirectProgram: PropTypes.object,\n  globalSettings: PropTypes.object,\n  selectedPrograms: PropTypes.array\n};\n\nTopChartContainer.defaultProps = {\n  selectedDirectProgram: null,\n  settings: undefined,\n  error: null,\n  mapping: null,\n  globalSettings: null,\n  ndd: null,\n  top: undefined,\n  selectedPrograms: null\n};\n\nTopChartContainer.contextType = NDDTranslationContext;\n","import React, {  useContext } from 'react';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Col, Row } from 'react-bootstrap';\nimport NestedDonutsProgramChart from './charts/NestedDonutsProgramChart';\nimport FundingTypeSelector from './FundingTypeSelector';\nimport './legends/legends.css';\nimport {\n  getCustomColor, getGradient\n} from '../utils/Utils';\nimport FundingByYearChart from './charts/FundingByYearChart';\nimport PieChartTypeSelector from './PieChartTypeSelector';\nimport { NDDTranslationContext } from './StartUp';\nimport TopChartContainer from './TopChartContainer';\nimport { SELECTED_COLORS } from '../utils/constants';\nimport { ALL_PROGRAMS } from '../../admin/ndd/constants/Constants';\nimport PrintDummy from \"../../sscdashboard/utils/PrintDummy\";\n\nconst MainDashboardContainer = (props) => {\n  const {\n    selectedDirectProgram,\n    selectedPrograms,\n    ndd,\n    mapping,\n    error,\n    nddLoadingPending,\n    nddLoaded,\n    dashboardSettings,\n    onChangeFundingType,\n    fundingType,\n    onChangeProgram,\n    noIndirectMapping,\n    settings,\n    handleOuterChartClick,\n    globalSettings,\n    filters,\n    top,\n    topLoaded,\n    topLoadingPending,\n    downloadImage,\n    embedded,\n    onChangeSource,\n    fundingByYearSource\n  } = props;\n\n  const generate2LevelColors = () => {\n    if (selectedPrograms && selectedDirectProgram) {\n      const subColors = SELECTED_COLORS.get(`${selectedPrograms[0]}_${selectedDirectProgram.code}`);\n      const countArray = ndd.filter(p => p.directProgram.programLvl1.code === selectedDirectProgram.code);\n      if (!subColors || subColors.length !== countArray.length) {\n        const colors = getGradient(getCustomColor(selectedDirectProgram,\n          selectedPrograms[0]), '#FFFFFF', countArray.length + 1);\n        SELECTED_COLORS.set(`${selectedPrograms[0]}_${selectedDirectProgram.code}`, colors);\n      }\n    }\n  }\n\n  const generateSectionTitle = () => {\n    let title = '';\n    if (mapping && selectedPrograms) {\n      title = mapping[ALL_PROGRAMS].find(i => `${i.id}` === selectedPrograms[0]).value;\n      if (selectedPrograms[1]) {\n        title += ` / ${mapping[ALL_PROGRAMS].find(i => `${i.id}` === selectedPrograms[1]).value}`;\n      }\n    }\n    return title;\n  }\n\n  const { translations } = useContext(NDDTranslationContext);\n\n  if (error) {\n    return (<div>ERROR</div>);\n  } else {\n    generate2LevelColors();\n    return (\n      <>\n        <Row style={{\n          marginRight: '-15px', marginLeft: '-15px', border: '1px solid #ddd', borderBottom: 'none', backgroundColor: '#ffffff'\n        }}>\n          <Col md={12} style={{ paddingRight: 0, paddingLeft: 0 }}>\n            <div className=\"section_title\">\n              <span>\n                {generateSectionTitle()}\n              </span>\n              {!embedded && nddLoaded && !nddLoadingPending ? (\n                <div className=\"export-wrapper\">\n                  <div\n                    className=\"download-image\"\n                  >\n                    <span\n                      className=\"glyphicon glyphicon-cloud-download download-image-img \"\n                      onClick={() => downloadImage()} />\n                  </div>\n                </div>\n              ) : (null)}\n            </div>\n          </Col>\n        </Row>\n        <Row style={{\n          marginRight: '-15px',\n          marginLeft: '-15px',\n          border: 'none',\n          display: 'flex',\n          borderTop: 'none',\n          backgroundColor: '#ffffff'\n        }}>\n          {nddLoaded && !nddLoadingPending\n            ? (\n              <>\n                <Col md={5} style={{ paddingRight: 0, paddingLeft: 0, backgroundColor: 'white' }}>\n                  <div className=\"chart-container\">\n                    <div className=\"chart\">\n                      <PieChartTypeSelector\n                        onChange={onChangeProgram}\n                        defaultValue={fundingType}\n                        mapping={mapping}\n                        noIndirectMapping={noIndirectMapping}\n                        selectedPrograms={selectedPrograms} />\n                      <NestedDonutsProgramChart\n                        data={ndd}\n                        settings={settings}\n                        globalSettings={globalSettings}\n                        selectedDirectProgram={selectedDirectProgram}\n                        handleOuterChartClick={handleOuterChartClick}\n                        selectedPrograms={selectedPrograms}\n                      />\n                    </div>\n                    <div className=\"buttons\" style={{ position: 'absolute', bottom: 0 }}>\n                      {dashboardSettings && !nddLoadingPending\n                        ? (\n                          <FundingTypeSelector\n                            onChange={onChangeFundingType}\n                            defaultValue={fundingType}\n                            noIndirectMapping={noIndirectMapping} />\n                        ) : null}\n                    </div>\n                  </div>\n                </Col>\n                <Col md={7} style={{ paddingLeft: 0, paddingRight: 0 }}>\n                  <TopChartContainer\n                    noIndirectMapping={noIndirectMapping}\n                    ndd={ndd}\n                    globalSettings={globalSettings}\n                    mapping={mapping}\n                    settings={settings}\n                    top={top}\n                    topLoaded={topLoaded}\n                    topLoadingPending={topLoadingPending}\n                    selectedDirectProgram={selectedDirectProgram}\n                    nddLoaded={nddLoaded}\n                    selectedPrograms={selectedPrograms}\n                    nddLoadingPending={nddLoadingPending} />\n                </Col>\n              </>\n            ) : (\n              <Col\n                md={12}\n                style={{\n                  paddingRight: 0, paddingLeft: 0, backgroundColor: 'white', height: 3000\n                }}>\n                <div className=\"loading loading-absolute\" />\n              </Col>\n            )}\n        </Row>\n        {!embedded ? (\n          <>\n            <Row style={{\n              borderBottom: '1px solid #ddd', height: 400, marginRight: '-15px', marginLeft: '-15px', backgroundColor: 'white'\n            }}>\n              <Col md={12} style={{ paddingLeft: 0, paddingRight: 0, backgroundColor: 'white' }}>\n                {/* <div className=\"chart\"> */}\n                  <div className=\"section_title\" style={{ backgroundColor: 'white', marginTop: '2%', marginBottom: '0.2%' }}>\n                    <span>{translations['amp.dashboard:funding-over-time']}</span>\n                  </div>\n\n                  {nddLoaded && !nddLoadingPending ? (\n                    <FundingByYearChart\n                      selectedDirectProgram={selectedDirectProgram}\n                      selectedPrograms={selectedPrograms}\n                      settings={settings}\n                      filters={filters}\n                      fundingType={fundingType}\n                      globalSettings={globalSettings}\n                      data={ndd}\n                      onChangeSource={onChangeSource}\n                      fundingByYearSource={fundingByYearSource}\n                    />\n                  ) : (\n                    <Col\n                    md={12}\n                    style={{\n                      paddingRight: 0, paddingLeft: 0, backgroundColor: 'white', height: 3000\n                    }}>\n                    <div className=\"loading loading-absolute\" />\n                  </Col>\n                  )}\n                {/* </div> */}\n              </Col>\n            </Row>\n            <PrintDummy />\n          </>\n        ) : null}\n      </>\n    );\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  top: state.reportsReducer.top,\n  translations: state.translationsReducer.translations,\n  globalSettings: state.dashboardSettingsReducer.globalSettings,\n  topLoaded: state.reportsReducer.topLoaded,\n  topLoadingPending: state.reportsReducer.topLoadingPending,\n  dashboardSettings: state.dashboardSettingsReducer.dashboardSettings\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MainDashboardContainer);\n\nMainDashboardContainer.propTypes = {\n  filters: PropTypes.object,\n  error: PropTypes.object,\n  ndd: PropTypes.array,\n  top: PropTypes.object,\n  nddLoadingPending: PropTypes.bool.isRequired,\n  nddLoaded: PropTypes.bool.isRequired,\n  topLoadingPending: PropTypes.bool.isRequired,\n  topLoaded: PropTypes.bool.isRequired,\n  dashboardSettings: PropTypes.array,\n  onChangeFundingType: PropTypes.func.isRequired,\n  fundingType: PropTypes.string,\n  mapping: PropTypes.object,\n  onChangeProgram: PropTypes.func.isRequired,\n  noIndirectMapping: PropTypes.object,\n  selectedPrograms: PropTypes.array,\n  settings: PropTypes.object,\n  selectedDirectProgram: PropTypes.object,\n  handleOuterChartClick: PropTypes.func.isRequired,\n  globalSettings: PropTypes.object,\n  downloadImage: PropTypes.func.isRequired,\n  embedded: PropTypes.bool,\n  onChangeSource: PropTypes.func.isRequired,\n  fundingByYearSource: PropTypes.string.isRequired\n};\nMainDashboardContainer.defaultProps = {\n  filters: undefined,\n  selectedDirectProgram: null,\n  settings: undefined,\n  error: null,\n  fundingType: null,\n  mapping: null,\n  noIndirectMapping: null,\n  selectedPrograms: null,\n  globalSettings: null,\n  ndd: null,\n  top: undefined,\n  dashboardSettings: null,\n  embedded: false\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport dateformat from 'dateformat';\nimport { TRN_PREFIX } from '../utils/constants';\n\nexport default class FilterOutputItem extends Component {\n  generateChildren = (items) => {\n    const { translations } = this.props;\n    const ret = [];\n    if (items.length > 0) {\n      items.forEach(item => {\n        ret.push(<li key={Math.random()}>{item.get('name')}</li>);\n      });\n    } else if (items.modelType === 'DATE-RANGE-VALUES') {\n      ret.push(\n        <li key={Math.random()}>\n          {items.start ? this.formatDate(items.start) : translations[`${TRN_PREFIX}no-data-short`]}\n          {' --- '}\n          {items.end ? this.formatDate(items.end) : translations[`${TRN_PREFIX}no-data-short`]}\n        </li>\n      );\n    } else if (items.modelType === 'YEAR-SINGLE-VALUE') {\n      ret.push(<li key={Math.random()}>{items.year}</li>);\n    }\n    return <ul key={Math.random()}>{ret}</ul>;\n  }\n\n  formatDate = (dateString) => {\n    const { globalSettings } = this.props;\n    const date = new Date(`${dateString}T00:00`);\n    const format = globalSettings.dateFormat.replace(/M{2}/gm, 'mm');\n    return dateformat(date, format);\n  }\n\n  render() {\n    const { filters, i } = this.props;\n    const ret = [];\n    if (filters && filters[i]) {\n      let parent = null;\n      if (filters[i].filterName) {\n        parent = <h5 key={Math.random()}>{filters[i].filterName}</h5>;\n      } else if (filters[i].displayName) {\n        parent = <h5 key={Math.random()}>{filters[i].displayName}</h5>;\n      } else {\n        parent = <h5 key={Math.random()}>{i.replace(/[-]+/g, ' ')}</h5>;\n      }\n      ret.push(parent);\n      const children = this.generateChildren(filters[i], i);\n      ret.push(children);\n    }\n    return <div>{ret}</div>;\n  }\n}\n\nFilterOutputItem.propTypes = {\n  filters: PropTypes.object.isRequired,\n  i: PropTypes.string.isRequired,\n  translations: PropTypes.object.isRequired,\n  globalSettings: PropTypes.object.isRequired\n};\n","import React, { Component } from 'react';\nimport { Col } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport FilterOutputItem from './FilterOutputItem';\nimport { TRN_PREFIX } from '../utils/constants';\n\nimport Filter from '@devgateway/amp-filter/dist/amp-filter';\n\nconst filter = new Filter({\n  draggable: true,\n  caller: 'DASHBOARD'\n});\n\nclass Filters extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false, filtersWithModels: null, showFiltersList: false, savedDashboardLoaded: false\n    };\n  }\n\n  componentDidMount() {\n    filter.on('apply', this.applyFilters);\n    filter.on('cancel', this.hideFilters);\n\n    const {\n      dashboardId, _sharedData, _sharedDataPending, _sharedDataLoaded,\n    } = this.props;\n    const { savedDashboardLoaded } = this.state;\n    filter.loaded.done(() => {\n      if (dashboardId && _sharedDataPending === false && _sharedDataLoaded === true && savedDashboardLoaded === false) {\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({ savedDashboardLoaded: true });\n        // Note: no need to explicitly call applyFilters when deserializing (unless you use silent: true).\n        filter.deserialize(JSON.parse(_sharedData.stateBlob), { dontSetDefaultDates: true });\n      } else {\n        /* Notice we dont need to define this.state.filters here, we will get it from onApplyFilters. Apparently\n        the filter widget takes date.start and date.end automatically from dashboard settings EP. */\n        filter.deserialize({});\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('apply', this.applyFilters);\n    window.removeEventListener('cancel', this.hideFilters);\n  }\n\n  showFilterWidget = () => {\n    const { show } = this.state;\n    if (filter && !show) {\n      this.setState({ show: true });\n      return filter.loaded.then(() => {\n        // eslint-disable-next-line react/no-string-refs\n        filter.setElement(this.refs.filterPopup);\n        return filter.showFilters();\n      });\n    }\n  };\n\n  hideFilters = () => {\n    this.setState({ show: false });\n  };\n\n  applyFilters = () => {\n    const { onApplyFilters } = this.props;\n    this.hideFilters();\n    const serializeWithModels = filter.serializeToModels();\n    this.setState({ filtersWithModels: serializeWithModels });\n    onApplyFilters(filter.serialize(), serializeWithModels);\n  };\n\n  toggleAppliedFilters = () => {\n    const { showFiltersList } = this.state;\n    this.setState({ showFiltersList: !showFiltersList });\n  };\n\n  generateFilterOutput = () => {\n    const { filtersWithModels } = this.state;\n    const { translations, globalSettings } = this.props;\n    const ret = [];\n    if (filtersWithModels && filtersWithModels.filters) {\n      Object.keys(filtersWithModels.filters)\n        .forEach(i => {\n          ret.push(<FilterOutputItem\n            key={Math.random()}\n            filters={filtersWithModels.filters}\n            i={i}\n            translations={translations}\n            globalSettings={globalSettings} />);\n        });\n    }\n    return <div style={{ paddingLeft: '10px' }}>{ret}</div>;\n  }\n\n  render() {\n    const { show, filtersWithModels, showFiltersList } = this.state;\n    const { translations } = this.props;\n    return (\n      <Col md={5}>\n        <div className=\"panel\">\n          <div className=\"panel-body\">\n            <h3 className=\"inline-heading\" style={{ float: 'left' }}>{translations[`${TRN_PREFIX}filters`]}</h3>\n            <button\n              type=\"button\"\n              className=\"btn btn-sm btn-default filter-button\"\n              onClick={this.showFilterWidget}\n              style={{ float: 'right' }}>\n              <span className=\"glyphicon glyphicon-edit\" />\n              <span>\n                {' '}\n                {translations[`${TRN_PREFIX}edit-filters`]}\n              </span>\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-sm btn-default filter-button\"\n              onClick={this.toggleAppliedFilters}\n              style={{ float: 'left' }}>\n              <span className=\"glyphicon glyphicon-eye-open\" />\n              <span>\n                {!showFiltersList\n                  ? ` ${translations[`${TRN_PREFIX}show-filter-settings`]} `\n                  : ` ${translations[`${TRN_PREFIX}hide-filter-settings`]} `}\n              </span>\n              (\n              <b>{filtersWithModels ? Object.keys(filtersWithModels.filters).length : 0}</b>\n              )\n            </button>\n          </div>\n          <div className=\"applied-filters\">\n            {showFiltersList ? (\n              <div>\n                {this.generateFilterOutput()}\n              </div>\n            ) : null}\n          </div>\n        </div>\n        {/* eslint-disable-next-line react/no-string-refs */}\n        <div id=\"filter-popup\" ref=\"filterPopup\" style={{ display: (!show ? 'none' : 'block') }} />\n      </Col>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  _sharedDataPending: state.sharedDataReducer.sharedDataPending,\n  _sharedDataLoaded: state.sharedDataReducer.sharedDataLoaded,\n  _sharedData: state.sharedDataReducer.sharedData,\n  translations: state.translationsReducer.translations\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Filters);\n\nFilters.propTypes = {\n  onApplyFilters: PropTypes.func.isRequired,\n  dashboardId: PropTypes.number,\n  translations: PropTypes.object.isRequired,\n  globalSettings: PropTypes.object.isRequired,\n  _sharedDataPending: PropTypes.bool.isRequired,\n  _sharedDataLoaded: PropTypes.bool.isRequired,\n  _sharedData: PropTypes.object\n};\n\nFilters.defaultProps = {\n  dashboardId: null,\n  _sharedData: undefined\n};\n","import React, { Component } from 'react';\nimport { Col } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { TRN_PREFIX } from '../utils/constants';\n// eslint-disable-next-line no-unused-vars\n\nimport { NDDTranslationContext } from './StartUp';\n\nconst SettingsWidget = require('@devgateway/amp-settings/dist/amp-settings');\n\nconst widget = new SettingsWidget.SettingsWidget({\n  el: 'settings-popup',\n  draggable: true,\n  caller: 'TABS',\n  isPopup: true,\n  definitionUrl: '/rest/settings-definitions/tabs'\n});\n\nclass Settings extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false\n    };\n  }\n\n  componentDidMount() {\n    const { settings } = this.props;\n    widget.restoreFromSaved(settings);\n    // eslint-disable-next-line react/no-string-refs\n    widget.setElement(this.refs.settingsPopup);\n    widget.on('applySettings', this.applySettings);\n    widget.on('close', this.hideSettings);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('applySettings', this.applySettings);\n    window.removeEventListener('close', this.hideSettings);\n  }\n\n  applySettings = (data) => {\n    const { onApplySettings } = this.props;\n    onApplySettings(data);\n    this.hideSettings();\n  }\n\n  hideSettings = () => {\n    this.setState({ show: false });\n  }\n\n  toggleSettings = () => {\n    const { show } = this.state;\n    widget.show();\n    this.setState({ show: !show });\n  }\n\n  render() {\n    const { translations } = this.context;\n    const { show } = this.state;\n    return (\n      <Col md={4}>\n        <div className=\"panel\">\n          <div className=\"panel-body\">\n            <h3 className=\"inline-heading\">{translations['amp.dashboard:settings']}</h3>\n            <button\n              type=\"button\"\n              className=\"btn btn-sm btn-default pull-right dash-settings-button\"\n              onClick={this.toggleSettings}>\n              <span className=\"glyphicon glyphicon-edit\" />\n              <span>{` ${translations[`${TRN_PREFIX}edit-settings`]}`}</span>\n            </button>\n          </div>\n        </div>\n        <div\n          id=\"settings-popup\"\n          ref=\"settingsPopup\"\n          style={{\n            display: (!show ? 'none' : 'block'),\n            padding: '0px',\n            borderColor: '#337ab7'\n          }} />\n      </Col>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  translations: state.translationsReducer.translations\n});\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\n\nSettings.propTypes = {\n  onApplySettings: PropTypes.func.isRequired,\n  settings: PropTypes.object\n};\n\nSettings.defaultProps = {\n  settings: null\n};\n\nSettings.contextType = NDDTranslationContext;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);\n","import {\n  fetchShareLinkPending, fetchShareLinkError, fetchShareLinkSuccess\n} from './shareLinkActions';\nimport { fetchApiData } from '../../../utils/apiOperations';\nimport { SHARING_EP } from '../utils/constants';\n\nexport const getShareLink = (filters, settings, fundingType, selectedPrograms) => dispatch => {\n  dispatch(fetchShareLinkPending());\n  return fetchApiData({\n    url: SHARING_EP,\n    body: {\n      title: '',\n      description: '',\n      stateBlob: JSON.stringify({\n        filters, settings, fundingType, selectedPrograms\n      })\n    }\n  })\n    .then(payload => dispatch(fetchShareLinkSuccess(payload)))\n    .catch(error => dispatch(fetchShareLinkError(error)));\n};\n","import React, { Component } from 'react';\nimport { Col, Button, Form } from 'react-bootstrap';\nimport Modal from 'react-bootstrap-modal';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { getShareLink } from '../actions/generateShareLink';\nimport { TRN_PREFIX } from '../utils/constants';\n\nconst getLink = (id) => {\n  const regex = /\\/\\d+$/;\n  const url = window.location.toString();\n  const match = url.toString().match(regex);\n  if (match) {\n    return `${url.substring(0, match.index)}/${id}`;\n  }\n  if (!url.endsWith('/')) {\n    return `${url}/${id}`;\n  }\n  return url + id;\n};\n\nclass Share extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { show: false };\n    this.generateModal = this.generateModal.bind(this);\n  }\n\n   handleClose = () => this.setState({ show: false });\n\n   handleShow = () => this.prepareDataToSave().then(() => this.setState({ show: true }));\n\n   prepareDataToSave = () => {\n     // TODO: prepare data chart settings.\n     // eslint-disable-next-line no-shadow\n     const {\n       _getShareLink, filters, settings, fundingType, selectedPrograms\n     } = this.props;\n     return _getShareLink(filters ? filters.filters : null, settings, fundingType, selectedPrograms);\n   }\n\n   generateModal() {\n     const { show } = this.state;\n     const { shareLink, translations } = this.props;\n     return (\n       <Modal show={show} onHide={this.handleClose}>\n         <Modal.Header\n           closeButton\n           style={{\n             backgroundColor: '#337ab7', paddingTop: '8px', paddingBottom: '8px', color: 'white'\n           }}>\n           <Modal.Title>{translations[`${TRN_PREFIX}share-copy-link`]}</Modal.Title>\n         </Modal.Header>\n         <Modal.Body>\n           <span className=\"label-bold\">{` ${translations[`${TRN_PREFIX}share-link`]}`}</span>\n           <Form.Control type=\"text\" value={shareLink ? getLink(shareLink.id) : null} />\n         </Modal.Body>\n         <Modal.Footer>\n           <Button variant=\"primary\" onClick={this.handleClose}>\n             {translations[`${TRN_PREFIX}close`]}\n           </Button>\n         </Modal.Footer>\n       </Modal>\n     );\n   }\n\n   render() {\n     const { translations } = this.props;\n     return (\n       <Col md={3}>\n         <div className=\"panel\">\n           <div className=\"panel-body\">\n             <h3 className=\"inline-heading\">{translations[`${TRN_PREFIX}share`]}</h3>\n             <button\n               onClick={this.handleShow}\n               type=\"button\"\n               className=\"btn btn-sm btn-default pull-right dash-share-button\">\n               <span className=\"glyphicon glyphicon-link\" />\n               <span>{translations['amp.ndd.dashboard:Link']}</span>\n             </button>\n           </div>\n         </div>\n         <div>\n           {this.generateModal()}\n         </div>\n       </Col>\n     );\n   }\n}\n\nconst mapStateToProps = state => ({\n  shareLink: state.shareLinkReducer.shareLink,\n  translations: state.translationsReducer.translations\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  _getShareLink: getShareLink\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Share);\n\nShare.propTypes = {\n  _getShareLink: PropTypes.func.isRequired,\n  filters: PropTypes.object,\n  translations: PropTypes.object.isRequired,\n  shareLink: PropTypes.object,\n  settings: PropTypes.object,\n  fundingType: PropTypes.string.isRequired,\n  selectedPrograms: PropTypes.array.isRequired\n};\n\nShare.defaultProps = {\n  filters: undefined,\n  shareLink: undefined,\n  settings: undefined\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Filters from './Filters';\nimport Settings from './Settings';\nimport Share from './Share';\n\nexport default class HeaderContainer extends Component {\n  render() {\n    const {\n      onApplyFilters, filters, dashboardId, onApplySettings, globalSettings, settings, fundingType, selectedPrograms\n    } = this.props;\n    return (\n      <div>\n        <Filters onApplyFilters={onApplyFilters} dashboardId={dashboardId} globalSettings={globalSettings} />\n        <Settings onApplySettings={onApplySettings} settings={settings} />\n        <Share filters={filters} settings={settings} fundingType={fundingType} selectedPrograms={selectedPrograms} />\n      </div>\n    );\n  }\n};\n\nHeaderContainer.propTypes = {\n  onApplyFilters: PropTypes.func.isRequired,\n  filters: PropTypes.object,\n  dashboardId: PropTypes.string,\n  onApplySettings: PropTypes.func.isRequired,\n  globalSettings: PropTypes.object.isRequired,\n  settings: PropTypes.object,\n  fundingType: PropTypes.string.isRequired,\n  selectedPrograms: PropTypes.array.isRequired\n};\n\nHeaderContainer.defaultProps = {\n  filters: undefined,\n  dashboardId: undefined,\n  settings: undefined\n};\n","import {\n  fetchDashboardSettingsPending, fetchDashboardSettingsError, fetchDashboardSettingsSuccess\n} from './dashboardSettingsActions';\nimport { fetchApiData } from '../../../utils/apiOperations';\nimport { SETTINGS_EP, GS_EP } from '../utils/constants';\n\nexport default () => dispatch => {\n  dispatch(fetchDashboardSettingsPending());\n  return Promise.all([fetchApiData({ url: SETTINGS_EP }), fetchApiData({ url: GS_EP })])\n    .then(payload => dispatch(fetchDashboardSettingsSuccess(payload[0], payload[1])))\n    .catch(error => dispatch(fetchDashboardSettingsError(error)));\n};\n","import {\n  fetchDashboardSettingsError, fetchDashboardSettingsPending, fetchDashboardSettingsSuccess\n} from './mappingsActions';\nimport { fetchApiData } from '../../../utils/apiOperations';\nimport { INDIRECT_MAPPING_CONFIG, MAPPING_CONFIG_NO_INDIRECT } from '../utils/constants';\n\nexport const getMappings = () => dispatch => {\n  dispatch(fetchDashboardSettingsPending());\n  return Promise.all([fetchApiData({\n    url: INDIRECT_MAPPING_CONFIG\n  }), fetchApiData({\n    url: MAPPING_CONFIG_NO_INDIRECT\n  })]).then((data) => dispatch(fetchDashboardSettingsSuccess(data[0], data[1])))\n    .catch(error => dispatch(fetchDashboardSettingsError(error)));\n};\n","import {\n  getSharedDataPending, getSharedDataError, getSharedDataSuccess\n} from './shareLinkActions';\nimport { fetchApiData } from '../../../utils/apiOperations';\nimport { GET_SHARED_EP } from '../utils/constants';\n\nexport const getSharedData = (id) => dispatch => {\n  dispatch(getSharedDataPending());\n  return fetchApiData({\n    url: GET_SHARED_EP + id\n  })\n    .then(payload => dispatch(getSharedDataSuccess(payload)))\n    .catch(error => dispatch(getSharedDataError(error)));\n};\n\nexport default getSharedData;\n","import React, {Component} from 'react';\nimport {Container} from 'react-bootstrap';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {NDDTranslationContext} from './StartUp';\nimport MainDashboardContainer from './MainDashboardContainer';\nimport HeaderContainer from './HeaderContainer';\nimport {callReport, callTopReport, clearTopReport} from '../actions/callReports';\nimport {CURRENCY_CODE, DIRECT, FUNDING_TYPE} from '../utils/constants';\nimport loadDashboardSettings from '../actions/loadDashboardSettings';\nimport {getMappings} from '../actions/getMappings';\nimport {DST_PROGRAM, SRC_PROGRAM} from '../../admin/ndd/constants/Constants';\nimport {getSharedData} from '../actions/getSharedData';\nimport PrintDummy from '../../sscdashboard/utils/PrintDummy';\nimport {printChart} from '../../sscdashboard/utils/PrintUtils';\nimport './print.css';\nimport {removeFilter} from '../utils/Utils';\nimport {SRC_DIRECT} from './charts/FundingByYearChart';\nimport {withRouter} from \"../../../utils/components/WithRouter\";\n\nconst queryString = require('query-string');\n\nclass NDDDashboardHome extends Component {\n    constructor(props) {\n        super(props);\n        // eslint-disable-next-line react/prop-types\n        const params = queryString.parse(props.location.search);\n        this.state = {\n            filters: undefined,\n            dashboardId: undefined,\n            fundingType: undefined,\n            selectedPrograms: undefined,\n            settings: undefined,\n            selectedDirectProgram: null,\n            embedded: !!params.embedded,\n            fundingByYearSource: SRC_DIRECT\n        };\n    }\n\n    // eslint-disable-next-line react/sort-comp\n    getSharedDataOrResolve = (id) => {\n        const {_getSharedData} = this.props;\n        if (id) {\n            return _getSharedData(id);\n        }\n        return Promise.resolve();\n    }\n\n    componentDidMount() {\n        const {_loadDashboardSettings, _getMappings} = this.props;\n        const {embedded} = this.state;\n        // eslint-disable-next-line react/destructuring-assignment,react/prop-types\n        const {id} = this.props.params;\n        // eslint-disable-next-line react/no-did-mount-set-state\n        this.setState({dashboardId: id});\n        // Load settings and mappings but dont call _callReport directly, Filters.jsx will do the call.\n        return Promise.all([_loadDashboardSettings(), _getMappings(), this.getSharedDataOrResolve(id)])\n            .then(data => {\n                const tempSettings = {\n                    [CURRENCY_CODE]: data[0].payload[Object.keys(data[0].payload)\n                        .find(i => data[0].payload[i].id === CURRENCY_CODE)].value.defaultId\n                };\n                let ids = [`${data[1].payload[SRC_PROGRAM].id}`, `${data[1].payload[DST_PROGRAM].id}`];\n                let fundingType = data[0].payload.find(i => i.id === FUNDING_TYPE).value.defaultId;\n\n                if (id) {\n                    const savedData = JSON.parse(data[2].payload.stateBlob);\n                    if (savedData && savedData.settings) {\n                        if (savedData.settings[CURRENCY_CODE]) {\n                            tempSettings[CURRENCY_CODE] = savedData.settings[CURRENCY_CODE];\n                        }\n                    }\n                    if (savedData && savedData.fundingType) {\n                        fundingType = savedData.fundingType;\n                    }\n                    if (savedData && savedData.selectedPrograms) {\n                        ids = savedData.selectedPrograms;\n                    }\n                }\n\n                this.setState({\n                    selectedPrograms: ids, settings: tempSettings, fundingType\n                });\n                /* Notice we dont need to define this.state.filters here, we will get it from onApplyFilters. Apparently\n                the filter widget takes date.start and date.end automatically from dashboard settings EP. */\n                return data;\n            }).finally(() => {\n                if (embedded) {\n                    const {_callReport} = this.props;\n                    const {fundingType, settings, selectedPrograms} = this.state;\n                    _callReport(fundingType, {}, selectedPrograms, settings);\n                }\n            });\n    }\n\n    handleOuterChartClick(event, outerData) {\n        const {\n            selectedDirectProgram, filters, settings, fundingType\n        } = this.state;\n        const {dashboardSettings} = this.props;\n        if (event.points[0].data.name === DIRECT) {\n            if (!selectedDirectProgram) {\n                this.setState({selectedDirectProgram: outerData[event.points[0].i], fundingByYearSource: SRC_DIRECT});\n                const {_callTopReport} = this.props;\n                _callTopReport(fundingType || dashboardSettings.find(i => i.id === FUNDING_TYPE).value.defaultId, settings, filters, outerData[event.points[0].i]);\n            } else {\n                const {_clearTopReport} = this.props;\n                _clearTopReport();\n                this.resetChartAfterUnClick();\n            }\n        }\n    }\n\n    onChangeSource(value) {\n        this.setState({fundingByYearSource: value.target.value});\n    }\n\n    resetChartAfterUnClick = () => {\n        const {selectedDirectProgram, filters, embedded} = this.state;\n        if (selectedDirectProgram) {\n            if (!embedded) {\n                // Remove the filter manually or it will keep affecting the chart.\n                const fixedFilters = removeFilter(filters, selectedDirectProgram);\n                this.setState(() => ({\n                    selectedDirectProgram: null, filters: fixedFilters\n                }));\n            } else {\n                this.setState(() => ({\n                    selectedDirectProgram: null,\n                }));\n            }\n        }\n    }\n\n    onApplyFilters = (data) => {\n        const {_callReport, _callTopReport} = this.props;\n        const {\n            fundingType, selectedDirectProgram, settings, selectedPrograms\n        } = this.state;\n        this.setState({filters: data});\n        _callReport(fundingType, data, selectedPrograms, settings);\n        if (selectedDirectProgram !== null) {\n            _callTopReport(fundingType, settings, data, selectedDirectProgram);\n        }\n    }\n\n    onChangeFundingType = (value) => {\n        const {_callReport, _clearTopReport} = this.props;\n        const {filters, selectedPrograms, settings} = this.state;\n        this.resetChartAfterUnClick();\n        this.setState({fundingType: value});\n        _callReport(value, filters, selectedPrograms, settings);\n        _clearTopReport();\n    }\n\n    onChangeProgram = (value) => {\n        const {_callReport} = this.props;\n        const {filters, fundingType, settings} = this.state;\n        const selectedPrograms = value.split('-');\n        this.setState({selectedPrograms});\n        this.resetChartAfterUnClick();\n        _callReport(fundingType, filters, selectedPrograms, settings);\n    }\n\n    onApplySettings = (data) => {\n        const {_callReport, _callTopReport} = this.props;\n        const {\n            fundingType, selectedPrograms, filters, selectedDirectProgram\n        } = this.state;\n        this.setState({settings: data});\n        _callReport(fundingType, filters, selectedPrograms, data);\n        if (selectedDirectProgram !== null) {\n            _callTopReport(fundingType, data, filters, selectedDirectProgram);\n        }\n    }\n\n    downloadImage() {\n        const {translations} = this.context;\n        printChart(translations['amp.ndd.dashboard:page-title'], 'ndd-main-container', [], 'png', false, 'print-simple-dummy-container', false);\n    }\n\n    render() {\n        const {\n            filters,\n            dashboardId,\n            fundingType,\n            selectedPrograms,\n            settings,\n            selectedDirectProgram,\n            embedded,\n            fundingByYearSource\n        } = this.state;\n        const {\n            ndd, nddLoadingPending, nddLoaded, dashboardSettings, mapping, noIndirectMapping, globalSettings\n        } = this.props;\n        return (<Container fluid className=\"main-container\" id=\"ndd-main-container\">\n            <div className=\"row header\" style={{marginRight: '-30px', marginLeft: '-30px'}}>\n                {mapping && settings && globalSettings && selectedPrograms && !embedded ? (<HeaderContainer\n                    onApplySettings={this.onApplySettings}\n                    onApplyFilters={this.onApplyFilters}\n                    filters={filters}\n                    globalSettings={globalSettings}\n                    settings={settings}\n                    fundingType={fundingType}\n                    selectedPrograms={selectedPrograms}\n                    dashboardId={dashboardId}/>) : null}\n            </div>\n            <MainDashboardContainer\n                handleOuterChartClick={this.handleOuterChartClick.bind(this)}\n                selectedDirectProgram={selectedDirectProgram}\n                filters={filters}\n                ndd={ndd}\n                nddLoaded={nddLoaded}\n                nddLoadingPending={nddLoadingPending}\n                dashboardSettings={dashboardSettings}\n                onChangeFundingType={this.onChangeFundingType}\n                onChangeProgram={this.onChangeProgram}\n                fundingType={fundingType}\n                selectedPrograms={selectedPrograms}\n                mapping={mapping}\n                settings={settings}\n                globalSettings={globalSettings}\n                noIndirectMapping={noIndirectMapping}\n                downloadImage={this.downloadImage.bind(this)}\n                embedded={embedded}\n                onChangeSource={this.onChangeSource.bind(this)}\n                fundingByYearSource={fundingByYearSource}\n            />\n            <PrintDummy/>\n        </Container>);\n    }\n}\n\nconst mapStateToProps = state => ({\n    ndd: state.reportsReducer.ndd,\n    error: state.reportsReducer.error,\n    nddLoaded: state.reportsReducer.nddLoaded,\n    nddLoadingPending: state.reportsReducer.nddLoadingPending,\n    dashboardSettings: state.dashboardSettingsReducer.dashboardSettings,\n    globalSettings: state.dashboardSettingsReducer.globalSettings,\n    translations: state.translationsReducer.translations,\n    mapping: state.mappingsReducer.mapping,\n    noIndirectMapping: state.mappingsReducer.noIndirectMapping\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    _callReport: callReport,\n    _loadDashboardSettings: loadDashboardSettings,\n    _getMappings: getMappings,\n    _callTopReport: callTopReport,\n    _clearTopReport: clearTopReport,\n    _getSharedData: getSharedData,\n}, dispatch);\n\nNDDDashboardHome.propTypes = {\n    _callReport: PropTypes.func.isRequired,\n    mapping: PropTypes.object,\n    ndd: PropTypes.array,\n    nddLoadingPending: PropTypes.bool.isRequired,\n    nddLoaded: PropTypes.bool.isRequired,\n    dashboardSettings: PropTypes.array,\n    _loadDashboardSettings: PropTypes.func.isRequired,\n    _getMappings: PropTypes.func.isRequired,\n    _callTopReport: PropTypes.func.isRequired,\n    _clearTopReport: PropTypes.func.isRequired,\n    noIndirectMapping: PropTypes.object,\n    globalSettings: PropTypes.object,\n    _getSharedData: PropTypes.func.isRequired\n};\n\nNDDDashboardHome.defaultProps = {\n    dashboardSettings: undefined, mapping: undefined, ndd: null, noIndirectMapping: undefined, globalSettings: undefined\n};\n\nNDDDashboardHome.contextType = NDDTranslationContext;\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(NDDDashboardHome));\n","import React, { Component } from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport '../../../App.css';\nimport NDDDashboardHome from './NDDDashboardHome';\n\nclass NDDDashboardRouter extends Component {\n  render() {\n    return (\n      <Routes>\n        <Route path=\"/\" exact element={<NDDDashboardHome />} />\n        <Route path=\"/:id\" component={<NDDDashboardHome />} />\n      </Routes>\n    );\n  }\n}\n\nexport default NDDDashboardRouter;\n","import React, { Component } from 'react';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport { Provider } from 'react-redux';\nimport rootReducer from './reducers/rootReducer';\nimport Startup from './components/StartUp';\nimport NDDDashboardRouter from './components/NDDDashboard.router';\nimport defaultTrnPack from './config/initialTranslations.json';\nimport './index.css';\nimport '../../open-sans.css';\n\nconst checkreduxDevTools = () => {\n  if (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) {\n    return window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;\n  }\n  return (...args) => {\n    if (args.length === 0) {\n      return undefined;\n    }\n    if (args.some(arg => typeof arg === 'object')) {\n      return compose;\n    }\n    return compose(...args);\n  };\n};\n\nconst composeEnhancer = checkreduxDevTools() || compose;\n\nclass NDDDashboardApp extends Component {\n  constructor(props) {\n    super(props);\n    this.store = createStore(rootReducer, composeEnhancer(applyMiddleware(thunk)));\n  }\n\n  render() {\n    return (\n      <Provider store={this.store}>\n        <Startup defaultTrnPack={defaultTrnPack}>\n          <NDDDashboardRouter />\n        </Startup>\n      </Provider>\n    );\n  }\n}\n\nexport default NDDDashboardApp;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst PrintDummy = ({ friendly }) => (\n  <>\n    <div id={`print${friendly ? '-friendly' : ''}-dummy`}>\n      <div id={`print${friendly ? '-friendly' : ''}-dummy-container`}>\n        <div className=\"print-dummy-border\" />\n      </div>\n    </div>\n    <div id={`print${friendly ? '-friendly' : ''}-simple-dummy`}>\n      <div id={`print${friendly ? '-friendly' : ''}-simple-dummy-container`} />\n    </div>\n  </>\n);\nPrintDummy.propTypes = {\n  friendly: PropTypes.bool\n};\nPrintDummy.defaultProps = {\n  friendly: false\n};\nexport default PrintDummy;\n","import domtoimage from 'dom-to-image-font-patch';\nimport { COUNTRY_COLUMN, PNG_FORMAT } from './constants';\n\nexport const printInnerCharts = (title, chartId, filtersObject, format, countriesForExport) => {\n  const rows = document.getElementById(chartId).childNodes;\n  const chartsIds = [];\n  rows.forEach(r => {\n    r.childNodes.forEach(c => {\n      if (countriesForExport.includes(parseInt(c.id.substring('country-column'.length, c.id.length), 10))) {\n        chartsIds.push(c.id);\n      }\n    });\n  });\n  chartsIds.reduce((previousPromise, nextChartID) => previousPromise\n    .then(() => printChart(title, nextChartID, [], format, false, 'print-simple-dummy-container')), Promise.resolve());\n};\n\nexport const printChartPrinter = (title, chartId, printContainer, iframe, countriesForExport) => {\n  try {\n    let oneByOne = false;\n    if (countriesForExport && countriesForExport.length > 0) {\n      oneByOne = true;\n    }\n    const doc = iframe ? iframe.contentDocument : document;\n    const printElement = doc.getElementById(printContainer);\n    if (oneByOne) {\n      printElement.className = `${printElement.className} one-by-one`;\n    }\n    const charts = document.getElementsByClassName('chart-column');\n\n    let titleElement;\n    if (title) {\n      titleElement = doc.createElement('div');\n      titleElement.className = 'print-title';\n      titleElement.appendChild(doc.createTextNode(title));\n      if (!oneByOne) {\n        printElement.appendChild(titleElement);\n      }\n    }\n    let totalRows;\n    if (!oneByOne) {\n      totalRows = Math.ceil(charts.length / 2);\n    } else {\n      totalRows = charts.length;\n    }\n    let rowCount = 1;\n    for (let i = 0; i < charts.length;) {\n      const col1 = charts[i].cloneNode(true);\n      if (!oneByOne || countriesForExport.includes(parseInt(col1.id.substring(COUNTRY_COLUMN.length), 10))) {\n        col1.style.height = charts[i].clientHeight;\n        col1.style.width = charts[i].clientWidth;\n        i += 1;\n        let col2;\n        if (i < charts.length && !oneByOne) {\n          col2 = charts[i].cloneNode(true);\n          col2.style.height = charts[i].clientHeight;\n          col2.style.width = charts[i].clientWidth;\n          i += 1;\n        }\n        const theRow = doc.createElement('div');\n        // eslint-disable-next-line no-nested-ternary\n        theRow.className = `print-row row${rowCount < totalRows ? ' border-bottom ' : (!oneByOne ? ' last-row' : '')}`;\n        rowCount += 1;\n        if (titleElement && oneByOne) {\n          const newTitleElement = titleElement.cloneNode(true);\n          printElement.appendChild(newTitleElement);\n        }\n\n        theRow.appendChild(col1);\n        if (col2) {\n          theRow.appendChild(col2);\n          col1.className = 'chart-column col-print-6 border-right';\n          col2.className = 'chart-column col-print-6';\n        } else {\n          col1.className = 'chart-column col-print-12';\n        }\n        printElement.appendChild(theRow);\n        if (oneByOne) {\n          const pageBreak = doc.createElement('p');\n          pageBreak.className = 'new-page';\n          printElement.appendChild(pageBreak);\n        }\n      } else {\n        i += 1;\n        rowCount += 1;\n      }\n    }\n  } catch (ex) {\n    console.log(`problem creating elements for print: ${ex}`);\n  }\n};\n\n/**\n * Original code from VIFAA\n * @param title\n * @param chartId\n * @param filtersObject\n * @param format\n * @param calculateChildren\n * @param printContainer\n */\nexport const printChart = (title, chartId, filtersObject, format, calculateChildren, printContainer, useTitle) => {\n  try {\n    let printElement = document.getElementById(printContainer).firstChild;\n    if (!printElement) {\n      printElement = document.getElementById(printContainer);\n    }\n    const chartElement = document.getElementById(chartId).cloneNode(true);\n    let chartHeight = `${document.getElementById(chartId).clientHeight}px`;\n    if (calculateChildren) {\n      chartHeight = 0;\n      document.getElementById(chartId).childNodes.forEach(c => {\n        chartHeight += c.clientHeight;\n      });\n    }\n\n    chartElement.style.height = chartHeight;\n    chartElement.style.width = `${document.getElementById(chartId).clientWidth}px`;\n\n    let titleElement;\n    if (title && useTitle) {\n      titleElement = document.createElement('div');\n      titleElement.className = 'print-title';\n      titleElement.appendChild(document.createTextNode(title));\n      printElement.appendChild(titleElement);\n    }\n\n    printElement.appendChild(chartElement);\n    const height = chartElement.clientHeight + 10 + (titleElement ? titleElement.clientHeight : 0);\n    return doPrint(printElement, titleElement, chartElement, format,\n      title, height, chartElement.clientWidth);\n  } catch (ex) {\n    debugger;\n    console.log(`problem creating elements for print: ${ex}`);\n  }\n};\nconst doPrint = (printElement, titleElement, chartElement, format, title, height, width) => {\n  const printMethod = format === PNG_FORMAT ? domtoimage.toPng : domtoimage.toSvg;\n  return new Promise((resolve, reject) => {\n    printMethod(printElement, {\n      height,\n      width,\n      bgcolor: '#FFF'\n    })\n      .then((dataUrl) => {\n        const link = document.createElement('a');\n        link.download = `${title}.${format}`;\n        link.href = dataUrl;\n        document.body.appendChild(link);\n        link.click();\n\n        if (titleElement) {\n          printElement.removeChild(titleElement);\n        }\n        printElement.removeChild(chartElement);\n        return resolve();\n      }).catch((e) => {\n        printElement.removeChild(chartElement);\n        if (titleElement) {\n          printElement.removeChild(titleElement);\n        }\n        printElement.removeChild(chartElement);\n        reject(new Error(e));\n      });\n  });\n};\n","export const ZERO = 0;\nexport const ONE = 1;\nexport const NEGATIVE_ONE = -1;\nexport const FLAGS_DIRECTORY = '/assets/img/flags/';\n\nexport const DASHBOARD_DEFAULT_MIN_YEAR_RANGE = 'dashboard-default-min-year-range';\nexport const DASHBOARD_DEFAULT_MAX_YEAR_RANGE = 'dashboard-default-max-year-range';\n\nexport const API_FILTERS_SECTORS_URL = '/rest/filters/sectors';\nexport const API_FILTERS_COUNTRIES_URL = '/rest/filters/locations?firstLevelOnly=true&showAllCountries=true';\nexport const API_AMP_SETTINGS_URL = '/rest/amp/settings';\nexport const API_FILTERS_MODALITIES_URL = '/rest/filters/modalities?sscWorkspace=true';\nexport const API_SSC_DASHBOARD_URL = '/rest/gis/sscdashboard';\nexport const API_XLS_REPORT_URL = '/rest/gis/sscdashboard/xsl';\nexport const API_REPORTS_ACTIVITY_DETAIL_URL = '/rest/gis/activities';\n\nexport const BOOTSTRAP_COLUMNS_COUNT = 12;\n\nexport const NON_SELECTED_LINE_COLOR = '#fd8f00';\nexport const NON_SELECTED_BUBBLE_COLOR = '#fd8f00';\n\nexport const SELECTED_LINE_COLOR = '#007236';\nexport const SELECTED_BUBBLE_COLOR = '#007236';\nexport const PNG_FORMAT = 'png';\nexport const PROJECT_LENGTH_HOME_PAGE = 50;\nexport const UNDEFINED_FILTER = -999999999;\nexport const FLAGS_TO_SHOW_DEFAULT = 9;\nexport const FLAGS_TO_SHOW_SMALL = 6;\nexport const FLAGS_TO_SHOW_SMALL_WIDTH_THRESHOLD = 1766;\nexport const SECTORS_LIMIT_CHART = 5;\nexport const SECTORS_OTHERS_ID_CHART = '-1';\nexport const DEFAULT_SCREEN_SIZE = 1920;\nexport const DEFAULT_ELLIPSIS = 145;\nexport const SECTOR_MODALITY_MIN_SIZE = 2;\nexport const SECTOR_MODALITY_LEADING_LEFT = '0';\nexport const WS_PREFIX = 'SSC_';\n\nexport const HOME_CHART = 'home';\nexport const SECTORS_CHART = 'sector';\nexport const MODALITY_CHART = 'modality';\nexport const DOWNLOAD_CHART = 'download';\nexport const COUNTRY_COLUMN = 'country-column';\n// eslint-disable-next-line max-len\nexport const FALLBACK_FLAG = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAbCAQAAACkGQXlAAAAI0lEQVR42mP8L8lAVcA4auCogaMGjho4auCogaMGjhpINAAAOBcdpLw/CDsAAAAASUVORK5CYII=';\nexport const OTHERS_CODE = '000';\nexport const INVALID_COLUMN_ERROR_CODE = '0602';\nexport const FILTER_PRIMARY_SECTOR = 'primary-sector';\nexport const FILTER_SSC_MODALITIES = 'ssc-modalities';\nexport const FILTER_DONOR_AGENCY_COUNTRY = 'donor-agency-country';\n\n\nexport const SECTOR_COLOR_MAP = new Map([\n  ['110', '#d46453'], ['120', '#f5a15d'], ['130', '#ffcf8e'], ['140', '#ff7a7d'], ['150', '#ff417d'],\n  ['160', '#d61a88'], ['210', '#fff540'], ['220', '#28c074'], ['230', '#429058'], ['240', '#bd4035'],\n  ['250', '#b0fff1'], ['311', '#144491'], ['312', '#9b0e3e'], ['313', '#10908e'], ['321', '#8f5765'],\n  ['322', '#c7d4e1'], ['323', '#77b02a'], ['331', '#488bd4'], ['332', '#928fb8'], ['400', '#c6d831'],\n  ['500', '#d41e3c'], ['600', '#cf968c'], ['700', '#78d7ff'], ['910', '#94007a'], ['920', '#ffb84a'],\n  ['930', '#ed7b39'], ['998', '#ed4c40'], ['000', '#8f5765']\n]);\nexport const MODALITIES_COLOR_MAP = new Map([\n  [OTHERS_CODE, '#8f5765']]);\n\nexport const MODALITIES_COLOR = ['#00429d', '#3761ab', '#5681b9', '#73a2c6', '#93c4d2', '#b9e5dd',\n  '#ffffe0', '#ffd3bf', '#ffa59e', '#f4777f', '#dd4c65', '#be214d', '#93003a'];\nexport const COLOR_MAP_CUSTOM = new Map([[\n  MODALITY_CHART, MODALITIES_COLOR\n]]);\n\nexport const COLOR_MAP = new Map([\n  [SECTORS_CHART, SECTOR_COLOR_MAP],\n  [MODALITY_CHART, MODALITIES_COLOR_MAP]\n]);\n","import { fetchTranslationsSuccess, fetchTranslationsPending, fetchTranslationsError }\n  from './translationsActions';\nimport { loadTranslations } from '../loadTranslations';\n\nfunction fetchTranslations(translations) {\n  return dispatch => {\n    dispatch(fetchTranslationsPending(translations));\n    return loadTranslations(translations)\n      .then(trnPack => dispatch(fetchTranslationsSuccess(trnPack)))\n      .catch(error => dispatch(fetchTranslationsError(error)));\n  };\n}\nexport default fetchTranslations;\n","export const FETCH_TRANSLATIONS_PENDING = 'FETCH_TRANSLATIONS_PENDING';\nexport const FETCH_TRANSLATIONS_SUCCESS = 'FETCH_TRANSLATIONS_SUCCESS';\nexport const FETCH_TRANSLATIONS_ERROR = 'FETCH_TRANSLATIONS_ERROR';\n\nexport function fetchTranslationsPending(translations) {\n  return {\n    type: FETCH_TRANSLATIONS_PENDING,\n    payload: translations\n  };\n}\n\nexport function fetchTranslationsSuccess(translations) {\n  return {\n    type: FETCH_TRANSLATIONS_SUCCESS,\n    payload: translations\n  };\n}\n\nexport function fetchTranslationsError(error) {\n  return {\n    type: FETCH_TRANSLATIONS_ERROR,\n    error\n  };\n}\n","const POST = 'POST';\nconst GET = 'GET';\nconst DELETE = 'DELETE';\n\nexport function getRequestOptions(body) {\n    const requestOptions = {\n        method: body ? POST : GET,\n        headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}\n    };\n    if (body) {\n        requestOptions.body = JSON.stringify(body);\n    }\n    return requestOptions;\n}\n\nexport const callDeleteApiEndpoint = ({url}) => {\n    const deleteRequestOptions = {\n        method: DELETE,\n        headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}\n    }\n\n    return new Promise((resolve, reject) => {\n        return fetch(url, deleteRequestOptions)\n            .then(data => {\n                if (data.error) {\n                    return reject(data.error);\n                }\n                return resolve(data);\n            }).catch(error => reject(error));\n    })\n};\n\nexport const fetchApiData = ({body, url}) => {\n    return new Promise((resolve, reject) => {\n        return fetch(url, getRequestOptions(body))\n            .then(response => {\n                return response.json();\n            })\n            .then(data => {\n                if (data.error) {\n                    return reject(data.error);\n                }\n                return resolve(data);\n            }).catch(error => reject(error));\n    })\n};\n\nexport const fetchApiDataWithStatus = ({body, url}) => {\n    return new Promise((resolve, reject) => {\n        return fetch(url, getRequestOptions(body))\n            .then(response => response.text().then(data => {\n                let contentType = response.headers.get(\"content-type\");\n                let parsedData = data;\n                if (data && contentType && contentType.indexOf(\"application/json\") !== -1) {\n                    parsedData = JSON.parse(data);\n                }\n                return ({\n                    data: parsedData,\n                    ok : response.ok,\n                    status: response.status\n                })}\n            ).then(response => {\n                if (!response.ok) {\n                    return reject({\n                        status: response.status,\n                        message: extractErrorMessageFromResponse(response),\n                        code: extractErrorCodeFromResponse(response)\n                    });\n                }\n                return resolve(response);\n            })).catch(error => reject(error));\n    })\n};\n\nexport function extractErrorMessageFromResponse(response) {\n    let errorMessage = \"\";\n    if (response.data && response.data.error) {\n        for (let k in response.data.error) {\n            errorMessage += JSON.stringify(response.data.error[k]);\n        }\n    } else {\n        errorMessage = response.data\n    }\n\n    return errorMessage;\n}\n\nexport function extractErrorCodeFromResponse(response) {\n    if (response.data && response.data.error) {\n        for (let k in response.data.error) {\n            return k;\n        }\n    }\n    return response.data;\n}","import React from 'react';\n\nconst Loading = () => (\n  <div className=\"jumbotron\">\n    <div className=\"progress\">\n      <div\n        className=\"progress-bar progress-bar-striped bg-info\"\n        role=\"progressbar\"\n        aria-valuenow=\"100\"\n        aria-valuemin=\"0\"\n        aria-valuemax=\"100\"\n        style={{ width: '100%' }}>\n        ...\n      </div>\n    </div>\n  </div>\n);\n\n// eslint-disable-next-line import/prefer-default-export\nexport { Loading };\n","import React, {memo, useEffect} from 'react';\nimport {useLocation, useNavigate, useParams, useSearchParams} from 'react-router-dom';\n\nexport const withRouter = (Component) => {\n    return memo((props) => {\n        const navigate = useNavigate();\n        const location = useLocation();\n        const params = useParams();\n        const [ searchParams, setSearchParams] = useSearchParams();\n\n        const extractSearchParams = () => {\n            let storedParams = localStorage.getItem('searchParams');\n\n            location.search = storedParams;\n\n            if (storedParams) {\n                storedParams = storedParams.replace('?', '');\n                const paramsArr  = storedParams.split('&');\n\n                paramsArr.map((param) => {\n                    const [key, value] = param.split('=');\n                    setSearchParams(key, value);\n                    return [key, value];\n\n                });\n            }\n        }\n\n        useEffect(() => {\n            extractSearchParams();\n        }, []);\n\n        return (\n            <>\n                    <Component\n                        navigate={navigate}\n                        _location={location}\n                        urlParams={params}\n                        searchParams={searchParams}\n                        storedSearchParams={localStorage.getItem('searchParams')}\n                        {...props}\n                    />\n            </>\n\n        );\n    });\n};\n","import { WS_PREFIX } from '../modules/sscdashboard/utils/constants';\n\nconst POST = 'POST';\nconst GET = 'GET';\n\nfunction getRequestOptions(body, headers) {\n  const requestOptions = {\n    method: body ? POST : GET,\n    headers: headers || { 'Content-Type': 'application/json', Accept: 'application/json', 'ws-prefix': WS_PREFIX }\n  };\n  if (body) {\n    requestOptions.body = JSON.stringify(body);\n  }\n  return requestOptions;\n}\n\nexport const fetchApiData = ({ body, url, headers }) => new Promise((resolve, reject) => fetch(url,\n  getRequestOptions(body, headers))\n  .then(response => {\n    if (headers && headers.Accept === 'text/html') {\n      return response.text();\n    } else if (response.headers && response.headers.get('Content-Type')\n        && response.headers.get('Content-Type').indexOf('application/json') > -1) {\n      return response.json();\n    } else {\n      return response;\n    }\n  })\n  .then(data => {\n    if (data.error) {\n      return reject(data.error);\n      // throw new Error(data.error);\n    }\n    return resolve(data);\n  }));\n\n// TODO to move api route to a constant.\nexport function loadTranslations(trnPack) {\n  return new Promise((resolve) => fetch('/rest/translations/label-translations', getRequestOptions(trnPack))\n    .then(response => {\n        let contentType = response.headers.get(\"content-type\");\n        if (contentType && contentType.indexOf(\"application/json\") !== -1) {\n            return response.json().then(data => {\n                if (data.error) {\n                    throw new Error(data.error);\n                }\n                return resolve(data);\n            });\n        }\n    }));\n}\n","import {\n  FETCH_TRANSLATIONS_ERROR, FETCH_TRANSLATIONS_PENDING, FETCH_TRANSLATIONS_SUCCESS\n} from '../actions/translationsActions';\n\nconst initialState = {\n  pending: true,\n  translations: {},\n  error: null\n};\n\nexport default function translationsReducer(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_TRANSLATIONS_PENDING:\n      return {\n        ...state,\n        pending: true,\n        translations: action.payload\n      };\n    case FETCH_TRANSLATIONS_SUCCESS:\n      return {\n        ...state,\n        pending: false,\n        translations: action.payload\n      };\n    case FETCH_TRANSLATIONS_ERROR:\n      return {\n        ...state,\n        pending: false,\n        error: action.error\n      };\n    default:\n      return state;\n  }\n}\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\n// The naming convention is:\n//   - events are attached as `'plotly_' + eventName.toLowerCase()`\n//   - react props are `'on' + eventName`\nconst eventNames = [\n  'AfterExport',\n  'AfterPlot',\n  'Animated',\n  'AnimatingFrame',\n  'AnimationInterrupted',\n  'AutoSize',\n  'BeforeExport',\n  'BeforeHover',\n  'ButtonClicked',\n  'Click',\n  'ClickAnnotation',\n  'Deselect',\n  'DoubleClick',\n  'Framework',\n  'Hover',\n  'LegendClick',\n  'LegendDoubleClick',\n  'Relayout',\n  'Relayouting',\n  'Restyle',\n  'Redraw',\n  'Selected',\n  'Selecting',\n  'SliderChange',\n  'SliderEnd',\n  'SliderStart',\n  'SunburstClick',\n  'Transitioning',\n  'TransitionInterrupted',\n  'Unhover',\n  'WebGlContextLost',\n];\n\nconst updateEvents = [\n  'plotly_restyle',\n  'plotly_redraw',\n  'plotly_relayout',\n  'plotly_relayouting',\n  'plotly_doubleclick',\n  'plotly_animated',\n  'plotly_sunburstclick',\n];\n\n// Check if a window is available since SSR (server-side rendering)\n// breaks unnecessarily if you try to use it server-side.\nconst isBrowser = typeof window !== 'undefined';\n\nexport default function plotComponentFactory(Plotly) {\n  class PlotlyComponent extends Component {\n    constructor(props) {\n      super(props);\n\n      this.p = Promise.resolve();\n      this.resizeHandler = null;\n      this.handlers = {};\n\n      this.syncWindowResize = this.syncWindowResize.bind(this);\n      this.syncEventHandlers = this.syncEventHandlers.bind(this);\n      this.attachUpdateEvents = this.attachUpdateEvents.bind(this);\n      this.getRef = this.getRef.bind(this);\n      this.handleUpdate = this.handleUpdate.bind(this);\n      this.figureCallback = this.figureCallback.bind(this);\n      this.updatePlotly = this.updatePlotly.bind(this);\n    }\n\n    updatePlotly(shouldInvokeResizeHandler, figureCallbackFunction, shouldAttachUpdateEvents) {\n      this.p = this.p\n        .then(() => {\n          if (this.unmounting) {\n            return;\n          }\n          if (!this.el) {\n            throw new Error('Missing element reference');\n          }\n          // eslint-disable-next-line consistent-return\n          return Plotly.react(this.el, {\n            data: this.props.data,\n            layout: this.props.layout,\n            config: this.props.config,\n            frames: this.props.frames,\n          });\n        })\n        .then(() => {\n          if (this.unmounting) {\n            return;\n          }\n          this.syncWindowResize(shouldInvokeResizeHandler);\n          this.syncEventHandlers();\n          this.figureCallback(figureCallbackFunction);\n          if (shouldAttachUpdateEvents) {\n            this.attachUpdateEvents();\n          }\n        })\n        .catch((err) => {\n          if (this.props.onError) {\n            this.props.onError(err);\n          }\n        });\n    }\n\n    componentDidMount() {\n      this.unmounting = false;\n\n      this.updatePlotly(true, this.props.onInitialized, true);\n    }\n\n    componentDidUpdate(prevProps) {\n      this.unmounting = false;\n\n      // frames *always* changes identity so fall back to check length only :(\n      const numPrevFrames =\n        prevProps.frames && prevProps.frames.length ? prevProps.frames.length : 0;\n      const numNextFrames =\n        this.props.frames && this.props.frames.length ? this.props.frames.length : 0;\n\n      const figureChanged = !(\n        prevProps.layout === this.props.layout &&\n        prevProps.data === this.props.data &&\n        prevProps.config === this.props.config &&\n        numNextFrames === numPrevFrames\n      );\n      const revisionDefined = prevProps.revision !== void 0;\n      const revisionChanged = prevProps.revision !== this.props.revision;\n\n      if (!figureChanged && (!revisionDefined || (revisionDefined && !revisionChanged))) {\n        return;\n      }\n\n      this.updatePlotly(false, this.props.onUpdate, false);\n    }\n\n    componentWillUnmount() {\n      this.unmounting = true;\n\n      this.figureCallback(this.props.onPurge);\n\n      if (this.resizeHandler && isBrowser) {\n        window.removeEventListener('resize', this.resizeHandler);\n        this.resizeHandler = null;\n      }\n\n      this.removeUpdateEvents();\n\n      Plotly.purge(this.el);\n    }\n\n    attachUpdateEvents() {\n      if (!this.el || !this.el.removeListener) {\n        return;\n      }\n\n      updateEvents.forEach((updateEvent) => {\n        this.el.on(updateEvent, this.handleUpdate);\n      });\n    }\n\n    removeUpdateEvents() {\n      if (!this.el || !this.el.removeListener) {\n        return;\n      }\n\n      updateEvents.forEach((updateEvent) => {\n        this.el.removeListener(updateEvent, this.handleUpdate);\n      });\n    }\n\n    handleUpdate() {\n      this.figureCallback(this.props.onUpdate);\n    }\n\n    figureCallback(callback) {\n      if (typeof callback === 'function') {\n        const {data, layout} = this.el;\n        const frames = this.el._transitionData ? this.el._transitionData._frames : null;\n        const figure = {data, layout, frames};\n        callback(figure, this.el);\n      }\n    }\n\n    syncWindowResize(invoke) {\n      if (!isBrowser) {\n        return;\n      }\n\n      if (this.props.useResizeHandler && !this.resizeHandler) {\n        this.resizeHandler = () => Plotly.Plots.resize(this.el);\n        window.addEventListener('resize', this.resizeHandler);\n        if (invoke) {\n          this.resizeHandler();\n        }\n      } else if (!this.props.useResizeHandler && this.resizeHandler) {\n        window.removeEventListener('resize', this.resizeHandler);\n        this.resizeHandler = null;\n      }\n    }\n\n    getRef(el) {\n      this.el = el;\n\n      if (this.props.debug && isBrowser) {\n        window.gd = this.el;\n      }\n    }\n\n    // Attach and remove event handlers as they're added or removed from props:\n    syncEventHandlers() {\n      eventNames.forEach((eventName) => {\n        const prop = this.props['on' + eventName];\n        const handler = this.handlers[eventName];\n        const hasHandler = Boolean(handler);\n\n        if (prop && !hasHandler) {\n          this.addEventHandler(eventName, prop);\n        } else if (!prop && hasHandler) {\n          // Needs to be removed:\n          this.removeEventHandler(eventName);\n        } else if (prop && hasHandler && prop !== handler) {\n          // replace the handler\n          this.removeEventHandler(eventName);\n          this.addEventHandler(eventName, prop);\n        }\n      });\n    }\n\n    addEventHandler(eventName, prop) {\n      this.handlers[eventName] = prop;\n      this.el.on(this.getPlotlyEventName(eventName), this.handlers[eventName]);\n    }\n\n    removeEventHandler(eventName) {\n      this.el.removeListener(this.getPlotlyEventName(eventName), this.handlers[eventName]);\n      delete this.handlers[eventName];\n    }\n\n    getPlotlyEventName(eventName) {\n      return 'plotly_' + eventName.toLowerCase();\n    }\n\n    render() {\n      return (\n        <div\n          id={this.props.divId}\n          style={this.props.style}\n          ref={this.getRef}\n          className={this.props.className}\n        />\n      );\n    }\n  }\n\n  PlotlyComponent.propTypes = {\n    data: PropTypes.arrayOf(PropTypes.object),\n    config: PropTypes.object,\n    layout: PropTypes.object,\n    frames: PropTypes.arrayOf(PropTypes.object),\n    revision: PropTypes.number,\n    onInitialized: PropTypes.func,\n    onPurge: PropTypes.func,\n    onError: PropTypes.func,\n    onUpdate: PropTypes.func,\n    debug: PropTypes.bool,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    useResizeHandler: PropTypes.bool,\n    divId: PropTypes.string,\n  };\n\n  eventNames.forEach((eventName) => {\n    PlotlyComponent.propTypes['on' + eventName] = PropTypes.func;\n  });\n\n  PlotlyComponent.defaultProps = {\n    debug: false,\n    useResizeHandler: false,\n    data: [],\n    style: {position: 'relative', display: 'inline-block'},\n  };\n\n  return PlotlyComponent;\n}\n"],"names":["errorHelper","error","tempError","detectKeys","Object","keys","extractedError","window","location","href","SRC_PROGRAM","DST_PROGRAM","ALL_PROGRAMS","PROGRAM_MAPPING","PROGRAM","CHILDREN","FIRST_LEVEL","SECOND_LEVEL","THIRD_LEVEL","STATE_LEVEL_FIELD","TYPE_SRC","TYPE_DST","LAYOUT_EP","SETTINGS_EP","UPDATE_ACTIVITIES_EP","FETCH_AMP_SETTINGS_PENDING","FETCH_AMP_SETTINGS_SUCCESS","FETCH_AMP_SETTINGS_ERROR","initialState","settingsLoaded","settingsPending","settings","FETCH_DIRECT_INDIRECT_NDD_PENDING","FETCH_DIRECT_INDIRECT_NDD_SUCCESS","FETCH_DIRECT_INDIRECT_NDD_ERROR","FETCH_TOP_PENDING","FETCH_TOP_SUCCESS","FETCH_TOP_ERROR","RESET_TOP","FETCH_YEAR_DETAIL_PENDING","FETCH_YEAR_DETAIL_SUCCESS","FETCH_YEAR_DETAIL_ERROR","nddLoaded","nddLoadingPending","topLoaded","topLoadingPending","top","undefined","yearDetail","yearDetailLoaded","yearDetailPending","FETCH_DASHBOARD_SETTINGS_PENDING","FETCH_DASHBOARD_SETTINGS_SUCCESS","FETCH_DASHBOARD_SETTINGS_ERROR","extractSettings","gs","format","numberFormat","precision","indexOf","length","groupSeparator","decimalSeparator","numberDivider","numberDividerDescriptionKey","dateFormat","defaultMinDate","defaultMaxDate","dashboardSettingsLoaded","dashboardSettingsLoadingPending","FETCH_SHARE_LINK_PENDING","FETCH_SHARE_LINK_SUCCESS","FETCH_SHARE_LINK_ERROR","GET_SHARED_DATA_PENDING","GET_SHARED_DATA_SUCCESS","GET_SHARED_DATA_ERROR","shareLinkLoaded","shareLinkPending","sharedDataLoaded","sharedDataPending","FETCH_MAPPINGS_PENDING","FETCH_MAPPINGS_SUCCESS","FETCH_MAPPINGS_ERROR","mappingsLoaded","mappingsLoadingPending","TRN_PREFIX","DIRECT_PROGRAM","INDIRECT_PROGRAMS","PROGRAMLVL1","PROGRAMLVL2","AMOUNT","CODE","DIRECT","FUNDING_TYPE","CURRENCY_CODE","AVAILABLE_COLORS","SELECTED_COLORS","Map","CHART_COLOR_MAP","REDUCER_NAME","fetchProgramConfiguration","createAsyncThunk","concat","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_","_ref","rejectWithValue","response","data","wrap","_context","prev","next","fetch","sent","json","status","abrupt","stop","_x","_x2","apply","arguments","loading","programConfigurationSlice","createSlice","name","reducers","resetProgramConfiguration","extraReducers","builder","addCase","pending","state","fulfilled","_ref3","payload","rejected","_ref4","actions","fetchIndicatorsByProgram","id","indicatorsByProgramSlice","resetState","action","fetchProgramReport","filters","requestData","_objectSpread","method","headers","body","JSON","stringify","programProgressReportSlice","indicators","fetchIndicators","fetchIndicatorSlice","fetchIndicatorReport","yearCount","count","requestBody","indicatorReportSlice","fetchFm","fmSlice","columnName","fmSettings","find","column","extractFmColumnsData","combineReducers","startupReducer","type","translationsReducer","reportsReducer","ndd","dashboardSettingsReducer","dashboardSettings","globalSettings","shareLinkReducer","shareLink","sharedDataReducer","sharedData","mappingsReducer","mapping","noIndirectMapping","payload2","programConfigurationReducer","indicatorsByProgramReducer","programReportReducer","fetchIndicatorsReducer","indicatorReportReducer","fetchFmReducer","NDDTranslationContext","React","translations","defaultTrnPack","connect","translationPending","programConfigurationPending","fmReducerPending","dispatch","bindActionCreators","_fetchTranslations","fetchTranslations","props","useDispatch","useEffect","_jsx","Loading","document","title","Provider","value","children","removeFilter","selectedDirectProgram","filterColumnName","splice","findIndex","i","objectId","getCustomColor","item","program","colorMap","color","get","set","code","trim","CHART_COLORS","shift","formatKMB","summary","lang","formatSI","replace","getSuffixForLang","prefix","formatNumber","currency","formatString","dividedValue","txtVal","_jsxs","_Fragment","formatNumberWithSettings","useUnits","formatOnlyNumber","getAmountsInWord","ToolTip","_Component","_inherits","_super","_createSuper","_classCallCheck","_createClass","key","inputText","context","createElement","getContext","font","width","measureText","Math","ceil","_this$props","this","titleLabel","formattedValue","total","minWidth","isYearTotal","percentage","headerStyle","backgroundColor","containerStyle","getActualWidth","className","style","Component","defaultProps","contextType","Plot","createPlotlyComponent","Plotly","NestedDonutsProgramChart","_this","call","onHover","points","extraData","neverFade","setState","showLegend","legendTop","event","layerY","legendLeft","layerX","tooltipData","onUnHover","onClick","outerData","handleOuterChartClick","createTooltip","val","amount","totalAmount","reduce","j","currencyCode","extractOuterData","bind","_assertThisInitialized","extractInnerData","calculateOpacity","calculateLvl2","_this2","ret","acc","cur","forEach","directProgram","isSubProgram","filter","d","_defineProperty","d2","accumulator","currentValue","percentageInTotal","normalizedPercentage","push","normalized","normalizePieData","sorted","p","c","parent","biggest","sort","minusPercentage","cat","localMinusPercentage","innerSubGroup","k","l","originalAmount","totalForSubGroup","percentageInSubGroup","parentPercentage","directProgramCode","colors","newColors","opacity","round","min","max","toString","toUpperCase","_this3","_this$props2","selectedPrograms","_this$state","outerDataLvl2","innerData","innerDataForChart","innerDataToChartValues","innerColors","map","outerColors","o","annotations","text","xref","yref","showarrow","size","CSSTransitionGroup","transitionName","transitionAppear","transitionLeave","transitionEnter","transitionEnterTimeout","transitionLeaveTimeout","transitionAppearTimeout","values","labels","innerCode","domain","x","y","textposition","direction","hoverinfo","hole","textinfo","marker","line","textfont","layout","autosize","paper_bgcolor","height","showlegend","transition","duration","easing","margin","r","b","t","pad","config","displaylogo","onUnhover","display","left","FundingTypeSelector","generateDropdown","onChange","defaultValue","options","s","e","target","callReport","fundingType","programIds","newSettings","Promise","all","fetchApiData","url","then","catch","fetchIndirectReportError","clearTopReport","callTopReport","filterParam","selectedProgram","params","v","fetchTopReportSuccess","fetchTopReportError","finally","callYearDetailReport","programId","year","a","fetchYearDetailSuccess","fetchYearDetailError","YearDetail","createTable","fundingTypeDescription","recordsVisible","rows","rel","projectTitle","random","fontWeight","Button","variant","loadMore","handleClose","show","Modal","onHide","closeButton","marginTop","SRC_DIRECT","FundingByYearChart","lines","pointerY","pointerX","_callYearDetailReport","fundingByYearSource","showDetail","programName","isShowInnerChartDataForActivitiesDetail","dontUseMapping","createModalWindow","ft","_this$props3","canEnableShowIndirectDataOption","_this$props4","indirectPrograms","calculateYAxisAbbreviations","directData","_this$props5","newAnnotations","Number","parseFloat","formatter","getTickValue","align","xanchor","xshift","yanchor","yshift","getValues","_this$props6","sourceData","flat","auxAmounts","amountsByYear","sortAmountsByYear","addAmountsByYear","fillGapsInYears","current","newValue","item2","currValue","_toConsumableArray","parseInt","_loop","source","_this$props7","_this$props8","onChangeSource","_this$state2","checked","htmlFor","mode","shape","smoothing","dash","getColor","xaxis","showgrid","showline","autotick","tickangle","fixedrange","automargin","yaxis","visible","showticklabels","hovermode","separators","responsive","displayModeBar","useResizeHandler","cursor","PieChartTypeSelector","programs","direct","indirect1","indirect2","extractPrograms","ids","CustomLegend","shouldSplitBig","border","EllipsisText","simpleLabel","tail","textAlign","SimpleLegend","index","substring","ReactTooltip","place","effect","styles","fontFamily","TopChart","formattedAmount","transformedData","slice","others","getOthers","ResponsiveBar","label","getLabel","enableGridY","axisTop","axisRight","axisBottom","axisLeft","right","bottom","labelFormat","tooltip","theme","container","padding","borderRadius","boxShadow","TopChartContainer","_len","args","Array","_key","getTitles","titles","legends","directLegend","indirectLegend","directTotal","indirectTotal","dp","programLvl1","generateLegend","idp","sumarizedTotal","position","level","legend","programColor","programLevel","prog","programLegend","getProgramLegend","getTopChart","MainDashboardContainer","onChangeFundingType","onChangeProgram","downloadImage","embedded","useContext","subColors","countArray","colorFrom","colorTwo","maxGradient","colorGradient","Gradient","setGradient","getArray","getGradient","generate2LevelColors","Row","marginRight","marginLeft","borderBottom","Col","md","paddingRight","paddingLeft","generateSectionTitle","borderTop","marginBottom","PrintDummy","FilterOutputItem","generateChildren","items","modelType","start","formatDate","end","dateString","date","Date","dateformat","filterName","displayName","Filter","draggable","caller","Filters","showFilterWidget","loaded","setElement","refs","filterPopup","showFilters","hideFilters","applyFilters","onApplyFilters","serializeWithModels","serializeToModels","filtersWithModels","serialize","toggleAppliedFilters","showFiltersList","generateFilterOutput","savedDashboardLoaded","on","dashboardId","_sharedData","_sharedDataPending","_sharedDataLoaded","done","deserialize","parse","stateBlob","dontSetDefaultDates","removeEventListener","float","ref","widget","require","SettingsWidget","el","isPopup","definitionUrl","Settings","applySettings","onApplySettings","hideSettings","toggleSettings","restoreFromSaved","settingsPopup","borderColor","getShareLink","description","fetchShareLinkSuccess","fetchShareLinkError","getLink","match","endsWith","Share","handleShow","prepareDataToSave","_getShareLink","generateModal","paddingTop","paddingBottom","Form","Control","HeaderContainer","payloadGS","fetchDashboardSettingsSuccess","fetchDashboardSettingsError","getMappings","getSharedData","getSharedDataSuccess","getSharedDataError","queryString","NDDDashboardHome","getSharedDataOrResolve","_getSharedData","resolve","resetChartAfterUnClick","fixedFilters","_callReport","_callTopReport","_clearTopReport","_this$state3","_this$state4","split","_this$state5","search","_loadDashboardSettings","_getMappings","tempSettings","defaultId","savedData","_this2$state","_this$state6","printChart","_this$state7","Container","fluid","loadDashboardSettings","withRouter","NDDDashboardRouter","Routes","Route","path","exact","element","component","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","some","arg","compose","NDDDashboardApp","store","createStore","rootReducer","applyMiddleware","thunk","Startup","friendly","printInnerCharts","chartId","filtersObject","countriesForExport","getElementById","childNodes","chartsIds","includes","previousPromise","nextChartID","printChartPrinter","printContainer","iframe","oneByOne","doc","contentDocument","printElement","titleElement","totalRows","charts","getElementsByClassName","appendChild","createTextNode","rowCount","col1","cloneNode","COUNTRY_COLUMN","clientHeight","clientWidth","col2","theRow","newTitleElement","pageBreak","ex","console","log","calculateChildren","useTitle","firstChild","chartElement","chartHeight","doPrint","printMethod","PNG_FORMAT","domtoimage","reject","bgcolor","dataUrl","link","download","click","removeChild","Error","ZERO","ONE","NEGATIVE_ONE","FLAGS_DIRECTORY","DASHBOARD_DEFAULT_MIN_YEAR_RANGE","DASHBOARD_DEFAULT_MAX_YEAR_RANGE","API_FILTERS_SECTORS_URL","API_FILTERS_COUNTRIES_URL","API_AMP_SETTINGS_URL","API_FILTERS_MODALITIES_URL","API_SSC_DASHBOARD_URL","API_XLS_REPORT_URL","API_REPORTS_ACTIVITY_DETAIL_URL","BOOTSTRAP_COLUMNS_COUNT","NON_SELECTED_LINE_COLOR","NON_SELECTED_BUBBLE_COLOR","SELECTED_LINE_COLOR","SELECTED_BUBBLE_COLOR","PROJECT_LENGTH_HOME_PAGE","UNDEFINED_FILTER","FLAGS_TO_SHOW_DEFAULT","FLAGS_TO_SHOW_SMALL","FLAGS_TO_SHOW_SMALL_WIDTH_THRESHOLD","SECTORS_LIMIT_CHART","SECTORS_OTHERS_ID_CHART","DEFAULT_SCREEN_SIZE","DEFAULT_ELLIPSIS","SECTOR_MODALITY_MIN_SIZE","SECTOR_MODALITY_LEADING_LEFT","WS_PREFIX","HOME_CHART","SECTORS_CHART","MODALITY_CHART","DOWNLOAD_CHART","FALLBACK_FLAG","OTHERS_CODE","FILTER_PRIMARY_SECTOR","FILTER_SSC_MODALITIES","FILTER_DONOR_AGENCY_COUNTRY","SECTOR_COLOR_MAP","MODALITIES_COLOR_MAP","COLOR_MAP_CUSTOM","COLOR_MAP","fetchTranslationsPending","loadTranslations","trnPack","fetchTranslationsSuccess","fetchTranslationsError","FETCH_TRANSLATIONS_PENDING","FETCH_TRANSLATIONS_SUCCESS","FETCH_TRANSLATIONS_ERROR","getRequestOptions","requestOptions","callDeleteApiEndpoint","deleteRequestOptions","fetchApiDataWithStatus","contentType","parsedData","ok","message","extractErrorMessageFromResponse","extractErrorCodeFromResponse","errorMessage","role","memo","navigate","useNavigate","useLocation","useParams","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","storedParams","localStorage","getItem","param","_param$split","_param$split2","extractSearchParams","_location","urlParams","storedSearchParams","POST","GET","Accept","PlotlyComponent","resizeHandler","handlers","syncWindowResize","syncEventHandlers","attachUpdateEvents","getRef","handleUpdate","figureCallback","updatePlotly","shouldInvokeResizeHandler","figureCallbackFunction","shouldAttachUpdateEvents","unmounting","react","frames","err","onError","onInitialized","prevProps","numPrevFrames","numNextFrames","figureChanged","revisionDefined","revision","revisionChanged","onUpdate","onPurge","isBrowser","removeUpdateEvents","purge","removeListener","updateEvents","updateEvent","_this4","callback","_this$el","_transitionData","_frames","invoke","_this5","Plots","resize","addEventListener","debug","gd","_this6","eventNames","eventName","prop","handler","hasHandler","Boolean","addEventHandler","removeEventHandler","getPlotlyEventName","toLowerCase","_react","divId","propTypes","_propTypes","arrayOf","object","number","func","bool","string","_interopRequireWildcard"],"sourceRoot":""}