"use strict";(self.webpackChunkreampv2=self.webpackChunkreampv2||[]).push([[8360,8960,5770,5753],{18360:function(e,t,n){n.r(t),n.d(t,{default:function(){return Xt}});var r=n(9249),o=n(87371),a=n(45754),s=n(86906),i=n(50383),c=n.n(i),l=n(83112),d=n(10941),u=n.n(d),h=n(94652),p=n(33028),A="FETCH_AMP_SETTINGS_PENDING",f="FETCH_AMP_SETTINGS_SUCCESS",g="FETCH_AMP_SETTINGS_ERROR";var m={settingsLoaded:!1,settingsPending:!1,settings:{},error:null},v=n(50840),C=n(1342),y="Activity Id",w="Project Title",x="extra_info",b="group-id",j="centro-id",S="Primary Sector",E="Modalities",D=n(68079);function N(e){return e.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}function k(e){return["".concat("/TEMPLATE/reampv2/build").concat(C.rF).concat(e.toLowerCase().replace(/ /g,"_"),".svg"),C.sK]}function P(e,t){var n;return t.includes(e)?n=t.filter((function(t){return t!==e})):(n=(0,D.Z)(t)).push(e),n}function B(e){var t=1;switch(e){case 1:t=1;break;case 2:case 4:t=2;break;case 3:case 5:case 6:t=3}return t}function L(e){return e&&e[x]?e[x][b]:null}function F(e,t,n){var r=t.settings;if(t.settingsLoaded)for(var o=parseInt(r[C.qp],10),a=n||parseInt(r[C.Ic],10);a>=o;a--)e.push({id:a,name:a})}var I="FETCH_FILTERS_SECTORS_PENDING",Z="FETCH_FILTERS_SECTORS_SUCCESS",T="FETCH_FILTERS_SECTORS_ERROR",M="FETCH_FILTERS_COUNTRIES_PENDING",R="FETCH_FILTERS_COUNTRIES_SUCCESS",O="FETCH_FILTERS_COUNTRIES_ERROR",Q="FETCH_FILTERS_MODALITIES_PENDING",U="FETCH_FILTERS_MODALITIES_SUCCESS",Y="FETCH_FILTERS_MODALITIES_ERROR";var G={sectorsLoaded:!1,sectorsPending:!1,sectors:[],sectorLoadingErrors:null,countriesLoaded:!1,countriesPending:!1,countries:[],countriesLoadingErrors:null,modalitiesPending:!1,modalitiesLoaded:!1,modalities:[]},K="FETCH_ACTIVITIES_DETAIL_PENDING",H="FETCH_ACTIVITIES_DETAIL_SUCCESS",J="FETCH_ACTIVITIES_DETAIL_ERROR",W="FETCH_ACTIVITIES_PENDING",z="FETCH_ACTIVITIES_SUCCESS",V="FETCH_ACTIVITIES_ERROR";var X={activitiesDetailsPending:!1,activitiesDetailsLoaded:!1,activitiesDetails:[],activitiesPending:!1,activitiesLoaded:!1,activities:[]},_="FETCH_XLS_REPORT_PENDING",q="FETCH_XLS_REPORT_SUCCESS",$="FETCH_XLS_REPORT_ERROR",ee="FETCH_XLS_REPORT_DONE";var te={dataDownloadPending:!1,dataDownloadLoaded:!1,dataDownload:null,error:null},ne=(0,l.combineReducers)({startupReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return(0,p.Z)((0,p.Z)({},e),{},{settingsPending:!0});case f:return(0,p.Z)((0,p.Z)({},e),{},{settingsPending:!1,settingsLoaded:!0,settings:t.payload});case g:return(0,p.Z)((0,p.Z)({},e),{},{settingsPending:!1,settingsLoaded:!1,error:t.payload.error});default:return e}},translationsReducer:v.Z,filtersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return(0,p.Z)((0,p.Z)({},e),{},{sectorsPending:!0});case Z:return(0,p.Z)((0,p.Z)({},e),{},{sectorsPending:!1,sectorsLoaded:!0,sectors:t.payload});case T:return(0,p.Z)((0,p.Z)({},e),{},{sectorsPending:!1,sectorsLoaded:!1,error:t.payload.error});case M:return(0,p.Z)((0,p.Z)({},e),{},{countriesPending:!0});case R:return(0,p.Z)((0,p.Z)({},e),{},{countriesPending:!1,countriesLoaded:!0,countries:t.payload});case O:return(0,p.Z)((0,p.Z)({},e),{},{countriesPending:!1,countriesLoaded:!1,error:t.payload.error});case Q:return(0,p.Z)((0,p.Z)({},e),{},{modalitiesPending:!0});case U:return(0,p.Z)((0,p.Z)({},e),{},{modalitiesPending:!1,modalitiesLoaded:!0,modalities:t.payload});case Y:return(0,p.Z)((0,p.Z)({},e),{},{modalitiesPending:!1,modalitiesLoaded:!1,error:t.payload.error});default:return e}},reportsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return(0,p.Z)((0,p.Z)({},e),{},{activitiesDetailsPending:!1});case H:return(0,p.Z)((0,p.Z)({},e),{},{activitiesDetailsPending:!1,activitiesDetailsLoaded:!0,activitiesDetails:t.payload});case J:return(0,p.Z)((0,p.Z)({},e),{},{activitiesDetailsPending:!1,activitiesDetailsLoaded:!1,error:t.payload.error});case W:return(0,p.Z)((0,p.Z)({},e),{},{activitiesPending:!1});case z:return(0,p.Z)((0,p.Z)({},e),{},{activitiesPending:!1,activitiesLoaded:!0,activities:t.payload});case V:return(0,p.Z)((0,p.Z)({},e),{},{activitiesPending:!1,activitiesLoaded:!1,error:t.payload.error});default:return e}},dataDownloadReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return(0,p.Z)((0,p.Z)({},e),{},{dataDownloadPending:!1});case q:return(0,p.Z)((0,p.Z)({},e),{},{dataDownloadPending:!1,dataDownloadLoaded:!0,dataDownload:t.payload});case $:return(0,p.Z)((0,p.Z)({},e),{},{dataDownloadPending:!1,dataDownloadLoaded:!1,error:t.error});case ee:return(0,p.Z)({},te);default:return e}}}),re=n(35209),oe=n(38587),ae=function(e){return function(t){t({type:K});var n="".concat(C.ET,"?").concat(e.map((function(e){return"id=".concat(e)})).join("&"));return(0,oe.aV)({url:n,body:{}}).then((function(e){return t(function(e){return{type:H,payload:e}}(e))})).catch((function(e){return t(function(e){return{type:J,error:e}}(e))}))}},se=function(){return function(e){return e({type:W}),(0,oe.aV)({url:C.O}).then((function(t){return e(ae(t.activitiesId)),e(function(e){return{type:z,payload:e}}(t))})).catch((function(t){return e(function(e){return{type:V,error:e}}(t))}))}};var ie=function(){return function(e){return e({type:A}),(0,oe.aV)({url:C.Ez}).then((function(t){return e({type:f,payload:t})})).catch((function(t){return e(function(e){return{type:g,error:e}}(t))}))}},ce=JSON.parse('{"amp.ssc.dashboard:Home-Page":"Dashboard Home","amp.ssc.dashboard:Download-Page":"Data","amp.ssc.dashboard:download-title":"SSC_DATA_EXPORT","amp.ssc.dashboard:Download":"Download","amp.ssc.dashboard:Year":"Year","amp.ssc.dashboard:Sector":"Sector","amp.ssc.dashboard:Sectors":"Sectors","amp.ssc.dashboard:search-by-year":"Search by year","amp.ssc.dashboard:search-by-country":"Search by country","amp.ssc.dashboard:Sector-Analysis":"Sector Analysis","amp.ssc.dashboard:Modalities-Analysis":"Modalities Analysis","amp.ssc.dashboard:Country":"Country","amp.ssc.dashboard:Modalities":"Modalities","amp.ssc.dashboard:Modality":"Modality","amp.ssc.dashboard:NA":"N/A","amp.ssc.dashboard:no-data":"There is no data for this selection","amp.ssc.dashboard:search":"Search","amp.ssc.dashboard:selected":"Selected","amp.ssc.dashboard:un-selected":"Unselected","amp.ssc.dashboard:reset":"Reset","amp.ssc.dashboard:no-data-xls":"There is no data to generate the Excel export with selected filters","amp.ssc.dashboard:page-title":"Aid Management Platform - SSC Dashboard","amp.ssc.dashboard:home-text-1":"Welcome to the South South Cooperation Dashboard for Haiti! You can use this interactive, visual tool to explore foreign aid assistance that comes from development partners in the Global South.","amp.ssc.dashboard:home-text-2":"South South Cooperation (SSC) is characterized by partners who share similar historical and geopolitical backgrounds to Haiti. Unlike more traditional aid, which tends to focus on financing, SSC partners often provide support in-kind, including technical assistance, which can be difficult to accurately capture in numbers. Happy exploring!","amp.ssc.dashboard:sectors-checkbox-tooltip":"Click on the checkbox to select this chart for download. If you select no charts, when you click on the download or print icons, all chart images will download.","amp.ssc.dashboard:sectors-png-tooltip":"Click on the icon to download image(s) of the chart(s) you have selected. If you did not click on any checkboxes, all images will download.","amp.ssc.dashboard:sectors-xls-tooltip":"Click on this icon to download the data used to make the chart(s) you have selected. If you did not click on any checkboxes, the data for all charts will download.","amp.ssc.dashboard:sectors-project":"Project","amp.ssc.dashboard:sectors-projects":"Projects","amp.ssc.dashboard:sectors-sector-types":"Sector types","amp.ssc.dashboard:modalities-modality-types":"Modality types","amp.ssc.dashboard:sectors-others":"Others","amp.ssc.dashboard:project-percentage":"{filter} percentage of total SSC projects","amp.ssc.dashboard:project-count":"Projects count","amp.ssc.dashboard:select-all":"Select all","amp.ssc.dashboard:select-none":"Select none","amp.ssc.dashboard:center-map":"Center map","amp.ssc.dashboard:zoom-out":"Zoom Out","amp.ssc.dashboard:project-xls":"Project/s (pipe separated)","amp.ssc.dashboard:zoom-in":"Zoom in","amp.ssc.dashboard:six":"Only the first six countries were carried over. If something different is needed it will need to be modified with the flags/filters"}'),le=n(47371),de=n(59653),ue=c().createContext({translations:ce}),he=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchTranslations,n=e.loadAmpSettings,r=e.loadActivities;t(ce),n(),r()}},{key:"render",value:function(){var e=this.props,t=e.translationPending,n=e.children;if(t)return(0,de.jsx)(le.g,{});var r=this.props.translations;return document.title=r["amp.ssc.dashboard:page-title"],(0,de.jsx)(ue.Provider,{value:{translations:r},children:n})}}]),n}(i.Component),pe=(0,h.connect)((function(e){return{translationPending:e.translationsReducer.pending,translations:e.translationsReducer.translations}}),(function(e){return(0,l.bindActionCreators)({fetchTranslations:re.Z,loadAmpSettings:ie,loadActivities:se},e)}))(he),Ae=n(46760),fe=(n(98269),function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.context.translations;return(0,de.jsx)("div",{className:"sidebar-intro",children:this.props.text.map((function(t){return(0,de.jsx)("p",{children:e[t]},t)}))})}}]),n}(i.Component)),ge=fe;fe.contextType=ue;var me=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onSelectOptions",value:function(){var e=this.props,t=e.onChangeChartSelect,n=e.chartName,r=e.onLinkClicked;t(n),r&&r()}},{key:"render",value:function(){var e=this.props,t=e.chartSelected,n=e.title,r=e.chartName,o=this.context.translations,a=this.onSelectOptions.bind(this);return(0,de.jsx)("div",{className:"sidebar-filter-wrapper",children:(0,de.jsx)("div",{className:"panel panel-default",children:(0,de.jsx)("div",{className:"panel-heading".concat(t===r?" selected":""),onClick:a,children:(0,de.jsx)("h4",{className:"panel-title ".concat(r),"data-toggle":"collapse","data-target":"#".concat(r),children:o[n]})})})})}}]),n}(i.Component),ve=me;me.contextType=ue;var Ce=n(91692),ye=n.n(Ce),we=n(4900),xe=n.n(we),be=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var o;return(0,r.Z)(this,n),(o=t.call(this,e)).state={searchText:""},o}return(0,o.Z)(n,[{key:"handleClearText",value:function(){this.setState({searchText:""})}},{key:"onSearchBoxChange",value:function(e){this.setState({searchText:e.target.value})}},{key:"onChange",value:function(e){var t=parseInt(e.target.value,10),n=this.props,r=n.selectedOptions,o=n.onChange,a=n.selectionLimit;(0===a||r.length<a||r.includes(t))&&o(P(t,r))}},{key:"onDropdownVisible",value:function(e){e&&this.searchBox.focus()}},{key:"getCategoryOptions",value:function(e){var t=this.props,n=t.options,r=t.categoryFetcher;return n.filter((function(t){return r(t)===e})).map((function(e){return e.id}))}},{key:"getSelectedCount",value:function(){var e=this.props.selectedOptions;return(void 0===e?[]:e).length}},{key:"getOptionsCount",value:function(){var e=this.props.options;return(void 0===e?[]:e).length}},{key:"getOptions",value:function(e){var t=this,n=this.props,r=n.options,o=void 0===r?[]:r,a=n.selectedOptions,s=void 0===a?[]:a,i=n.sortData,c=n.filterId,l=this.state.searchText,d=o.filter((function(e){return""===l||e.name.toString().toUpperCase().indexOf(l.toUpperCase())>=0})).filter((function(t){return e?s.includes(t.id):!s.includes(t.id)})).sort((function(e,t){return i?e.name<t.name?-1:e.name>t.name?1:0:0})).map((function(n){return(0,de.jsxs)("li",{children:[(0,de.jsx)("input",{type:"checkbox",name:"y".concat(n.id).concat(c),id:n.id+c,value:n.id,checked:e,onChange:function(e){t.onChange(e)}},"".concat(n.id+c,"_input")),(0,de.jsx)("label",{htmlFor:n.id+c,children:n.name})]},"".concat(n.id+c,"_li"))}));return(0,de.jsx)("div",{className:"row",children:(0,de.jsx)("div",{className:"filter-content col-md-12",children:(0,de.jsx)("ul",{className:"elements-list",children:d})})},"filter-row ".concat(c))}},{key:"isCategorySelected",value:function(e){var t=this.props.selectedOptions,n=void 0===t?[]:t;return function(e,t){e.sort((function(e,t){return e-t})),t.sort((function(e,t){return e-t}));for(var n=[],r=[],o=[],a=0,s=0;a<e.length&&s<t.length;)e[a]<t[s]?(n.push(e[a]),a+=1):t[s]<e[a]?(o.push(t[s]),s+=1):(r.push(e[a]),a=2,s+=1);for(;a<e.length;)n.push(e[a]),a+=1;for(;s<t.length;)o.push(t[s]),s+=1;return e.length===t.length&&e.length===r.length}(this.getCategoryOptions(e),n)}},{key:"selectCategory",value:function(e){(0,this.props.onChange)(this.getCategoryOptions(e))}},{key:"selectNone",value:function(){(0,this.props.onChange)([])}},{key:"selectAll",value:function(){var e=this.props,t=e.options;(0,e.onChange)(t.map((function(e){return e.id})))}},{key:"showCollapse",value:function(){var e=this.props,t=e.chartName,n=e.chartSelected,r=e.parentId;return!(!t||!n||t!==n)||!r}},{key:"getActualWidth",value:function(e){var t=document.createElement("canvas").getContext("2d");t.font="14px Montserrat 'Open Sans'";var n=t.measureText(e).width;return Math.ceil(n)}},{key:"render",value:function(){var e=this,t=this.context.translations,n=this.onChange.bind(this),r=this.state.searchText,o=this.props,a=o.categoriesSelection,s=o.categoryFetcher,i=o.chartName,c=o.chartSelected,l=o.onChangeChartSelected,d=o.parentId,u=o.filterId,h=o.filterName,p=o.label,A=o.disabled,f=o.selectionLimit,g=this.getActualWidth("".concat(t["amp.ssc.dashboard:select-all"]," | ").concat(t["amp.ssc.dashboard:select-none"])),m=function(){return(0,de.jsx)(de.Fragment,{children:(0,de.jsxs)("span",{className:"select-all all",children:[(0,de.jsx)("input",{type:"radio",value:"1",name:"radio-".concat(u),id:"select-all-".concat(u),checked:e.getSelectedCount()===e.getOptionsCount()}),(0,de.jsx)("label",{htmlFor:"select-all",onClick:function(){return e.selectAll()},children:t["amp.ssc.dashboard:select-all"]})]})})},v=function(){return(0,de.jsx)(de.Fragment,{children:(0,de.jsxs)("span",{className:"select-all all",children:[(0,de.jsx)("input",{type:"radio",value:"2",name:"radio-".concat(u),id:"select-none-".concat(u),checked:0===e.getSelectedCount()}),(0,de.jsx)("label",{htmlFor:"select-none-".concat(u),onClick:function(){return e.selectNone()},children:t["amp.ssc.dashboard:select-none"]})]})})},C=null!==d,y=0===f;return(0,de.jsxs)("div",{className:"horizontal-filter dropdown panel ".concat(A?" disable-filter":""),children:[d&&(0,de.jsxs)("button",{className:"btn btn-primary".concat(i?" ".concat(i):"").concat(i&&c&&i===c?" selected":""),type:"button","data-toggle":"collapse","data-parent":"#".concat(d),href:"#".concat(u),"aria-controls":u,onClick:function(){return!(!l||i===c)&&l(i)},children:[(0,de.jsx)("span",{className:"filterName",children:t[h]})," ",!p&&(0,de.jsx)("span",{className:"select-count",children:"(".concat(this.getSelectedCount(),"/").concat(this.getOptionsCount(),")")})]}),(0,de.jsx)(xe(),{onChange:this.onDropdownVisible.bind(this),children:(0,de.jsx)("div",{className:"filter-list collapse".concat(this.showCollapse()?"in":""),id:u,children:(0,de.jsxs)("div",{className:"well",children:[(0,de.jsxs)("div",{className:"row autocomplete",children:[!C&&(0,de.jsx)("div",{className:"col-md-".concat(g<110?"3":"5"),children:(0,de.jsxs)("div",{className:"select-all-none",children:[(0,de.jsx)(m,{}),(0,de.jsx)(v,{})]})}),(0,de.jsx)("div",{className:"col-md-".concat(C?"12":"6"," autocomplete-row"),children:(0,de.jsxs)("div",{className:"autocomplete-box",children:[(0,de.jsx)("input",{onChange:this.onSearchBoxChange.bind(this),value:r,placeholder:"".concat(t["amp.ssc.dashboard:search"],"..."),ref:function(t){return e.searchBox=t}}),(0,de.jsx)("span",{className:"clear",onClick:this.handleClearText.bind(this),children:"\xd7"})]})}),!C&&(0,de.jsx)("div",{className:"col-md-".concat(g<110?"3":"1")})]}),C&&(0,de.jsxs)("div",{className:"select-all-none",children:[y&&(0,de.jsx)(m,{}),y&&(0,de.jsx)(v,{}),s&&a&&a.map((function(t,n){var r=t.id,o=t.name,a=t.tooltip;return(0,de.jsxs)("span",{className:"select-all all",onClick:function(){return e.selectCategory(r)},children:[(0,de.jsx)("input",{type:"radio",value:n+4,name:"radio-".concat(u),id:o,checked:e.isCategorySelected(r)}),(0,de.jsx)("label",{htmlFor:o,id:"".concat(o,"-label"),"data-tip":a,className:e.isCategorySelected(r)?" label-bold":"",children:o})]},"all-none-".concat(r).concat(u))}))]}),(0,de.jsxs)("div",{className:"selected",children:[(0,de.jsxs)("div",{className:"title",children:[t["amp.ssc.dashboard:selected"]," ",p&&d&&(0,de.jsx)("span",{className:"select-count",children:"".concat(t[p]," (").concat(this.getSelectedCount(),"/").concat(this.getOptionsCount(),")")})]}),(0,de.jsx)("div",{className:"well-inner filter-list-inner",children:this.getOptions(!0,n)})]}),(0,de.jsxs)("div",{className:"unselected",children:[(0,de.jsxs)("div",{className:"title",children:[t["amp.ssc.dashboard:un-selected"]," ",p&&d&&(0,de.jsx)("span",{className:"select-count",children:"".concat(t[p]," (").concat(this.getOptionsCount()-this.getSelectedCount(),")")})]}),(0,de.jsx)("div",{className:"well-inner filter-list-inner",children:this.getOptions(!1,n)})]})]})})}),(0,de.jsx)(ye(),{})]})}}]),n}(i.Component);be.contextType=ue,be.defaultProps={selectedOptions:[],categoriesSelection:[],sortData:null,parentId:null,categoryFetcher:null,chartName:null,onChangeChartSelected:null,chartSelected:null,label:null,disabled:!1,selectionLimit:0};var je=be,Se=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.chartSelected,n=e.onChangeChartSelected,r=e.toggleDataDownload,o=e.handleSelectedFiltersChange,a=e.filters,s=e.selectedFilters,i=s.selectedSectors,c=void 0===i?[]:i,l=s.selectedModalities,d=void 0===l?[]:l,u=o.handleSelectedSectorChanged,h=o.handleSelectedModalityChanged,p=a.sectors.sectors,A=a.modalities.modalities;return(0,de.jsxs)("div",{className:"col-md-2 sidebar",children:[(0,de.jsxs)("div",{className:"sidebar-filter-wrapper",id:"side-accordion-filter",children:[(0,de.jsx)(ve,{chartSelected:t,onChangeChartSelect:n,title:"amp.ssc.dashboard:Home-Page",chartName:C.yr}),(0,de.jsx)("div",{className:"sidebar-filter-wrapper",id:"side-accordion-filter",children:(0,de.jsx)(je,{options:p,filterName:"amp.ssc.dashboard:Sector-Analysis",filterId:"ddSectorSide",parentId:"side-accordion-filter",selectedOptions:c,onChange:u,label:"amp.ssc.dashboard:Sectors",chartSelected:t,chartName:C.ah,onChangeChartSelected:n})}),(0,de.jsx)("div",{className:"sidebar-filter-wrapper",id:"side-accordion-filter",children:(0,de.jsx)(je,{options:A,filterName:"amp.ssc.dashboard:Modalities-Analysis",filterId:"ddModalitiesSide",parentId:"side-accordion-filter",selectedOptions:d,onChange:h,label:"amp.ssc.dashboard:Modalities",chartSelected:t,chartName:C.WP,onChangeChartSelected:n})}),(0,de.jsx)(ve,{chartSelected:t,onLinkClicked:r,onChangeChartSelect:n,title:"amp.ssc.dashboard:Download-Page",chartName:C.ij})]}),(!t||t===C.yr||t===C.ij)&&(0,de.jsx)(ge,{text:["amp.ssc.dashboard:home-text-1","amp.ssc.dashboard:home-text-2"]})]})}}]),n}(i.Component),Ee=(0,h.connect)((function(e){return{settings:{settings:e.startupReducer.settings,settingsLoaded:e.startupReducer.settingsLoaded},filters:{sectors:{sectors:e.filtersReducer.sectors,sectorsLoaded:e.filtersReducer.sectorsLoaded},modalities:{modalities:e.filtersReducer.modalities,modalitiesLoaded:e.filtersReducer.modalitiesLoaded}}}}),(function(e){return(0,l.bindActionCreators)({},e)}))(Se);Se.contextType=ue;var De=n(96928),Ne=n.n(De),ke=n(23362),Pe=n.n(ke),Be=n(73255),Le=function(e){var t=e.countryName,n=(0,Be.useImage)({srcList:k(t)}).src;return(0,de.jsx)("img",{src:n,alt:t})},Fe=function(e){var t=e.countryName;return(0,de.jsx)(i.Suspense,{fallback:(0,de.jsx)("img",{alt:"loading",src:C.sK}),children:(0,de.jsx)(Le,{countryName:t})})},Ie=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var o;return(0,r.Z)(this,n),(o=t.call(this,e)).onFlagClick=function(e){return function(){var t=parseInt(e,10),n=o.props,r=n.selectedOptions,a=n.onChange;(r.length<6||r.includes(t))&&a(P(t,r))}},o.state={slidesToShow:C.gW},o}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize.bind(this))}},{key:"onResize",value:function(){var e=this;this.setState((function(t){var n=e.calculateCarouselValues();return n===t.slidesToShow?null:{slidesToShow:n}}))}},{key:"getFlags",value:function(){var e=this,t=this.props,n=t.options,r=t.selectedOptions;return n.sort((function(e,t){return e.name>t.name?C.ry:C.z7})).map((function(t){return(0,de.jsxs)("div",{onClick:e.onFlagClick(t.id),className:"flag ".concat(r.includes(t.id)?"selected":""),children:[(0,de.jsx)(i.Suspense,{fallback:(0,de.jsx)("div",{children:"Loading..."}),children:(0,de.jsx)(Fe,{countryName:t.name})}),(0,de.jsx)(Pe(),{text:t.name,length:9,tail:""})]},"flag-".concat(t.id))}))}},{key:"calculateCarouselValues",value:function(){var e=C.gW;return window.innerWidth<=C.LM&&(e=C.eM),e}},{key:"render",value:function(){var e=this.props.options,t=this.state.slidesToShow;return e.length>C.xE?(0,de.jsx)(Ne(),{className:"disable-filter",breakpoints:[{breakpoint:500,settings:{slidesToShow:9,slidesToScroll:2}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:3}}],dots:!1,showSides:!0,sidesOpacity:1,sideSize:.1,slidesToScroll:4,slidesToShow:t,scrollOnDevice:!0,children:this.getFlags()}):null}}]),n}(i.Component);Ie.defaultProps={selectedOptions:[]};var Ze=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"generateCountriesCategories",value:function(e){var t=(0,D.Z)(new Set(e.map((function(e){return e[x][b]}))));return this.props.filters.countries.countries.filter((function(e){return t.includes(e.id)})).map((function(e){var t={};return t.id=e.id,t.name=e.description,t.tooltip=e.name,t}))}},{key:"clearFilters",value:function(){var e=this.props.handleSelectedFiltersChange;e.handleSelectedCountryChanged([]),e.handleSelectedSectorChanged([]),e.handleSelectedModalityChanged([]),e.handleSelectedYearChanged([])}},{key:"render",value:function(){var e=this.context.translations,t=this.props,n=t.chartSelected,r=t.settings,o=t.filters,a=t.selectedFilters,s=t.filtersRestrictions,i=t.handleSelectedFiltersChange,c=[],l=a.selectedYears,d=a.selectedCountries,u=a.selectedSectors,h=a.selectedModalities,p=o.sectors.sectors,A=o.countries.countries,f=o.modalities.modalities,g=[];A.length>0&&s.countriesWithData.length>0&&(A=A.filter((function(e){return s.countriesWithData.includes(e.id)})),g=this.generateCountriesCategories(A));var m=i.handleSelectedYearChanged,v=i.handleSelectedCountryChanged,y=i.handleSelectedSectorChanged,w=i.handleSelectedModalityChanged;F(c,r,s.mostRecentYear);var x=n===C.ij?" disable-filter":"";return(0,de.jsxs)("div",{className:"h-filter-wrapper",children:[(n===C.ah||n===C.WP||n===C.ij)&&(0,de.jsxs)("div",{className:"carousel-filters-wrapper",id:"country-accordion-filter",children:[(0,de.jsx)("div",{className:"col-md-6 ".concat(x),children:(0,de.jsx)(Ie,{options:A,onChange:v,selectedOptions:d})}),(0,de.jsxs)("div",{className:"col-md-6 country-year-search-wrapper first-element dropdown",id:"country-accordion-filter",children:[(0,de.jsx)("div",{className:"wide-dropdown",children:(0,de.jsx)(je,{options:A,filterName:"amp.ssc.dashboard:search-by-country",filterId:"ddCountryCarousel",parentId:"country-accordion-filter",categoryFetcher:L,sortData:!0,categoriesSelection:g,selectedOptions:d,onChange:v,selectionLimit:6,disabled:n===C.ij})}),(0,de.jsx)("div",{className:"wide-dropdown",children:(0,de.jsx)(je,{options:c,selectedOptions:l,filterName:"amp.ssc.dashboard:search-by-year",filterId:"ddYearCarousel",parentId:"country-accordion-filter",onChange:m,disabled:n===C.ij})}),(0,de.jsx)("div",{className:"wide-dropdown",children:(0,de.jsx)("div",{className:"horizontal-filter dropdown panel ".concat(n===C.ij?" disable-filter":""),children:(0,de.jsx)("button",{className:"reset btn btn-primary",type:"button",onClick:this.clearFilters.bind(this),children:e["amp.ssc.dashboard:reset"]})})})]})]}),n===C.yr&&(0,de.jsx)("div",{className:"row inner",children:(0,de.jsxs)("div",{id:"accordion-filter",className:"home-filter",children:[(0,de.jsx)("div",{className:"col-md-3",id:"accordion-filter",children:(0,de.jsx)(je,{options:A,filterName:"amp.ssc.dashboard:Country",filterId:"ddCountry",parentId:"accordion-filter",categoryFetcher:L,sortData:!0,categoriesSelection:g,selectedOptions:d,onChange:v})}),(0,de.jsx)("div",{className:"col-md-3",id:"accordion-filter",children:(0,de.jsx)(je,{options:p,filterName:"amp.ssc.dashboard:Sector",filterId:"ddSector",parentId:"accordion-filter",selectedOptions:u,onChange:y})}),(0,de.jsx)("div",{className:"col-md-2",id:"accordion-filter",children:(0,de.jsx)(je,{options:f,selectedOptions:h,filterName:"amp.ssc.dashboard:Modalities",filterId:"ddModalities",parentId:"accordion-filter",onChange:w})}),(0,de.jsx)("div",{className:"col-md-2",id:"accordion-filter",children:(0,de.jsx)(je,{options:c,selectedOptions:l,filterName:"amp.ssc.dashboard:Year",filterId:"ddYear",parentId:"accordion-filter",onChange:m,columnsCount:2})}),(0,de.jsx)("div",{className:"reset col-md-2",children:(0,de.jsx)("button",{className:"btn btn-primary",type:"button",onClick:this.clearFilters.bind(this),children:e["amp.ssc.dashboard:reset"]})})]})})]})}}]),n}(i.Component),Te=(0,h.connect)((function(e){return{settings:{settings:e.startupReducer.settings,settingsLoaded:e.startupReducer.settingsLoaded},filters:{sectors:{sectors:e.filtersReducer.sectors,sectorsLoaded:e.filtersReducer.sectorsLoaded},countries:{countries:e.filtersReducer.countries,countriesLoaded:e.filtersReducer.countriesLoaded},modalities:{modalities:e.filtersReducer.modalities,modalitiesLoaded:e.filtersReducer.modalitiesLoaded}}}}),(function(e){return(0,l.bindActionCreators)({},e)}))(Ze);Ze.contextType=ue,Ze.defaultProps={selectedFilters:{selectedYears:[],selectedCountries:[],selectedSectors:[],selectedModalities:[]}};var Me=n(79702),Re=n(77300),Oe=n.n(Re),Qe=n(50678),Ue=n.n(Qe),Ye=(n(62239),function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var o;return(0,r.Z)(this,n),(o=t.call(this,e)).lines=[],o}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.map=this.props.leaflet.map,this.props.points&&this.update()}},{key:"compareProps",value:function(e,t){if(e.points.length!==t.points.length)return!0;for(var n=0;n<e.points.length;n++)if(e.points[n].latitude!==t.points[n].latitude||e.points[n].longitude!==t.points[n].longitude||e.points[n].color!==t.points[n].color)return!0;return!1}},{key:"componentDidUpdate",value:function(e){this.compareProps(e,this.props)&&this.update()}},{key:"cleanLines",value:function(){var e=this;this.lines.length>0&&(this.lines.forEach((function(t){t.removeFrom(e.map)})),this.lines=[])}},{key:"drawLine",value:function(e,t){var n=this.props,r=n.lineWeight,o=n.breaks,a=n.maxWeight,s=void 0===a?20:a,i=n.onClick,c=t.color,l=[e.latitude,e.longitude],d=[t.latitude,t.longitude],u=d[1]-l[1],h=d[0]-l[0],p=Math.sqrt(Math.pow(u,2)+Math.pow(h,2)),A=Math.atan2(h,u),f=p/2/Math.cos(.314),g=A+.314,m=f*Math.cos(g)+l[1],v=[f*Math.sin(g)+l[0],m],C=1;if(o&&o.length)for(var y=s/o.length,w=0;w<o.length-1;w++)t.value>o[w]&&t.value<o[w+1]&&(C=y*(w+1));var x={color:c||"rgba(255,140,0,0.5)",weight:r||C,pointData:t,dashOffset:"51",dashArray:"5 5",stroke:"white"},b=new(Oe().curve)(["M",l,"Q",v,d],x);b.addTo(this.map),i&&b.on("click",(function(e){return i(e.target.options.pointData,e.latlng)})),this.lines.push(b)}},{key:"update",value:function(){var e=this,t=this.props,n=t.points,r=t.nodePoint;this.cleanLines(),n.forEach((function(t){e.drawLine(r,t)}))}},{key:"render",value:function(){return(0,de.jsx)("div",{})}}]),n}(c().Component)),Ge=(0,Me.withLeaflet)(Ye),Ke=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var o;(0,r.Z)(this,n),o=t.call(this,e);var a=e.defaultChecked;return o.state={checked:a},o}return(0,o.Z)(n,[{key:"onChange",value:function(e){var t=this.props.onChange;this.setState({checked:e.target.checked}),"function"===typeof t&&t(e.target.checked)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,r=e.big,o=e.currentValue,a=e.defaultChecked,s=e.disabled,i=e.text,c=e.small;return(0,de.jsxs)("div",{className:"toggle-switch".concat(r?" big-switch":c?"small-switch":""),children:[(0,de.jsx)("input",{type:"checkbox",name:n,className:"toggle-switch-checkbox",id:t,checked:o,defaultChecked:a,onChange:this.onChange.bind(this),disabled:s}),t?(0,de.jsxs)("label",{className:"toggle-switch-label",htmlFor:t,children:[(0,de.jsx)("span",{className:s?"toggle-switch-inner toggle-switch-disabled":"toggle-switch-inner","data-yes":i[0],"data-no":i[1]}),(0,de.jsx)("span",{className:s?"toggle-switch-switch toggle-switch-disabled":"toggle-switch-switch"})]}):null]})}}]),n}(i.Component);function He(e){var t={};return t.uniqueProjects=new Set,t.groupings=[],e[S].forEach((function(e){var n={};n.id=e.id,n.activities=new Set,e[E].forEach((function(e){e.activities.forEach((function(e){n.activities.add(e.id),t.uniqueProjects.add(e.id)}))})),t.groupings.push(n)})),t}function Je(e){var t,n,r={};return r.groupings=new Map,r.uniqueProjects=new Set,e[S].forEach((function(e){e[E].forEach((function(e){var t;r.groupings.has(e.id)?t=r.groupings.get(e.id):((t={}).id=e.id,t.code=e.id,t.activities=new Set),e.activities.forEach((function(e){t.activities.add(e.id),r.uniqueProjects.add(e.id)})),r.groupings.set(e.id,t)}))})),r.groupings=Array.from(r.groupings.values()),t=r.groupings,n=C.WP,t.forEach((function(e){!function(e,t){var n,r;(n=C.bm.get(t))||(n=new Map,C.bm.set(t,n)),(r=n.get(e.code))||(r=C.xg.get(t).shift(),n.set(e.code,r))}(e,n)})),r}function We(e,t,n,r,o){return(0,D.Z)(e).map((function(e){var t=function(e,t){if(t&&t.activities.length>0)return t.activities.find((function(t){return t[y]===e}))}(e,n),r={};return r.projectName=t?t[w]:o,r.ampUrl=t?t.ampUrl:"/",r.id=e,r})).sort((function(e,t){return e.projectName>t.projectName?1:-1})).map((function(e){return(0,de.jsx)("li",{children:(0,de.jsx)("a",{href:e.ampUrl,target:"_blank",rel:"noopener noreferrer",children:(0,de.jsx)(Pe(),{text:e.projectName,length:r})})},"prj_list_".concat(t,"_").concat(e.id))}))}function ze(e,t,n){var r=e.groupings.reduce((function(e,t){return e+t.activities.size}),0),o=0;return e.groupings.map((function(e){var a={},s=t.find((function(t){return t.id===e.id}));a.id=e.id.toString(),a.code=s.code?s.code:s.id,a.value=e.activities.size,n&&(a.activities=e.activities);var i=100*a.value/r,c=o;o+=i;var l=Math.round(100*(o+Number.EPSILON))/100;return a.percentage=Math.round(100*(l-c+Number.EPSILON))/100,a.label="".concat(s.name," ").concat(a.percentage,"%"),a.simpleLabel=s.name,a})).sort((function(e,t){return e.value>t.value?-1:1}))}var Ve=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"generateStructureBasedOnModalities",value:function(){var e=this.props.data.objectData,t=new Map;return e[S].forEach((function(e){e[E].forEach((function(e){if(!t.has(e.id)){var n={};n.id=e.id,n.activities=new Set,t.set(e.id,n)}e.activities.forEach((function(n){t.get(e.id).activities.add(n.id)}))}))})),(0,D.Z)(t.values())}},{key:"getModalityName",value:function(e){var t=this.props.filters.modalities,n=this.context.translations;return t.modalitiesLoaded&&e!==C.vW?t.modalities.find((function(t){return t.id===e})).name:n["amp.ssc.dashboard:NA"]}},{key:"getSectorName",value:function(e){var t=this.props.filters.sectors,n=this.context.translations;return t.sectorsLoaded?t.sectors.find((function(t){return t.id===e})).name:n["amp.ssc.dashboard:NA"]}},{key:"getTableData",value:function(e){var t=this,n=e?He(this.props.data.objectData).groupings:this.generateStructureBasedOnModalities(),r=this.props.projects.activitiesDetails;return n.map((function(n){return n.description=e?t.getSectorName(n.id):t.getModalityName(n.id),n})).sort((function(e,t){return e.description>t.description?1:-1})).map((function(n){return(0,de.jsxs)("div",{className:"content-row",children:[(0,de.jsx)("div",{children:(0,de.jsx)("span",{className:"title filter-element".concat(e?"":" alternative"),children:n.description})}),(0,de.jsx)("div",{className:"project-list",children:(0,de.jsx)("ul",{children:We(n.activities,n.id,r,C.wt,t.context.translations["amp.ssc.dashboard:NA"])})})]},n.id)}))}},{key:"render",value:function(){var e=this.context.translations,t=this.props,n=t.data,r=t.showSector,o=t.handleChangeDataToShow;return(0,de.jsxs)("div",{className:"homepage-popup",children:[(0,de.jsx)("div",{className:"header",children:(0,de.jsxs)("div",{className:"country-name",children:[(0,de.jsx)(Be.Img,{src:k(n.objectName)}),(0,de.jsx)("span",{children:n.objectName}),(0,de.jsx)(Ke,{big:!0,defaultChecked:r,id:"sectorsToggle",text:[e["amp.ssc.dashboard:Sector"],e["amp.ssc.dashboard:Modalities"]],onChange:o})]})}),(0,de.jsx)("div",{className:"content",children:this.getTableData(r)})]})}}]),n}(i.Component);Ve.contextType=ue;var Xe=(0,h.connect)((function(e){return{filters:{sectors:{sectors:e.filtersReducer.sectors,sectorsLoaded:e.filtersReducer.sectorsLoaded},modalities:{modalities:e.filtersReducer.modalities,modalitiesLoaded:e.filtersReducer.modalitiesLoaded}},projects:{activitiesDetails:e.reportsReducer.activitiesDetails,activitiesDetailsLoaded:e.reportsReducer.activitiesDetailsLoaded}}}),(function(e){return(0,l.bindActionCreators)({},e)}))(Ve),_e=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var o;return(0,r.Z)(this,n),(o=t.call(this,e)).state={zoom:3,lat:-6.227933930268672,lng:48.33984375,selectedCountries:[],showSector:!0,mapCentered:!1},o.theMap=null,o}return(0,o.Z)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.filteredProjects;e.filteredProjects!==t&&this.setState((function(e){var n=t.map((function(e){return e.id}));return{selectedCountries:e.selectedCountries.filter((function(e){return n.includes(e)}))}}))}},{key:"handleChangeDataToShow",value:function(e){this.setState({showSector:e})}},{key:"handleCenterClick",value:function(){var e=this;this.setState({mapCentered:!1},(function(){return e.centerMap(e.theMap)}))}},{key:"onBubbleClick",value:function(e){this.setState((function(t){return{selectedCountries:[].concat((0,D.Z)(t.selectedCountries),[e.target.options.dataPoint.objectData.id])}}))}},{key:"getPoints",value:function(e,t){var n=this,r=[],o=this.state,a=o.selectedCountries,s=o.showSector;e.forEach((function(e){var t=new Re.LatLng(e.latitude,e.longitude),o=a.includes(e.objectData.id)?C.SJ:C.S9;r.push((0,de.jsxs)(Me.CircleMarker,{center:t,radius:8,stroke:!0,color:o,opacity:.7,weight:2,fill:!0,fillColor:o,fillOpacity:.9,onClick:function(e){return n.onBubbleClick(e)},onPopupClose:function(e){return n.popUpClosed(e)},dataPoint:e,children:[" ",(0,de.jsx)(Me.Popup,{children:(0,de.jsx)(Xe,{data:e,showSector:s,handleChangeDataToShow:n.handleChangeDataToShow.bind(n)})})]},e.objectData.id))}));var i=new Re.LatLng(t.latitude,t.longitude);return r.push((0,de.jsx)(Me.CircleMarker,{dashArray:"10 10",center:i,radius:20,stroke:!0,color:"#006600",opacity:.3,weight:2,fill:!0,fillColor:"#006600",fillOpacity:.3},"centralPoint")),r}},{key:"popUpClosed",value:function(e){this.setState({showSector:!0}),this.setState((function(t){return{selectedCountries:t.selectedCountries.filter((function(t){return t!==e.target.options.dataPoint.objectData.id}))}}))}},{key:"_generateDataPoints",value:function(e){var t=this.state.selectedCountries,n=this.props,r=n.filteredProjects,o=n.countries;r.forEach((function(n){var r=o.find((function(e){return e.id===n.id}));if(r&&r[x]&&r[x][j]){var a=r[x][j],s={};s.color=t.includes(n.id)?C.fz:C.um,s.latitude=a.lat,s.longitude=a.lon,s.objectData=n,s.objectName=r.name,e.push(s)}}))}},{key:"centerMap",value:function(e){var t=this.props.filteredProjects,n=this.state.mapCentered;if(e&&!n&&t&&t.length>0){var r=[];this._generateDataPoints(r);var o=[];r.forEach((function(e){var t=new Re.LatLng(e.latitude,e.longitude);o.push(t)}));var a=new Re.LatLngBounds(o);a.isValid()&&(e.leafletElement.fitBounds(a),this.setState({mapCentered:!0}))}}},{key:"render",value:function(){var e=this,t=this.state,n=t.lat,r=t.lng,o=t.zoom,a=[n,r],s=this.context.translations,i=this.props,c=i.filteredProjects,l=i.countries,d={latitude:18.567634,longitude:-72.315361},u=[];return c&&c.length>0&&l&&l.length>0&&this._generateDataPoints(u),(0,de.jsxs)(Me.Map,{className:"map-container",center:a,zoom:o,maxZoom:4,minZoom:1,ref:function(t){e.theMap=t,e.centerMap(t)},zoomControl:!1,children:[(0,de.jsx)(Me.TileLayer,{attribution:'&copy <a href="https://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})," ",(0,de.jsx)(Me.ZoomControl,{zoomInTitle:s["amp.ssc.dashboard:zoom-in"],zoomOutTitle:s["amp.ssc.dashboard:zoom-out"]}),(0,de.jsx)(Ue(),{position:"topleft",className:"leaflet-control-zoom leaflet-bar",children:(0,de.jsx)("a",{onClick:this.handleCenterClick.bind(this),children:(0,de.jsx)("img",{src:"data:image/png;base64,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",className:"map-control",alt:s["amp.ssc.dashboard:center-map"],title:s["amp.ssc.dashboard:center-map"]})})}),(0,de.jsx)(Ge,{points:u,nodePoint:d}),this.getPoints(u,d)]})}}]),n}(i.Component);_e.contextType=ue,_e.defaultProps={filteredProjects:[],countries:[]};var qe=(0,h.connect)((function(e){return{filters:{sectors:{sectors:e.filtersReducer.sectors,sectorsLoaded:e.filtersReducer.sectorsLoaded},countries:{countries:e.filtersReducer.countries,countriesLoaded:e.filtersReducer.countriesLoaded}}}}),(function(e){return(0,l.bindActionCreators)({},e)}))(_e),$e=function(e){var t=e.additionalClass,n=e.show,r=e.children;return n?(0,de.jsx)("div",{className:"country-popup-wrapper ".concat(t),children:(0,de.jsx)("div",{className:"container-fluid",children:r})}):null},et=$e;$e.defaultProps={additionalClass:""};var tt=n(12741),nt=n(96234),rt=function(e){var t=e.countriesMessage,n=e.updateCountriesMessage,r=(0,i.useContext)(ue),o=(0,i.useState)(t),a=(0,nt.Z)(o,2),s=a[0],c=a[1];return(0,i.useEffect)((function(){var e=setTimeout((function(){s&&(n&&n(!1),c(!1))}),1e4);return function(){return clearTimeout(e)}}),[s,n]),(0,de.jsxs)("div",{children:[!s&&(0,de.jsx)("h2",{children:"\xa0"}),s&&(0,de.jsx)("div",{className:"alert alert-primary",role:"alert",style:{background:"#FFFFFF",color:"#000000","font-weight":"bold","margin-bottom":"50px"},children:(0,de.jsx)("p",{children:r.translations["amp.ssc.dashboard:six"]})})]})},ot=rt;rt.defaultProps={countriesMessage:!1};var at=n(17985),st=n(6596),it=n.n(st),ct=function(e){var t,n=new(it().Workbook);Array.isArray(e)?(e.forEach((function(e,t){lt(n,e.sheetName?e.sheetName:"Sheet ".concat(t),e)})),t=e[0].title):(t=e.title,lt(n,e.sheetName?e.sheetName:"Sheet 1",e)),n.xlsx.writeBuffer().then((function(e){var n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=window.URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download="".concat(t,".xlsx"),o.click(),window.URL.revokeObjectURL(r)}))},lt=function(e,t,n){var r=n.title,o=n.filters,a=n.columns,s=n.rows,i=n.source;e.addWorksheet(t);var c=e.getWorksheet(t);c.mergeCells(1,1,1,a.length),c.getCell("A1").value=r,c.getCell("A1").font={name:"Calibri",family:4,size:18,bold:!0,color:{argb:"00FFFFFF"}},c.getCell("A1").alignment={vertical:"middle",horizontal:"center"},c.getCell("A1").fill={type:"pattern",pattern:"solid",fgColor:{argb:"00273142"}},c.getCell("A1").border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},c.addRow(),o.forEach((function(e){e.values.length>0&&(c.addRow([e.name,e.values]),c.lastRow.getCell(1).font={name:"Calibri",family:4,size:11,bold:!0})})),c.addRow(),c.columns=a,c.addRow();var l=c.lastRow;a.forEach((function(e){l.getCell(e.key).value=e.headerTitle,l.getCell(e.key).font={name:"Calibri",family:4,size:11,bold:!0},l.getCell(e.key).alignment={vertical:"middle",horizontal:"center"},l.getCell(e.key).fill={type:"pattern",pattern:"solid",fgColor:{argb:"00cccccc"}},l.getCell(e.key).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})),s.forEach((function(e){c.addRow(e);var t=c.lastRow;if(e.cellsStyles)for(var n in e.cellsStyles)if(e.cellsStyles.hasOwnProperty(n)){var r=e.cellsStyles[n],o=t.getCell(n);for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a])}if(e.mergeCells){var s=c.rowCount;c.mergeCells(s,e.mergeCells.start,s,e.mergeCells.end)}})),c.eachRow((function(e,t){t>o.length+2&&a.forEach((function(t){e.getCell(t.key).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}))})),i&&(c.addRow(),c.addRow(["Source: ".concat(i)]),c.lastRow.font={name:"Calibri",family:4,size:11,bold:!0})};function dt(e,t,n){var r=[],o=t.countries.countries,a=t.sectors.sectors,s=t.modalities.modalities,i=n.selectedCountries,c=n.selectedYears,l=n.selectedSectors,d=n.selectedModalities;return i&&i.length>0&&r.push({name:e["amp.ssc.dashboard:Country"],values:i.map((function(e){return o.find((function(t){return t.id===e})).name})).join(" | ")}),c&&c.length>0&&r.push({name:e["amp.ssc.dashboard:Year"],values:c.join(" | ")}),l&&l.length>0&&r.push({name:e["amp.ssc.dashboard:Sector"],values:l.map((function(e){return a.find((function(t){return t.id===e})).name})).join(" | ")}),d&&d.length>0&&r.push({name:e["amp.ssc.dashboard:Modalities"],values:d.map((function(e){return s.find((function(t){return t.id===e})).name})).join(" | ")}),r}var ut=n(80753),ht=n(90844),pt=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var o;return(0,r.Z)(this,n),(o=t.call(this,e)).state={isLoading:!0},o.handleMessage=o.handleMessage.bind((0,ut.Z)(o)),o}return(0,o.Z)(n,[{key:"printIframe",value:function(e){if(!this.state.isLoading){var t=this.context.translations,n=this.props.countriesForExport,r=document.frames?document.frames[e]:document.getElementById(e),o=r.contentWindow||r;return this.cleanPrintNodes(r),r.focus(),(0,at.Us)(t["amp.ssc.dashboard:Sector-Analysis"],"countries-charts","print-friendly-dummy-container",r,n),o.print(),!1}}},{key:"cleanPrintNodes",value:function(e){for(var t=e.contentDocument.getElementById("print-friendly-dummy-container");t.firstChild;)t.removeChild(t.firstChild)}},{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleMessage)}},{key:"handleMessage",value:function(e){"chart-loaded"===e.data.action&&this.setState({isLoading:!1})}},{key:"render",value:function(){var e=this;return(0,de.jsxs)(de.Fragment,{children:[(0,de.jsx)("iframe",{id:"countryChart",src:"".concat((0,ht.N)(),"/ssc/print"),style:{display:"none"},title:"Country chart"}),(0,de.jsx)("li",{className:"print",onClick:function(){return e.printIframe("countryChart")},children:"print"})]})}}]),n}(c().Component),At=pt;pt.contextType=ue;var ft=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"exportToImage",value:function(e){var t=this.props,n=t.printTitle,r=t.printChartId,o=t.printFilters,a=t.countriesForExport,s=t.onlyOneCountry;0===a.length||s?(0,at.xg)(n,r,o,e,!0,"print-dummy-container",!0).then((function(){})).catch((function(e){alert("Error while printing")})):(0,at.pB)(n,r,o,e,a)}},{key:"exportChartToXls",value:function(){var e=this.props.getExportData;ct(e())}},{key:"render",value:function(){var e=this.props,t=e.onlyOneCountry,n=e.countriesForExport,r=e.closeLargeCountryPopinAndClearFilter,o=this.context.translations;return(0,de.jsxs)("div",{className:"export-wrapper ".concat(t?"single-country":""),children:[(0,de.jsxs)("ul",{children:[(0,de.jsx)("li",{className:"png",onClick:this.exportToImage.bind(this,C._G),"data-tip":o["amp.ssc.dashboard:sectors-png-tooltip"],"data-for":"download-png",children:"png"}),(0,de.jsx)("li",{className:"xls","data-tip":o["amp.ssc.dashboard:sectors-xls-tooltip"],"data-for":"download-xls",onClick:this.exportChartToXls.bind(this),children:"xls"}),(0,de.jsx)(At,{countriesForExport:n}),(0,de.jsx)("li",{className:"return-link",onClick:function(){return r()},children:"X"})]}),(0,de.jsx)(ye(),{place:"bottom",multiline:!0,id:"download-png",className:"download-checkbox-tooltip"}),(0,de.jsx)(ye(),{place:"bottom",multiline:!0,id:"download-xls",className:"download-checkbox-tooltip"})]})}}]),n}(i.Component);ft.contextType=ue;var gt=ft,mt=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onCountrySelected",value:function(e){var t=parseInt(e.target.value,10),n=this.props,r=n.countriesForExport;(0,n.countriesForExportChanged)(P(t,r))}},{key:"render",value:function(){var e=this.context.translations,t=this.props,n=t.country,r=t.projectByGroupings,o=t.columnCount,a=t.countriesForExport,s=t.chartSelected;return n?(0,de.jsxs)("div",{className:"header row",children:[(0,de.jsxs)("div",{className:"col-md-".concat(1===o?"4":"5","  col-xs-5 country-name"),children:[(0,de.jsx)(Fe,{countryName:n.name}),n.name]}),(0,de.jsxs)("div",{className:"col-md-".concat(1===o?"2":"3"," col-xs-3 projects"),children:[(0,de.jsx)("span",{className:"count",children:r.uniqueProjects.size.toString().padStart(C.io,C.tU)}),(0,de.jsx)("span",{className:"label",children:e["amp.ssc.dashboard:sectors-project"]})]}),(0,de.jsxs)("div",{className:"col-md-".concat(1===o?"3":"4"," col-xs-4 projects"),children:[(0,de.jsx)("span",{className:"count",children:r.groupings.length.toString().padStart(C.io,C.tU)}),(0,de.jsx)("span",{className:"label",children:e["amp.ssc.dashboard:".concat(s===C.ah?"sectors-sector":"modalities-modality","-types")]}),1!==o&&(0,de.jsx)("div",{className:"export-checkbox",children:(0,de.jsxs)("div",{className:"custom-checkbox",children:[(0,de.jsx)("input",{type:"checkbox",id:"chk-country-column-".concat(n.id),value:n.id,onClick:this.onCountrySelected.bind(this),checked:a.includes(n.id)}),(0,de.jsx)("label",{htmlFor:"chk-country-column-".concat(n.id),"data-tip":e["amp.ssc.dashboard:sectors-checkbox-tooltip"],"data-for":"download-checkbox"})]})})]}),(0,de.jsx)(ye(),{place:"bottom",multiline:!0,id:"download-checkbox",className:"download-checkbox-tooltip"})]}):null}}]),n}(i.Component);mt.contextType=ue;var vt=mt,Ct=n(70913),yt=function(e){var t=e.titleLabel,n=e.color,r=e.values,o={backgroundColor:n};return(0,de.jsxs)("div",{className:"generic-tooltip",children:[(0,de.jsx)("div",{className:"tooltip-header",style:o,children:t}),r&&(0,de.jsx)("div",{className:"inner",children:r.map((function(e){return(0,de.jsx)("div",{className:"row",children:(0,de.jsxs)("div",{className:"col-md-12",children:["".concat(e.simpleLabel),(0,de.jsxs)("span",{className:"percentage",children:[e.percentage,"%"]})]})},e.id)}))})]})},wt=function(e){var t=e.data,n=e.chartSelected;return(0,de.jsx)("div",{className:"custom-legend",children:(0,de.jsx)("div",{className:"custom-legend-inner",children:(0,de.jsx)("ul",{className:t.length>3?"two-rows":"",children:t.map((function(e){return(0,de.jsx)("li",{children:(0,de.jsxs)("div",{className:"row",children:[(0,de.jsx)("div",{className:"col-md-1 col-xs-1",children:(0,de.jsx)("span",{className:"symbol",style:{border:"2px solid ".concat(C.bm.get(n).get(e.code))}})}),(0,de.jsxs)("div",{className:"col-md-9 col-xs-9 label",children:[(0,de.jsx)(Pe(),{text:e.simpleLabel,length:40,tail:"..."}),(0,de.jsx)("span",{className:"label percentage",children:"".concat(e.percentage,"%")})]})]})},C.bm.get(n).get(e.code))}))})})})},xt=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var o;return(0,r.Z)(this,n),(o=t.call(this,e)).colorMap=new Map,o}return(0,o.Z)(n,[{key:"getColor",value:function(e){var t=this.props.chartSelected;return C.bm.get(t).get(e.code)}},{key:"getChart",value:function(e){var t=this.props.chartSelected,n={};return n.chart=(0,de.jsx)(Ct.ResponsivePie,{data:e,margin:{top:5,right:5,bottom:5,left:5},innerRadius:.8,colors:this.getColor.bind(this),borderWidth:1,sortByValue:!1,borderColor:{from:"color",modifiers:[["darker",.2]]},enableRadialLabels:!1,radialLabelsSkipAngle:12,radialLabelsTextXOffset:6,radialLabelsTextColor:"#333333",radialLabelsLinkOffset:0,radialLabelsLinkDiagonalLength:16,radialLabelsLinkHorizontalLength:24,radialLabelsLinkStrokeWidth:1,radialLabelsLinkColor:{from:"color"},enableSlicesLabels:!1,slicesLabelsSkipAngle:10,slicesLabelsTextColor:"#333333",animate:!0,motionStiffness:90,motionDamping:15,tooltip:function(e){return(0,de.jsx)(yt,{color:e.color,titleLabel:e.label,values:e.otherValues})},theme:{tooltip:{container:{padding:"0"}}}}),n.legend=(0,de.jsx)(wt,{data:e,chartSelected:t}),n}},{key:"render",value:function(){var e=this.props,t=e.chartData,n=e.columnCount,r=this.context.translations,o=t.slice(0,C.rP).sort((function(e,t){return e.percentage<t.percentage})),a=t.slice(C.rP,t.length);if(a.length>0){var s={},i=N(r["amp.ssc.dashboard:sectors-others"]);s.id=C.Sw,s.value=0,s.percentage=0,s.code=C.wU,s.otherValues=a,a.forEach((function(e){s.value+=e.value,s.percentage+=e.percentage})),s.label="".concat(i," ").concat(s.percentage,"%"),s.simpleLabel=i,o.push(s)}var c=this.getChart(o,n);return(0,de.jsxs)("div",{className:"row",children:[(0,de.jsx)("div",{className:"chart-container single-50 float-left",children:c.chart}),c.legend&&(0,de.jsx)("div",{className:"chart-legend single-50 float-right",children:c.legend})]})}}]),n}(i.Component);xt.contextType=ue;var bt=xt,jt=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var o;return(0,r.Z)(this,n),(o=t.call(this)).state={ellipsisSize:o.calculateEllipsis(),currentWindowWith:window.innerWidth},o}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize.bind(this))}},{key:"render",value:function(){var e=this.props,t=e.projects,n=e.activitiesDetails,r=this.state.ellipsisSize,o=this.context.translations;return(0,de.jsxs)("div",{className:"popup-footer",children:[(0,de.jsx)("div",{className:"col-md-1",children:(0,de.jsx)("div",{className:"label",children:o["amp.ssc.dashboard:sectors-projects"]})}),(0,de.jsx)("div",{className:"col-md-11 project-list",children:(0,de.jsx)("ul",{children:We(t,"country-popup",n,r,o["amp.ssc.dashboard:NA"])})})]})}},{key:"onResize",value:function(){if(this.state.currentWindowWith!==window.innerWidth)return{ellipsisSize:this.calculateEllipsis(),currentWindowWith:window.innerWidth}}},{key:"calculateEllipsis",value:function(){return Math.floor(C.pj/C.g1*window.innerWidth)}}]),n}(i.Component);jt.contextType=ue;var St=jt,Et=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e,t,n=this.props,r=n.project,o=n.columnCount,a=n.borderClass,s=n.lineClass,i=n.countriesForExportChanged,c=n.countriesForExport,l=n.chartSelected,d=this.props.filters.countries.countries,u=this.props.filters.sectors.sectors,h=this.props.filters.modalities.modalities,p=this.props.projects.activitiesDetails;l===C.ah?(e=He(r),t=u):(e=Je(r),t=h);var A=ze(e,t),f=d.find((function(e){return e.id===r.id}));return(0,de.jsxs)("div",{className:"country-popup-all country-popup-".concat(o," ").concat(a||""," ").concat(s||""),children:[(0,de.jsx)(vt,{country:f,projectByGroupings:e,columnCount:o,countriesForExportChanged:i,countriesForExport:c,chartSelected:l}),(0,de.jsx)(bt,{columnCount:o,chartData:A,chartSelected:l}),1===o&&(0,de.jsx)(St,{projects:(0,D.Z)(e.uniqueProjects),activitiesDetails:p})]})}}]),n}(i.Component);Et.contextType=ue;var Dt=(0,h.connect)((function(e){return{filters:{sectors:{sectors:e.filtersReducer.sectors},modalities:{modalities:e.filtersReducer.modalities},countries:{countries:e.filtersReducer.countries}},projects:{activitiesDetails:e.reportsReducer.activitiesDetails}}}),(function(e){return(0,l.bindActionCreators)({},e)}))(Et),Nt=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"getLeft",value:function(e,t){if(1===e)return"left";var n=this.getUpperLower(e,t);return n?"".concat(n,"-left"):""}},{key:"getRight",value:function(e,t){if(1===e)return"right";var n=this.getUpperLower(e,t);return n?"".concat(n,"-right"):""}},{key:"getUpperLower",value:function(e,t){var n=Math.min(1,e),r=Math.max(1,e);return t===n?"upper":t===r?"lower":null}},{key:"getCountryPopup",value:function(e){var t=this,n=this.props,r=n.countriesForExportChanged,o=n.countriesForExport,a=n.chartSelected;return e.map((function(n,s){var i=B(n.length),c=C.PU/i,l=Math.min(1,n.length),d=Math.max(1,n.length);return(0,de.jsx)("div",{id:"country-row".concat(s),className:"row ".concat(s%2===0&&e.length>1?" bottomBorder":""),children:n.map((function(u,h){var A=h+1===l?t.getLeft(e.length,s+1):h+1===d?t.getRight(e.length,s+1):"",f=h+1===1||h+1===2&&n.length>2?"line":"";return(0,de.jsx)("div",{className:"chart-column col-md-".concat(c),id:"".concat(C.TM).concat(u.id),children:(0,de.jsx)(Dt,(0,p.Z)((0,p.Z)((0,p.Z)({project:u,columnCount:i,chartSelected:a},i>1?{borderClass:A}:{}),i>1?{lineClass:f}:{}),{},{countriesForExportChanged:r,countriesForExport:o}))},u.id)}))},(0,tt.nanoid)())}))}},{key:"render",value:function(){var e=this.context.translations,t=this.props,n=t.rows,r=t.closeLargeCountryPopinAndClearFilter,o=t.columnCount,a=t.countriesForExport,s=t.countriesForExportChanged,i=t.getExportData,c=t.chartSelected,l=t.countriesMessage,d=t.updateCountriesMessage;return(0,de.jsxs)("div",{children:[(0,de.jsx)(ot,{countriesMessage:l,updateCountriesMessage:d}),(0,de.jsx)(gt,{closeLargeCountryPopinAndClearFilter:r,onlyOneCountry:1===o,printTitle:e["amp.ssc.dashboard:Sector-Analysis"],printFilters:[],printChartId:"countries-charts",countriesForExport:a,countriesForExportChanged:s,getExportData:i,chartSelected:c}),(0,de.jsx)("div",{className:"countries-charts",id:"countries-charts",children:this.getCountryPopup(n)})]})}}]),n}(i.Component);Nt.contextType=ue,Nt.defaultProps={countriesMessage:!1};var kt=function(e){var t=e.show,n=e.projects,r=e.closeLargeCountryPopinAndClearFilter,o=e.countriesForExport,a=e.countriesForExportChanged,s=e.getExportData,i=e.chartSelected,c=e.countriesMessage,l=e.updateCountriesMessage;if(!t)return null;if(!n||0===n.length)return null;var d=B(n.length),u=[];u.push(n.slice(0,d));var h=n.slice(d,n.length);return h.length>0&&u.push(h),(0,de.jsx)("div",{className:"country-popup-wrapper".concat(1===d?"":" country".concat(d)),children:(0,de.jsx)("div",{className:"container-fluid",children:(0,de.jsx)(Nt,{countriesMessage:c,updateCountriesMessage:l,rows:u,columnCount:d,closeLargeCountryPopinAndClearFilter:r,countriesForExport:o,countriesForExportChanged:a,getExportData:s,chartSelected:i})})})},Pt=kt;kt.contextType=ue,kt.defaultProps={countriesMessage:!1};var Bt=function(e){var t=e.message,n=e.onClose;return(0,de.jsxs)("div",{className:"simple-popup",children:[(0,de.jsx)("a",{className:"x-close",onClick:function(e){n(e)},children:"x"}),t]})},Lt=n(39887),Ft=n(58234),It={settings:{"amount-format":{"number-divider":"1"},"calendar-id":4},filters:{}},Zt=function(){return function(e){e({type:ee})}},Tt=function(e){return function(t){t({type:_}),e.selectedSectors.length>0&&(It.filters[C.sC]=e.selectedSectors),e.selectedModalities.length>0&&(It.filters[C.IN]=e.selectedModalities),e.selectedCountries.length>0&&(It.filters[C.JP]=e.selectedCountries),e.selectedYears&&(It.info=e.selectedYears);var n="".concat(C.BB);return(0,Ft.a)({url:n,body:It}).then((function(e){return t(function(e){return{type:q,payload:e}}(e))})).catch((function(e){return t(function(e){return{type:$,error:e}}(e))}))}},Mt=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var o;return(0,r.Z)(this,n),(o=t.call(this,e)).state={key:"Country",selectedFilters:{selectedYears:[],selectedCountries:[],selectedSectors:[],selectedModalities:[]}},o}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.resetFilters()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.dataDownloadLoaded,n=e.dataDownload,r=e._dataDownloaded,o=e.filters;if(t){var a=n.sscDashboardXlsResultRows;if(a.length>0){var s=this.state.selectedFilters,i=this.context.translations,c={columns:[]};c.source=i["amp.ssc.dashboard:page-title"],c.title=i["amp.ssc.dashboard:download-title"],c.filters=[],c.columns.push({headerTitle:i["amp.ssc.dashboard:sectors-project"],key:"activity",width:100}),c.columns.push({headerTitle:i["amp.ssc.dashboard:Sector"],key:"sector",width:50}),c.columns.push({headerTitle:i["amp.ssc.dashboard:Modality"],key:"modality",width:50}),c.columns.push({headerTitle:i["amp.ssc.dashboard:Country"],key:"country",width:50}),c.columns.push({headerTitle:i["amp.ssc.dashboard:Year"],key:"year",width:30}),c.rows=a,c.filters=dt(i,o,s),ct(c),r()}}}},{key:"handleSelectedCountryDataDownloadChanged",value:function(e){this.updateFilterState("selectedCountries",e)}},{key:"handleSelectedSectorDataDownloadChanged",value:function(e){this.updateFilterState("selectedSectors",e)}},{key:"handleSelectedModalityDataDownloadChanged",value:function(e){this.updateFilterState("selectedModalities",e)}},{key:"handleSelectedYearDataDownloadChanged",value:function(e){this.updateFilterState("selectedYears",e)}},{key:"setKey",value:function(e){this.setState({key:e})}},{key:"getMessage",value:function(){var e=this.props,t=e.dataDownload,n=e.dataDownloadLoaded,r=e.error,o=this.context.translations,a=null;if(t){var s=t.sscDashboardXlsResultRows;n&&0===s.length&&(a=o["amp.ssc.dashboard:no-data-xls"])}return r&&(a=NaN),a}},{key:"getTitle",value:function(e,t,n){var r=this.context.translations;return"".concat(r[e]," (").concat(t.length,"/").concat(n.length,")")}},{key:"resetFilters",value:function(){var e=this.props,t=e.selectedFilters,n=e._dataDownloaded;t&&(this.setState({selectedFilters:t}),n())}},{key:"updateFilterState",value:function(e,t){this.setState((function(n){var r=(0,p.Z)({},n.selectedFilters);return r[e]=t,{selectedFilters:r}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.filters,r=t.filtersRestrictions,o=t.settings,a=t.toggleDataDownload,s=t._downloadData,i=this.context.translations,c=this.state,l=c.key,d=c.selectedFilters,u=[],h=d.selectedYears,p=void 0===h?[]:h,A=d.selectedCountries,f=void 0===A?[]:A,g=d.selectedSectors,m=void 0===g?[]:g,v=d.selectedModalities,C=void 0===v?[]:v,y=n.sectors.sectors,w=n.countries.countries,x=n.modalities.modalities;return w.length>0&&r.countriesWithData.length>0&&(w=w.filter((function(e){return r.countriesWithData.includes(e.id)}))),F(u,o,r.mostRecentYear),(0,de.jsxs)("div",{className:"data-download-wrapper",children:[(0,de.jsx)("div",{className:"export-wrapper",children:(0,de.jsx)("ul",{children:(0,de.jsx)("li",{className:"return-link",onClick:function(){return a()},children:"X"})})}),(0,de.jsxs)("div",{className:"data-download",children:[(0,de.jsxs)(Lt.Tabs,{id:"filters-tab",activeKey:l,transition:!1,onSelect:function(t){return e.setKey(t)},children:[(0,de.jsx)(Lt.Tab,{eventKey:"Country",title:this.getTitle("amp.ssc.dashboard:Country",f,w),children:(0,de.jsx)("div",{className:"download-content",children:(0,de.jsx)(je,{options:w,filterName:"amp.ssc.dashboard:Country-download",filterId:"ddCountryDownload",sortData:!0,selectedOptions:f,label:"amp.ssc.dashboard:Sector",onChange:this.handleSelectedCountryDataDownloadChanged.bind(this)})})}),(0,de.jsx)(Lt.Tab,{eventKey:"sector",title:this.getTitle("amp.ssc.dashboard:Sector",m,y),children:(0,de.jsx)("div",{className:"download-content",children:(0,de.jsx)(je,{options:y,filterName:"amp.ssc.dashboard:Sector-download",filterId:"ddSectorDownload",selectedOptions:m,label:"amp.ssc.dashboard:Sector",onChange:this.handleSelectedSectorDataDownloadChanged.bind(this)})})}),(0,de.jsx)(Lt.Tab,{eventKey:"modality",title:this.getTitle("amp.ssc.dashboard:Modality",C,x),children:(0,de.jsx)("div",{className:"download-content",children:(0,de.jsx)(je,{options:x,filterName:"amp.ssc.dashboard:Modality-download",filterId:"ddModalityDownload",selectedOptions:C,label:"amp.ssc.dashboard:Modality",onChange:this.handleSelectedModalityDataDownloadChanged.bind(this)},"2222")})}),(0,de.jsx)(Lt.Tab,{eventKey:"year",title:this.getTitle("amp.ssc.dashboard:Year",p,u),children:(0,de.jsx)("div",{className:"download-content",children:(0,de.jsx)(je,{options:u,filterName:"amp.ssc.dashboard:Year-download",filterId:"ddYearDownload",selectedOptions:p,label:"amp.ssc.dashboard:Year",onChange:this.handleSelectedYearDataDownloadChanged.bind(this)})})})]}),(0,de.jsxs)("div",{className:"row",children:[(0,de.jsx)("div",{className:"col-md-2 reset-link data-link",children:(0,de.jsx)("span",{onClick:function(){return e.resetFilters()},children:i["amp.ssc.dashboard:reset"]})}),(0,de.jsxs)("div",{className:"col-md-8 download-error",children:[" ",this.getMessage()]}),(0,de.jsxs)("div",{className:"col-md-2 download-link data-link",children:[" ",(0,de.jsx)("span",{onClick:function(){return s(d)},children:i["amp.ssc.dashboard:Download"]})]})]})]})]})}}]),n}(i.Component),Rt=(0,h.connect)((function(e){return{dataDownloadPending:e.dataDownloadReducer.dataDownloadPending,dataDownloadLoaded:e.dataDownloadReducer.dataDownloadLoaded,dataDownload:e.dataDownloadReducer.dataDownload,error:e.dataDownloadReducer.error}}),(function(e){return(0,l.bindActionCreators)({_downloadData:Tt,_dataDownloaded:Zt},e)}))(Mt);Mt.contextType=ue,Mt.defaultProps={error:null,dataDownload:null,dataDownloadLoaded:!1};var Ot=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"getExportData",value:function(){var e=this.context.translations,t=this.props,n=t.filteredProjects,r=t.countriesForExport,o=t.chartSelected,a=t.filters,s=t.projects,i=t.selectedFilters,c=a.sectors.sectors,l=a.modalities.modalities,d=a.countries.countries,u=s.activitiesDetails,h=o===C.WP,p={};p.title=h?e["amp.ssc.dashboard:Modalities-Analysis"]:e["amp.ssc.dashboard:Sector-Analysis"],p.source=e["amp.ssc.dashboard:page-title"],p.filters=dt(e,a,i),p.columns=[],p.columns.push({headerTitle:e["amp.ssc.dashboard:Country"],key:"country",width:30}),h?p.columns.push({headerTitle:e["amp.ssc.dashboard:Modalities"],key:"modality",width:30}):p.columns.push({headerTitle:e["amp.ssc.dashboard:Sector"],key:"sector",width:30});var A=e["amp.ssc.dashboard:project-percentage"].replace("{filter}",e["amp.ssc.dashboard:".concat(h)?"Modality":0]);return p.columns.push({headerTitle:A,key:"percentage",width:30}),p.columns.push({headerTitle:e["amp.ssc.dashboard:project-count"],key:"count",width:30}),p.columns.push({headerTitle:e["amp.ssc.dashboard:project-xls"],key:"activities",width:100}),p.rows=[],n.forEach((function(e){(0===r.length||r.includes(e.id))&&(h?ze(Je(e),l,!0):ze(He(e),c,!0)).forEach((function(t){var n={};n.country=d.filter((function(t){return t.id===e.id}))[0].name,n[h?"modality":"sector"]=t.simpleLabel,n.percentage=t.percentage,n.count=t.value,n.activities=(0,D.Z)(t.activities).map((function(e){return u.activities.find((function(t){return t[y]===e}))[w]})).join("|"),p.rows.push(n)}))})),p}},{key:"render",value:function(){var e=this.props,t=e.filters,n=e.projects,r=e.countriesForExport,o=e.countriesForExportChanged,a=e.selectedFilters,s=e.filtersRestrictions,i=e.handleSelectedFiltersChange,c=e.chartSelected,l=e.showLargeCountryPopin,d=e.closeLargeCountryPopinAndClearFilter,u=e.filteredProjects,h=e.showEmptyProjects,p=e.onNoProjectsModalClose,A=e.showDataDownload,f=e.settings,g=e.toggleDataDownload,m=e.countriesMessage,v=e.updateCountriesMessage,y=t.countries.countries,w=t.sectors.sectors,x=t.modalities.modalities,b=n.activitiesDetails,j=this.context.translations;return(0,de.jsxs)("div",{className:"col-md-10 col-md-offset-2 map-wrapper",children:[c!==C.ij&&(0,de.jsx)(Te,{selectedFilters:a,filtersRestrictions:s,handleSelectedFiltersChange:i,chartSelected:c}),(0,de.jsx)(qe,{filteredProjects:u,countries:y}),(0,de.jsx)(et,{show:A,additionalClass:"data-container",children:(0,de.jsx)(Rt,{selectedFilters:a,filtersRestrictions:s,chartSelected:c,filters:t,settings:f,toggleDataDownload:g})}),(0,de.jsx)(Pt,{countriesMessage:m,updateCountriesMessage:v,show:l,projects:u,closeLargeCountryPopinAndClearFilter:d,countriesForExport:r,countriesForExportChanged:o,sectors:w,modalities:x,activitiesDetails:b,countries:y,getExportData:this.getExportData.bind(this),chartSelected:c}),(0,de.jsx)(et,{show:h,additionalClass:c===C.ij?"data-container":"",children:(0,de.jsx)(Bt,{message:j["amp.ssc.dashboard:no-data"],onClose:p})})]})}}]),n}(i.Component);Ot.contextType=ue;var Qt=(0,h.connect)((function(e){return{settings:{settings:e.startupReducer.settings,settingsLoaded:e.startupReducer.settingsLoaded},filters:{sectors:{sectors:e.filtersReducer.sectors,sectorsLoaded:e.filtersReducer.sectorsLoaded},countries:{countries:e.filtersReducer.countries,countriesLoaded:e.filtersReducer.countriesLoaded},modalities:{modalities:e.filtersReducer.modalities,modalitiesLoaded:e.filtersReducer.modalitiesLoaded}},projects:{activities:e.reportsReducer.activities,activitiesDetails:e.reportsReducer.activitiesDetails,activitiesLoaded:e.reportsReducer.activitiesLoaded}}}),(function(e){return(0,l.bindActionCreators)({loadActivitiesDetails:ae},e)}))(Ot);Ot.defaultProps={chartSelected:C.yr,filteredProjects:[],countriesForExport:[],selectedFilters:{selectedYears:[],selectedCountries:[],selectedSectors:[],selectedModalities:[]},showDataDownload:!1,countriesMessage:!1};var Ut=function(){return function(e){return e({type:I}),(0,oe.aV)({url:C.Vs}).then((function(t){return e(function(e){return{type:Z,payload:(t=e.items.primary,t.map((function(e){return e.name=N(e.name),e})))};var t}(t))})).catch((function(t){return e(function(e){return{type:T,error:e}}(t))}))}},Yt=function(){return function(e){return e({type:M}),(0,oe.aV)({url:C.e_}).then((function(t){return e(function(e){var t=e.items.locations.filter((function(e){return e[x]&&e[x].template&&e.id!==C.vW}));return{type:R,payload:t}}(t))})).catch((function(t){return e(function(e){return{type:O,error:e}}(t))}))}},Gt=function(){return function(e){return e({type:Q}),(0,oe.aV)({url:C.cE}).then((function(t){return e({type:U,payload:t.items.values})})).catch((function(t){return e(function(e){return{type:Y,error:e}}(t))}))}},Kt=n(46600),Ht=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var o;return(0,r.Z)(this,n),(o=t.call(this,e)).countriesWithData=[],o.state={showDataDownload:!1,countriesForExport:[],chartSelected:C.yr,showEmptyProjects:!1,showLargeCountryPopin:!1,countriesMessage:!1,selectedFilters:{selectedYears:[],selectedCountries:[],selectedSectors:[],selectedModalities:[]}},o}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadSectorsFilters_,n=e.loadCountriesFilters_,r=e.loadModalitiesFilters_,o=e.projects;t(),n(),r(),o.activitiesLoaded&&this.getProjectsData();var a=this.getFilteredData();this.setState({filteredProjects:a})}},{key:"componentDidUpdate",value:function(e){if(this.props!==e&&0===this.countriesWithData.length){var t=this.props.projects;if(t.activitiesLoaded){var n=this.getFilteredData();this.countriesWithData=n.map((function(e){return e.id}));var r=[];r.push(t.activities.mostRecentYear),this.handleSelectedYearChanged(r),this.setState({filteredProjects:n})}}}},{key:"handleSelectedYearChanged",value:function(e){this.updateFilterState("selectedYears",e)}},{key:"handleSelectedCountryChanged",value:function(e){this.setState((function(t){return{countriesForExport:(0,D.Z)(t.countriesForExport).filter((function(t){return e.includes(t)}))}}));var t=this.state.chartSelected;(t===C.ah||t===C.WP)&&e&&e.length>=1?this.setState({showLargeCountryPopin:!0}):this.closeLargeCountryPopin(),this.updateFilterState("selectedCountries",e)}},{key:"handleSelectedModalityChanged",value:function(e){this.updateFilterState("selectedModalities",e)}},{key:"handleSelectedSectorChanged",value:function(e){this.updateFilterState("selectedSectors",e)}},{key:"onChangeChartSelected",value:function(e){var t=this;this.setState({chartSelected:e}),e!==C.ah&&this.closeLargeCountryPopin(),e!==C.ah&&e!==C.WP||this.setState((function(e){return e.selectedFilters.selectedCountries.length>0&&t.openLargeCountryPopin(),e.selectedFilters.selectedCountries.length>6?(console.log(t.countriesWithData),{countriesMessage:!0}):{countriesMessage:!1}}),(function(){var e=t.props.filters,n=t.state.selectedFilters,r=e.countries.countries.filter((function(e){return n.selectedCountries.includes(e.id)})).sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})).slice(0,6).map((function(e){return e.id}));t.handleSelectedCountryChanged(r)})),e!==C.ij&&this.setState({showDataDownload:!1})}},{key:"onNoProjectsModalClose",value:function(){this.setState({showEmptyProjects:!1})}},{key:"getProjectsData",value:function(){var e=this.props;(0,e.loadActivitiesDetails_)(e.projects.activities.activitiesId)}},{key:"getFilteredProjects",value:function(){var e=this.getFilteredData();this.setState({filteredProjects:e});var t=this.state.selectedFilters;0===e.length?this.setState({showEmptyProjects:!0}):this.setState({showEmptyProjects:!1});var n=e.map((function(e){return e.id})),r=t.selectedCountries.filter((function(e){return n.includes(e)}));r&&0!==r.length||this.closeLargeCountryPopin()}},{key:"getFilteredData",value:function(){var e=this.state.selectedFilters,t=this.props.projects,n=e.selectedYears,r=void 0===n?[]:n,o=e.selectedCountries,a=void 0===o?[]:o,s=e.selectedSectors,i=void 0===s?[]:s,c=e.selectedModalities,l=void 0===c?[]:c;return t.activitiesLoaded?t.activities["Donor Country"].map((function(e){return(0,p.Z)({},e)})).filter((function(e){if(0===a.length||a.includes(e.id)){var t=e[S].filter((function(e){if(0===i.length||i.includes(e.id)){var t=e[E].filter((function(e){if(0===l.length||l.includes(e.id)){if(r.length>0){var t=e.activities.filter((function(e){return r.includes(e.year)}));return 0!==t.length&&(e.activities=t,!0)}return!0}return!1}));return 0!==t.length&&(e[E]=t,!0)}return!1}));return 0!==t.length&&(e[S]=t,!0)}return!1})):[]}},{key:"updateCountriesMessage",value:function(e){this.setState({countriesMessage:e})}},{key:"countriesForExportChanged",value:function(e){this.setState({countriesForExport:e})}},{key:"updateFilterState",value:function(e,t){this.setState((function(n){var r=(0,p.Z)({},n.selectedFilters);return r[e]=t,{selectedFilters:r}}),this.getFilteredProjects)}},{key:"closeLargeCountryPopinAndClearFilter",value:function(){this.handleSelectedCountryChanged([])}},{key:"openLargeCountryPopin",value:function(){this.setState({showLargeCountryPopin:!0})}},{key:"closeLargeCountryPopin",value:function(){this.setState({showLargeCountryPopin:!1})}},{key:"toggleDataDownload",value:function(){this.setState((function(e){return{showDataDownload:!e.showDataDownload}}))}},{key:"render",value:function(){var e=this.props.projects,t={countriesWithData:this.countriesWithData,mostRecentYear:e.activities.mostRecentYear},n={handleSelectedModalityChanged:this.handleSelectedModalityChanged.bind(this),handleSelectedCountryChanged:this.handleSelectedCountryChanged.bind(this),handleSelectedYearChanged:this.handleSelectedYearChanged.bind(this),handleSelectedSectorChanged:this.handleSelectedSectorChanged.bind(this)},r=this.state,o=r.chartSelected,a=r.selectedFilters,s=r.filteredProjects,i=r.showEmptyProjects,c=r.showLargeCountryPopin,l=r.countriesForExport,d=r.showDataDownload,u=r.countriesMessage;return(0,de.jsxs)(de.Fragment,{children:[(0,de.jsxs)("div",{className:"container-fluid content-wrapper",children:[(0,de.jsxs)("div",{className:"row",children:[(0,de.jsx)(Ee,{chartSelected:o,toggleDataDownload:this.toggleDataDownload.bind(this),onChangeChartSelected:this.onChangeChartSelected.bind(this),selectedFilters:a,handleSelectedFiltersChange:n}),(0,de.jsx)(Qt,{showDataDownload:d&&!i,toggleDataDownload:this.toggleDataDownload.bind(this),chartSelected:o,selectedFilters:a,handleSelectedFiltersChange:n,filteredProjects:s,filtersRestrictions:t,showEmptyProjects:i,showLargeCountryPopin:c,closeLargeCountryPopinAndClearFilter:this.closeLargeCountryPopinAndClearFilter.bind(this),onNoProjectsModalClose:this.onNoProjectsModalClose.bind(this),countriesForExport:l,countriesForExportChanged:this.countriesForExportChanged.bind(this),countriesMessage:u,updateCountriesMessage:this.updateCountriesMessage.bind(this)})]}),(0,de.jsx)(Kt.Z,{})]}),(0,de.jsx)(Ae.Outlet,{})]})}}]),n}(i.Component);Ht.contextType=ue;var Jt=(0,h.connect)((function(e){return{filters:{sectors:{sectors:e.filtersReducer.sectors,sectorsLoaded:e.filtersReducer.sectorsLoaded},countries:{countries:e.filtersReducer.countries,countriesLoaded:e.filtersReducer.countriesLoaded}},projects:{activities:e.reportsReducer.activities,activitiesLoaded:e.reportsReducer.activitiesLoaded,activitiesDetailsLoaded:e.reportsReducer.activitiesDetailsLoaded}}}),(function(e){return(0,l.bindActionCreators)({loadActivitiesDetails_:ae,loadSectorsFilters_:Ut,loadCountriesFilters_:Yt,loadModalitiesFilters_:Gt},e)}))(Ht),Wt=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){window.parent.postMessage({action:"chart-loaded"})}},{key:"render",value:function(){return(0,de.jsx)(Kt.Z,{friendly:!0})}}]),n}(i.Component),zt=function(){return(0,de.jsxs)(Ae.Routes,{children:[(0,de.jsx)(Ae.Route,{path:"/print",element:(0,de.jsx)(Wt,{})}),(0,de.jsx)(Ae.Route,{path:"/",element:(0,de.jsx)(Jt,{})})]})},Vt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.compose,Xt=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var o;return(0,r.Z)(this,n),(o=t.call(this,e)).store=(0,l.createStore)(ne,Vt((0,l.applyMiddleware)(u()))),o}return(0,o.Z)(n,[{key:"render",value:function(){return(0,de.jsx)(h.Provider,{store:this.store,children:(0,de.jsx)(pe,{children:(0,de.jsx)(zt,{})})})}}]),n}(i.Component)},46600:function(e,t,n){n(50383);var r=n(59653),o=function(e){var t=e.friendly;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{id:"print".concat(t?"-friendly":"","-dummy"),children:(0,r.jsx)("div",{id:"print".concat(t?"-friendly":"","-dummy-container"),children:(0,r.jsx)("div",{className:"print-dummy-border"})})}),(0,r.jsx)("div",{id:"print".concat(t?"-friendly":"","-simple-dummy"),children:(0,r.jsx)("div",{id:"print".concat(t?"-friendly":"","-simple-dummy-container")})})]})};o.defaultProps={friendly:!1},t.Z=o},17985:function(e,t,n){n.d(t,{Us:function(){return i},pB:function(){return s},xg:function(){return c}});var r=n(30741),o=n.n(r),a=n(1342),s=function(e,t,n,r,o){var a=document.getElementById(t).childNodes,s=[];a.forEach((function(e){e.childNodes.forEach((function(e){o.includes(parseInt(e.id.substring(14,e.id.length),10))&&s.push(e.id)}))})),s.reduce((function(t,n){return t.then((function(){return c(e,n,[],r,!1,"print-simple-dummy-container")}))}),Promise.resolve())},i=function(e,t,n,r,o){try{var s=!1;o&&o.length>0&&(s=!0);var i=r?r.contentDocument:document,c=i.getElementById(n);s&&(c.className="".concat(c.className," one-by-one"));var l,d,u=document.getElementsByClassName("chart-column");e&&((l=i.createElement("div")).className="print-title",l.appendChild(i.createTextNode(e)),s||c.appendChild(l)),d=s?u.length:Math.ceil(u.length/2);for(var h=1,p=0;p<u.length;){var A=u[p].cloneNode(!0);if(!s||o.includes(parseInt(A.id.substring(a.TM.length),10))){A.style.height=u[p].clientHeight,A.style.width=u[p].clientWidth;var f=void 0;(p+=1)<u.length&&!s&&((f=u[p].cloneNode(!0)).style.height=u[p].clientHeight,f.style.width=u[p].clientWidth,p+=1);var g=i.createElement("div");if(g.className="print-row row".concat(h<d?" border-bottom ":s?"":" last-row"),h+=1,l&&s){var m=l.cloneNode(!0);c.appendChild(m)}if(g.appendChild(A),f?(g.appendChild(f),A.className="chart-column col-print-6 border-right",f.className="chart-column col-print-6"):A.className="chart-column col-print-12",c.appendChild(g),s){var v=i.createElement("p");v.className="new-page",c.appendChild(v)}}else p+=1,h+=1}}catch(C){console.log("problem creating elements for print: ".concat(C))}},c=function(e,t,n,r,o,a,s){try{var i=document.getElementById(a).firstChild;i||(i=document.getElementById(a));var c,d=document.getElementById(t).cloneNode(!0),u="".concat(document.getElementById(t).clientHeight,"px");o&&(u=0,document.getElementById(t).childNodes.forEach((function(e){u+=e.clientHeight}))),d.style.height=u,d.style.width="".concat(document.getElementById(t).clientWidth,"px"),e&&s&&((c=document.createElement("div")).className="print-title",c.appendChild(document.createTextNode(e)),i.appendChild(c)),i.appendChild(d);var h=d.clientHeight+10+(c?c.clientHeight:0);return l(i,c,d,r,e,h,d.clientWidth)}catch(p){console.log("problem creating elements for print: ".concat(p))}},l=function(e,t,n,r,s,i,c){var l=r===a._G?o().toPng:o().toSvg;return new Promise((function(o,a){l(e,{height:i,width:c,bgcolor:"#FFF"}).then((function(a){var i=document.createElement("a");return i.download="".concat(s,".").concat(r),i.href=a,document.body.appendChild(i),i.click(),t&&e.removeChild(t),e.removeChild(n),o()})).catch((function(r){e.removeChild(n),t&&e.removeChild(t),e.removeChild(n),a(new Error(r))}))}))}},1342:function(e,t,n){n.d(t,{BB:function(){return A},ET:function(){return f},Ez:function(){return u},IN:function(){return Y},Ic:function(){return c},JP:function(){return G},LM:function(){return E},O:function(){return p},PU:function(){return g},S9:function(){return v},SJ:function(){return y},Sw:function(){return N},TM:function(){return R},Vs:function(){return l},WP:function(){return T},_G:function(){return w},aD:function(){return F},ah:function(){return Z},bm:function(){return W},cE:function(){return h},eM:function(){return S},e_:function(){return d},fz:function(){return C},g1:function(){return k},gW:function(){return j},ij:function(){return M},io:function(){return B},pj:function(){return P},qp:function(){return i},rF:function(){return s},rP:function(){return D},ry:function(){return o},sC:function(){return U},sK:function(){return O},tU:function(){return L},um:function(){return m},vW:function(){return b},wU:function(){return Q},wt:function(){return x},xE:function(){return r},xg:function(){return J},yr:function(){return I},z7:function(){return a}});var r=0,o=1,a=-1,s="/assets/img/flags/",i="dashboard-default-min-year-range",c="dashboard-default-max-year-range",l="/rest/filters/sectors",d="/rest/filters/locations?firstLevelOnly=true&showAllCountries=true",u="/rest/amp/settings",h="/rest/filters/modalities?sscWorkspace=true",p="/rest/gis/sscdashboard",A="/rest/gis/sscdashboard/xsl",f="/rest/gis/activities",g=12,m="#fd8f00",v="#fd8f00",C="#007236",y="#007236",w="png",x=50,b=-999999999,j=9,S=6,E=1766,D=5,N="-1",k=1920,P=145,B=2,L="0",F="SSC_",I="home",Z="sector",T="modality",M="download",R="country-column",O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAbCAQAAACkGQXlAAAAI0lEQVR42mP8L8lAVcA4auCogaMGjho4auCogaMGjhpINAAAOBcdpLw/CDsAAAAASUVORK5CYII=",Q="000",U="primary-sector",Y="ssc-modalities",G="donor-agency-country",K=new Map([["110","#d46453"],["120","#f5a15d"],["130","#ffcf8e"],["140","#ff7a7d"],["150","#ff417d"],["160","#d61a88"],["210","#fff540"],["220","#28c074"],["230","#429058"],["240","#bd4035"],["250","#b0fff1"],["311","#144491"],["312","#9b0e3e"],["313","#10908e"],["321","#8f5765"],["322","#c7d4e1"],["323","#77b02a"],["331","#488bd4"],["332","#928fb8"],["400","#c6d831"],["500","#d41e3c"],["600","#cf968c"],["700","#78d7ff"],["910","#94007a"],["920","#ffb84a"],["930","#ed7b39"],["998","#ed4c40"],["000","#8f5765"]]),H=new Map([[Q,"#8f5765"]]),J=new Map([[T,["#00429d","#3761ab","#5681b9","#73a2c6","#93c4d2","#b9e5dd","#ffffe0","#ffd3bf","#ffa59e","#f4777f","#dd4c65","#be214d","#93003a"]]]),W=new Map([[Z,K],[T,H]])},90844:function(e,t,n){n.d(t,{N:function(){return o},R:function(){return a}});var r=n(9542);function o(){return"production"===r.x?"/#":"".concat("/TEMPLATE/reampv2/build","/index.html#")}function a(e){var t=arguments;return e.replace(/{(\d+)}/g,(function(e,n){var r=parseInt(n)+1;return"undefined"!=typeof t[r]?t[r]:e}))}},35209:function(e,t,n){var r=n(64454),o=n(58234);t.Z=function(e){return function(t){return t((0,r.M0)(e)),(0,o.X)(e).then((function(e){return t((0,r.sq)(e))})).catch((function(e){return t((0,r.nW)(e))}))}}},64454:function(e,t,n){n.d(t,{M0:function(){return s},b5:function(){return r},k_:function(){return o},nW:function(){return c},pv:function(){return a},sq:function(){return i}});var r="FETCH_TRANSLATIONS_PENDING",o="FETCH_TRANSLATIONS_SUCCESS",a="FETCH_TRANSLATIONS_ERROR";function s(e){return{type:r,payload:e}}function i(e){return{type:o,payload:e}}function c(e){return{type:a,error:e}}},38587:function(e,t,n){n.d(t,{S2:function(){return s},aV:function(){return a},hL:function(){return o}});function r(e){var t={method:e?"POST":"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}};return e&&(t.body=JSON.stringify(e)),t}var o=function(e){var t=e.url,n={method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}};return new Promise((function(e,r){return fetch(t,n).then((function(t){return t.error?r(t.error):e(t)})).catch((function(e){return r(e)}))}))},a=function(e){var t=e.body,n=e.url;return new Promise((function(e,o){return fetch(n,r(t)).then((function(e){return e.json()})).then((function(t){return t.error?o(t.error):e(t)})).catch((function(e){return o(e)}))}))},s=function(e){var t=e.body,n=e.url;return new Promise((function(e,o){return fetch(n,r(t)).then((function(t){return t.text().then((function(e){var n=t.headers.get("content-type"),r=e;return e&&n&&-1!==n.indexOf("application/json")&&(r=JSON.parse(e)),{data:r,ok:t.ok,status:t.status}})).then((function(t){return t.ok?e(t):o({status:t.status,message:i(t),code:c(t)})}))})).catch((function(e){return o(e)}))}))};function i(e){var t="";if(e.data&&e.data.error)for(var n in e.data.error)t+=JSON.stringify(e.data.error[n]);else t=e.data;return t}function c(e){if(e.data&&e.data.error)for(var t in e.data.error)return t;return e.data}},47371:function(e,t,n){n.d(t,{g:function(){return o}});n(50383);var r=n(59653),o=function(){return(0,r.jsx)("div",{className:"jumbotron",children:(0,r.jsx)("div",{className:"progress",children:(0,r.jsx)("div",{className:"progress-bar progress-bar-striped bg-info",role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100",style:{width:"100%"},children:"..."})})})}},58234:function(e,t,n){n.d(t,{X:function(){return c},a:function(){return i}});var r=n(1342),o="POST",a="GET";function s(e,t){var n={method:e?o:a,headers:t||{"Content-Type":"application/json",Accept:"application/json","ws-prefix":r.aD}};return e&&(n.body=JSON.stringify(e)),n}var i=function(e){var t=e.body,n=e.url,r=e.headers;return new Promise((function(e,o){return fetch(n,s(t,r)).then((function(e){return r&&"text/html"===r.Accept?e.text():e.headers&&e.headers.get("Content-Type")&&e.headers.get("Content-Type").indexOf("application/json")>-1?e.json():e})).then((function(t){return t.error?o(t.error):e(t)}))}))};function c(e){return new Promise((function(t){return fetch("/rest/translations/label-translations",s(e)).then((function(e){var n=e.headers.get("content-type");if(n&&-1!==n.indexOf("application/json"))return e.json().then((function(e){if(e.error)throw new Error(e.error);return t(e)}))}))}))}},50840:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(33028),o=n(64454),a={pending:!0,translations:{},error:null};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.b5:return(0,r.Z)((0,r.Z)({},e),{},{pending:!0,translations:t.payload});case o.k_:return(0,r.Z)((0,r.Z)({},e),{},{pending:!1,translations:t.payload});case o.pv:return(0,r.Z)((0,r.Z)({},e),{},{pending:!1,error:t.error});default:return e}}},80753:function(e,t,n){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},9249:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},87371:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(45850);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(0,r.Z)(o.key),o)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},86906:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(95058),o=n(70352),a=n(11987);function s(e){var t=(0,o.Z)();return function(){var n,o=(0,r.Z)(e);if(t){var s=(0,r.Z)(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return(0,a.Z)(this,n)}}},56666:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(45850);function o(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},95058:function(e,t,n){function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},45754:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(88960);function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},70352:function(e,t,n){function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},81079:function(e,t,n){function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},33028:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(56666);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},11987:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(86522),o=n(80753);function a(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}},88960:function(e,t,n){function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},68079:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(926);var o=n(81079),a=n(59147);function s(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,o.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},45850:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(86522);function o(e){var t=function(e,t){if("object"!=(0,r.Z)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=(0,r.Z)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.Z)(t)?t:String(t)}},86522:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=8360.bundle.js.map