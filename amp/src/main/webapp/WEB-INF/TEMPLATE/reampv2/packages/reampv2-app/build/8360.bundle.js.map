{"version":3,"file":"8360.bundle.js","mappings":"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","sources":["modules/sscdashboard/actions/startupAction.js","modules/sscdashboard/reducers/startupReducer.js","modules/sscdashboard/utils/FieldsConstants.js","modules/sscdashboard/utils/Utils.js","modules/sscdashboard/actions/filtersActions.js","modules/sscdashboard/reducers/filtersReducer.js","modules/sscdashboard/actions/reportsActions.js","modules/sscdashboard/reducers/reportsReducer.js","modules/sscdashboard/actions/downloadDataActions.js","modules/sscdashboard/reducers/dataDownloadReducer.js","modules/sscdashboard/reducers/rootReducer.js","modules/sscdashboard/actions/callReports.js","modules/sscdashboard/actions/loadAmpSettings.js","modules/sscdashboard/components/StartUp.jsx","modules/sscdashboard/components/layout/sidebar/SidebarIntro.jsx","modules/sscdashboard/components/layout/filters/FiltersLink.jsx","modules/sscdashboard/components/layout/filters/MultiSelectionDropDown.jsx","modules/sscdashboard/components/layout/sidebar/sidebar.jsx","modules/sscdashboard/components/utils/CountryFlag.jsx","modules/sscdashboard/components/layout/filters/CountryCarousel.jsx","modules/sscdashboard/components/layout/filters/HorizontalFilters.jsx","modules/sscdashboard/components/map/d3Layer/ConnectionLayer.jsx","modules/sscdashboard/components/utils/ToggleSwitch.jsx","modules/sscdashboard/utils/ProjectUtils.js","modules/sscdashboard/components/layout/popups/homepopup/HomePopup.jsx","modules/sscdashboard/components/map/MapHome.jsx","modules/sscdashboard/components/layout/popups/popupOverlay.jsx","modules/sscdashboard/components/layout/popups/countryLarge/CountryPopupOverlayTitle.jsx","modules/sscdashboard/utils/exportUtils.js","modules/sscdashboard/components/layout/popups/countryLarge/PrintCountryCharts.jsx","modules/sscdashboard/components/layout/popups/countryLarge/CountryPopupExport.jsx","modules/sscdashboard/components/layout/popups/countryLarge/CountryPopupHeader.jsx","modules/sscdashboard/components/utils/GenericTooltip.jsx","modules/sscdashboard/utils/customLegend/SscCustomLegend.jsx","modules/sscdashboard/components/layout/popups/countryLarge/CountryPopupChart.jsx","modules/sscdashboard/components/layout/popups/countryLarge/CountryPopupFooter.jsx","modules/sscdashboard/components/layout/popups/countryLarge/CountryPopup.jsx","modules/sscdashboard/components/layout/popups/countryLarge/CountryPopupContainer.jsx","modules/sscdashboard/components/layout/popups/CountryPopupOverlay.jsx","modules/sscdashboard/components/layout/popups/homepopup/SimplePopup.jsx","modules/sscdashboard/actions/downloadData.js","modules/sscdashboard/components/dataDownload/DataDownloadContainer.jsx","modules/sscdashboard/components/layout/map/MapContainer.jsx","modules/sscdashboard/actions/loadFilters.js","modules/sscdashboard/SscDashboardHome.jsx","modules/sscdashboard/utils/PrinterFriendly.jsx","modules/sscdashboard/components/SSCDashboardRouter.jsx","modules/sscdashboard/index.js","modules/sscdashboard/utils/PrintDummy.jsx","modules/sscdashboard/utils/PrintUtils.js","modules/sscdashboard/utils/constants.js","utils/Utils.js","utils/actions/fetchTranslations.js","utils/actions/translationsActions.js","utils/apiOperations.js","utils/components/Loading.jsx","utils/loadTranslations.js","utils/reducers/translationsReducer.js","../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../../node_modules/@babel/runtime/helpers/esm/createSuper.js","../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../../node_modules/@babel/runtime/helpers/esm/inherits.js","../../../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../../../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../../../node_modules/@babel/runtime/helpers/esm/typeof.js"],"sourcesContent":["export const FETCH_AMP_SETTINGS_PENDING = 'FETCH_AMP_SETTINGS_PENDING';\nexport const FETCH_AMP_SETTINGS_SUCCESS = 'FETCH_AMP_SETTINGS_SUCCESS';\nexport const FETCH_AMP_SETTINGS_ERROR = 'FETCH_AMP_SETTINGS_ERROR';\n\nexport function fetchAmpSettingsPending() {\n  return {\n    type: FETCH_AMP_SETTINGS_PENDING\n  };\n}\n\nexport function fetchAmpSettingsSuccess(settings) {\n  return {\n    type: FETCH_AMP_SETTINGS_SUCCESS,\n    payload: settings\n  };\n}\n\nexport function fetchAmpSettingsError(error) {\n  return {\n    type: FETCH_AMP_SETTINGS_ERROR,\n    error\n  };\n}\n","import {\n  FETCH_AMP_SETTINGS_SUCCESS,\n  FETCH_AMP_SETTINGS_PENDING,\n  FETCH_AMP_SETTINGS_ERROR\n} from '../actions/startupAction';\n\nconst initialState = {\n  settingsLoaded: false,\n  settingsPending: false,\n  settings: {},\n  error: null\n};\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_AMP_SETTINGS_PENDING:\n      return {\n        ...state,\n        settingsPending: true\n      };\n    case FETCH_AMP_SETTINGS_SUCCESS:\n      return {\n        ...state,\n        settingsPending: false,\n        settingsLoaded: true,\n        settings: action.payload\n      };\n    case FETCH_AMP_SETTINGS_ERROR:\n      return {\n        ...state,\n        settingsPending: false,\n        settingsLoaded: false,\n        error: action.payload.error\n      };\n    default:\n      return state;\n  }\n};\n","export const ACTIVITY_ID = 'Activity Id';\nexport const PROJECT_TITLE = 'Project Title';\nexport const EXTRA_INFO = 'extra_info';\nexport const GROUP_ID = 'group-id';\nexport const CENTRO_ID = 'centro-id';\nexport const DONOR_COUNTRY = 'Donor Country';\nexport const PRIMARY_SECTOR = 'Primary Sector';\nexport const MODALITIES = 'Modalities';\n","import {\n  DASHBOARD_DEFAULT_MAX_YEAR_RANGE,\n  DASHBOARD_DEFAULT_MIN_YEAR_RANGE,\n  FALLBACK_FLAG,\n  FLAGS_DIRECTORY\n} from './constants';\nimport { EXTRA_INFO, GROUP_ID } from './FieldsConstants';\n\nexport function splitArray(a, n, balanced) {\n  if (n < 2) return [a];\n\n  const len = a.length;\n  const\n    out = [];\n  let i = 0;\n  let\n    size;\n  if (len % n === 0) {\n    size = Math.floor(len / n);\n    while (i < len) {\n      out.push(a.slice(i, i += size));\n    }\n  } else if (balanced) {\n    while (i < len) {\n      size = Math.ceil((len - i) / n);\n      n += 1;\n      out.push(a.slice(i, i += size));\n    }\n  } else {\n    n -= 1;\n    size = Math.floor(len / n);\n    if (len % size === 0) size -= 1;\n    while (i < size * n) {\n      out.push(a.slice(i, i += size));\n    }\n    out.push(a.slice(size * n));\n  }\n\n  return out;\n}\n\nexport function compareArrayNumber(a, b) {\n  a.sort((c, d) => c - d);\n  b.sort((c, d) => c - d);\n  const left = [];\n  const both = [];\n  const\n    right = [];\n  let i = 0;\n  let\n    j = 0;\n  while (i < a.length && j < b.length) {\n    if (a[i] < b[j]) {\n      left.push(a[i]);\n      i += 1;\n    } else if (b[j] < a[i]) {\n      right.push(b[j]);\n      j += 1;\n    } else {\n      both.push(a[i]);\n      i = 1 + 1;\n      j += 1;\n    }\n  }\n  while (i < a.length) {\n    left.push(a[i]);\n    i += 1;\n  }\n  while (j < b.length) {\n    right.push(b[j]);\n    j += 1;\n  }\n  // left and right is the difference not in use but keeping it if needed\n  if (a.length !== b.length) {\n    return false;\n  }\n  return a.length === both.length;\n}\n\nexport function toCamelCase(str) {\n  return str.toLowerCase().split(' ').map(s => s.charAt(0).toUpperCase() + s.slice(1)).join(' ');\n}\n\n// TODO move to another utility class.\nexport function getCountryFlag(name) {\n  return [`${process.env.PUBLIC_URL}${FLAGS_DIRECTORY}${name.toLowerCase().replace(/ /g, '_')}.svg`,\n    FALLBACK_FLAG];\n}\n\nexport function calculateUpdatedValuesForDropDowns(ipSelectedFilter, selectedOptions) {\n  let updatedSelectedOptions;\n  if (selectedOptions.includes(ipSelectedFilter)) {\n    updatedSelectedOptions = selectedOptions.filter(sc => sc !== ipSelectedFilter);\n  } else {\n    updatedSelectedOptions = [...selectedOptions];\n    updatedSelectedOptions.push(ipSelectedFilter);\n  }\n  return updatedSelectedOptions;\n}\n\nexport function calculateColumnCount(length) {\n  let columnCount = 1;\n  switch (length) {\n    case 1:\n      columnCount = 1;\n      break;\n    case 2:\n    case 4:\n      columnCount = 2;\n      break;\n    case 3:\n    case 5:\n    case 6:\n      columnCount = 3;\n      break;\n    default:\n      break;\n  }\n  return columnCount;\n}\n\nexport function getCategoryForCountry(country) {\n  if (country && country[EXTRA_INFO]) {\n    return country[EXTRA_INFO][GROUP_ID];\n  } else {\n    return null;\n  }\n}\n\nexport function generateYearsFilters(years, settingsParam, maxYearParam) {\n  const { settings, settingsLoaded } = settingsParam;\n  if (settingsLoaded) {\n    const minYear = parseInt(settings[DASHBOARD_DEFAULT_MIN_YEAR_RANGE], 10);\n    const maxYear = maxYearParam || parseInt(settings[DASHBOARD_DEFAULT_MAX_YEAR_RANGE], 10);\n    for (let i = maxYear; i >= minYear; i--) {\n      years.push({ id: i, name: i });\n    }\n  }\n}\n","import { UNDEFINED_FILTER } from '../utils/constants';\nimport { EXTRA_INFO } from '../utils/FieldsConstants';\nimport { toCamelCase } from '../utils/Utils';\n\nexport const FETCH_FILTERS_SECTORS_PENDING = 'FETCH_FILTERS_SECTORS_PENDING';\nexport const FETCH_FILTERS_SECTORS_SUCCESS = 'FETCH_FILTERS_SECTORS_SUCCESS';\nexport const FETCH_FILTERS_SECTORS_ERROR = 'FETCH_FILTERS_SECTORS_ERROR';\nexport const FETCH_FILTERS_COUNTRIES_PENDING = 'FETCH_FILTERS_COUNTRIES_PENDING';\nexport const FETCH_FILTERS_COUNTRIES_SUCCESS = 'FETCH_FILTERS_COUNTRIES_SUCCESS';\nexport const FETCH_FILTERS_COUNTRIES_ERROR = 'FETCH_FILTERS_COUNTRIES_ERROR';\nexport const FETCH_FILTERS_MODALITIES_PENDING = 'FETCH_FILTERS_MODALITIES_PENDING';\nexport const FETCH_FILTERS_MODALITIES_SUCCESS = 'FETCH_FILTERS_MODALITIES_SUCCESS';\nexport const FETCH_FILTERS_MODALITIES_ERROR = 'FETCH_FILTERS_MODALITIES_ERROR';\n\nexport function fetchSectorsPending() {\n  return {\n    type: FETCH_FILTERS_SECTORS_PENDING\n  };\n}\n\nexport function fetchSectorsSuccess(sectorsFilter) {\n  return {\n    type: FETCH_FILTERS_SECTORS_SUCCESS,\n    payload: makeFilterCamelCase(sectorsFilter.items.primary)\n  };\n}\n\nexport function fetchSectorsError(error) {\n  return {\n    type: FETCH_FILTERS_SECTORS_ERROR,\n    error\n  };\n}\n\nexport function fetchCountriesPending() {\n  return {\n    type: FETCH_FILTERS_COUNTRIES_PENDING\n  };\n}\n\nexport function fetchCountriesSuccess(countriesFilter) {\n  // TODO this filter should check the SSC template as parameter\n  const countries = countriesFilter.items.locations\n    .filter(c => c[EXTRA_INFO] && c[EXTRA_INFO].template && c.id !== UNDEFINED_FILTER);\n  return {\n    type: FETCH_FILTERS_COUNTRIES_SUCCESS,\n    payload: countries\n  };\n}\n\nexport function fetchCountriesError(error) {\n  return {\n    type: FETCH_FILTERS_COUNTRIES_ERROR,\n    error\n  };\n}\n\nexport function fetchModalitiesPending() {\n  return {\n    type: FETCH_FILTERS_MODALITIES_PENDING\n  };\n}\n\nfunction makeFilterCamelCase(theFilter) {\n  return theFilter.map(f => {\n    f.name = toCamelCase(f.name);\n    return f;\n  });\n}\n\nexport function fetchModalitiesSuccess(modalitiesFilter) {\n  return {\n    type: FETCH_FILTERS_MODALITIES_SUCCESS,\n    payload: modalitiesFilter.items.values\n  };\n}\n\nexport function fetchModalitiesError(error) {\n  return {\n    type: FETCH_FILTERS_MODALITIES_ERROR,\n    error\n  };\n}\n","import {\n  FETCH_FILTERS_SECTORS_SUCCESS,\n  FETCH_FILTERS_SECTORS_ERROR,\n  FETCH_FILTERS_SECTORS_PENDING,\n  FETCH_FILTERS_COUNTRIES_ERROR,\n  FETCH_FILTERS_COUNTRIES_PENDING,\n  FETCH_FILTERS_COUNTRIES_SUCCESS,\n  FETCH_FILTERS_MODALITIES_ERROR,\n  FETCH_FILTERS_MODALITIES_PENDING,\n  FETCH_FILTERS_MODALITIES_SUCCESS\n} from '../actions/filtersActions';\n\nconst initialState = {\n  sectorsLoaded: false,\n  sectorsPending: false,\n  sectors: [],\n  sectorLoadingErrors: null,\n  countriesLoaded: false,\n  countriesPending: false,\n  countries: [],\n  countriesLoadingErrors: null,\n  modalitiesPending: false,\n  modalitiesLoaded: false,\n  modalities: []\n};\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_FILTERS_SECTORS_PENDING:\n      return {\n        ...state,\n        sectorsPending: true\n      };\n    case FETCH_FILTERS_SECTORS_SUCCESS:\n      return {\n        ...state,\n        sectorsPending: false,\n        sectorsLoaded: true,\n        sectors: action.payload\n      };\n    case FETCH_FILTERS_SECTORS_ERROR:\n      return {\n        ...state,\n        sectorsPending: false,\n        sectorsLoaded: false,\n        error: action.payload.error\n      };\n\n    case FETCH_FILTERS_COUNTRIES_PENDING:\n      return {\n        ...state,\n        countriesPending: true\n      };\n    case FETCH_FILTERS_COUNTRIES_SUCCESS:\n      return {\n        ...state,\n        countriesPending: false,\n        countriesLoaded: true,\n        countries: action.payload\n      };\n    case FETCH_FILTERS_COUNTRIES_ERROR:\n      return {\n        ...state,\n        countriesPending: false,\n        countriesLoaded: false,\n        error: action.payload.error\n      };\n    case FETCH_FILTERS_MODALITIES_PENDING:\n      return {\n        ...state,\n        modalitiesPending: true\n      };\n    case FETCH_FILTERS_MODALITIES_SUCCESS:\n      return {\n        ...state,\n        modalitiesPending: false,\n        modalitiesLoaded: true,\n        modalities: action.payload\n      };\n    case FETCH_FILTERS_MODALITIES_ERROR:\n      return {\n        ...state,\n        modalitiesPending: false,\n        modalitiesLoaded: false,\n        error: action.payload.error\n      };\n\n    default:\n      return state;\n  }\n};\n","export const FETCH_ACTIVITIES_DETAIL_PENDING = 'FETCH_ACTIVITIES_DETAIL_PENDING';\nexport const FETCH_ACTIVITIES_DETAIL_SUCCESS = 'FETCH_ACTIVITIES_DETAIL_SUCCESS';\nexport const FETCH_ACTIVITIES_DETAIL_ERROR = 'FETCH_ACTIVITIES_DETAIL_ERROR';\n\nexport const FETCH_ACTIVITIES_PENDING = 'FETCH_ACTIVITIES_PENDING';\nexport const FETCH_ACTIVITIES_SUCCESS = 'FETCH_ACTIVITIES_SUCCESS';\nexport const FETCH_ACTIVITIES_ERROR = 'FETCH_ACTIVITIES_ERROR';\n\nexport function fetchActivitiesDetailPending() {\n  return {\n    type: FETCH_ACTIVITIES_DETAIL_PENDING\n  };\n}\n\nexport function fetchActivitiesDetailSuccess(activitiesDetail) {\n  return {\n    type: FETCH_ACTIVITIES_DETAIL_SUCCESS,\n    payload: activitiesDetail\n  };\n}\n\nexport function fetchActivitiesDetailError(error) {\n  return {\n    type: FETCH_ACTIVITIES_DETAIL_ERROR,\n    error\n  };\n}\n\nexport function fetchActivitiesPending() {\n  return {\n    type: FETCH_ACTIVITIES_PENDING\n  };\n}\n\nexport function fetchActivitiesSuccess(activities) {\n  return {\n    type: FETCH_ACTIVITIES_SUCCESS,\n    payload: activities\n  };\n}\n\nexport function fetchActivitiesError(error) {\n  return {\n    type: FETCH_ACTIVITIES_ERROR,\n    error\n  };\n}\n","import {\n  FETCH_ACTIVITIES_DETAIL_ERROR, FETCH_ACTIVITIES_DETAIL_PENDING, FETCH_ACTIVITIES_DETAIL_SUCCESS,\n  FETCH_ACTIVITIES_ERROR, FETCH_ACTIVITIES_PENDING, FETCH_ACTIVITIES_SUCCESS\n} from '../actions/reportsActions';\n\nconst initialState = {\n  activitiesDetailsPending: false,\n  activitiesDetailsLoaded: false,\n  activitiesDetails: [],\n  activitiesPending: false,\n  activitiesLoaded: false,\n  activities: []\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_ACTIVITIES_DETAIL_PENDING:\n      return {\n        ...state,\n        activitiesDetailsPending: false\n      };\n    case FETCH_ACTIVITIES_DETAIL_SUCCESS:\n      return {\n        ...state,\n        activitiesDetailsPending: false,\n        activitiesDetailsLoaded: true,\n        activitiesDetails: action.payload\n      };\n    case FETCH_ACTIVITIES_DETAIL_ERROR:\n      return {\n        ...state,\n        activitiesDetailsPending: false,\n        activitiesDetailsLoaded: false,\n        error: action.payload.error\n      };\n\n    case FETCH_ACTIVITIES_PENDING:\n      return {\n        ...state,\n        activitiesPending: false\n      };\n    case FETCH_ACTIVITIES_SUCCESS:\n      return {\n        ...state,\n        activitiesPending: false,\n        activitiesLoaded: true,\n        activities: action.payload\n      };\n    case FETCH_ACTIVITIES_ERROR:\n      return {\n        ...state,\n        activitiesPending: false,\n        activitiesLoaded: false,\n        error: action.payload.error\n      };\n    default:\n      return state;\n  }\n};\n","export const FETCH_XLS_REPORT_PENDING = 'FETCH_XLS_REPORT_PENDING';\nexport const FETCH_XLS_REPORT_SUCCESS = 'FETCH_XLS_REPORT_SUCCESS';\nexport const FETCH_XLS_REPORT_ERROR = 'FETCH_XLS_REPORT_ERROR';\nexport const FETCH_XLS_REPORT_DONE = 'FETCH_XLS_REPORT_DONE';\n\nexport function fetchXlsReportPending() {\n  return {\n    type: FETCH_XLS_REPORT_PENDING\n  };\n}\n\nexport function fetchXlsReportSuccess(dataDownload) {\n  return {\n    type: FETCH_XLS_REPORT_SUCCESS,\n    payload: dataDownload\n  };\n}\n\nexport function fetchXlsReportError(error) {\n  return {\n    type: FETCH_XLS_REPORT_ERROR,\n    error\n  };\n}\n\nexport function fetchXlsReportDone() {\n  return {\n    type: FETCH_XLS_REPORT_DONE\n  };\n}\n","import {\n  FETCH_XLS_REPORT_DONE,\n  FETCH_XLS_REPORT_ERROR,\n  FETCH_XLS_REPORT_PENDING,\n  FETCH_XLS_REPORT_SUCCESS\n} from '../actions/downloadDataActions';\n\nconst initialState = {\n  dataDownloadPending: false,\n  dataDownloadLoaded: false,\n  dataDownload: null,\n  error: null\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_XLS_REPORT_PENDING:\n      return {\n        ...state,\n        dataDownloadPending: false\n      };\n    case FETCH_XLS_REPORT_SUCCESS:\n      return {\n        ...state,\n        dataDownloadPending: false,\n        dataDownloadLoaded: true,\n        dataDownload: action.payload\n      };\n    case FETCH_XLS_REPORT_ERROR:\n      return {\n        ...state,\n        dataDownloadPending: false,\n        dataDownloadLoaded: false,\n        error: action.error\n      };\n    case FETCH_XLS_REPORT_DONE:\n      return { ...initialState };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport startupReducer from './startupReducer';\nimport translationsReducer from '../../../utils/reducers/translationsReducer';\nimport filtersReducer from './filtersReducer';\nimport reportsReducer from './reportsReducer';\nimport dataDownloadReducer from './dataDownloadReducer';\n\nexport default combineReducers({\n  startupReducer, translationsReducer, filtersReducer, reportsReducer, dataDownloadReducer\n});\n","import {\n  fetchActivitiesDetailError,\n  fetchActivitiesDetailPending,\n  fetchActivitiesDetailSuccess,\n  fetchActivitiesError,\n  fetchActivitiesPending,\n  fetchActivitiesSuccess\n} from './reportsActions';\nimport { fetchApiData } from '../../../utils/apiOperations.js';\nimport { API_REPORTS_ACTIVITY_DETAIL_URL, API_SSC_DASHBOARD_URL } from '../utils/constants';\n\nexport const loadActivitiesDetails = (activitiesId) => dispatch => {\n  dispatch(fetchActivitiesDetailPending());\n  // TODO TO CHECK IF THE IDS SHOULDN'T GO BY POST\n  const url = `${API_REPORTS_ACTIVITY_DETAIL_URL}?${activitiesId.map(p => `id=${p}`).join('&')}`;\n  return fetchApiData({ url, body: {} })\n    .then(activitiesDetail => dispatch(fetchActivitiesDetailSuccess(activitiesDetail)))\n    .catch(error => dispatch(fetchActivitiesDetailError(error)));\n};\n\nexport const loadActivities = () => dispatch => {\n  dispatch(fetchActivitiesPending());\n  return fetchApiData({ url: API_SSC_DASHBOARD_URL })\n    .then(activities => {\n      dispatch(loadActivitiesDetails(activities.activitiesId));\n      return dispatch(fetchActivitiesSuccess(activities));\n    })\n    .catch(error => dispatch(fetchActivitiesError(error)));\n};\n","import { fetchAmpSettingsPending, fetchAmpSettingsError, fetchAmpSettingsSuccess }\n    from './startupAction';\nimport { fetchApiData } from '../../../utils/apiOperations';\nimport { API_AMP_SETTINGS_URL } from '../utils/constants';\n\nfunction loadAmpSettings() {\n  return dispatch => {\n    dispatch(fetchAmpSettingsPending());\n    return fetchApiData({ url: API_AMP_SETTINGS_URL })\n      .then(ampSettings => dispatch(fetchAmpSettingsSuccess(ampSettings)))\n      .catch(error => dispatch(fetchAmpSettingsError(error)));\n  };\n}\n\nexport default loadAmpSettings;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport fetchTranslations from '../../../utils/actions/fetchTranslations';\nimport { loadActivities } from '../actions/callReports';\nimport loadAmpSettings from '../actions/loadAmpSettings';\nimport defaultTrnPack from '../config/initialTranslations.json';\nimport { Loading } from '../../../utils/components/Loading';\n\nexport const SSCTranslationContext = React.createContext({ translations: defaultTrnPack });\n\n/**\n * Component used to load everything we need before launching the APP\n * TODO check if we should abstract it to a Load Translations component to avoid copy ^\n */\nclass Startup extends Component {\n  componentDidMount() {\n    const { fetchTranslations, loadAmpSettings, loadActivities } = this.props;\n    fetchTranslations(defaultTrnPack);\n    loadAmpSettings();\n    loadActivities();\n  }\n\n  render() {\n    const { translationPending, children } = this.props;\n    if (translationPending) {\n      return (<Loading />);\n    } else {\n      const { translations } = this.props;\n      document.title = translations['amp.ssc.dashboard:page-title'];\n      return (\n        <SSCTranslationContext.Provider value={{ translations }}>\n          {children}\n        </SSCTranslationContext.Provider>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = state => ({\n  translationPending: state.translationsReducer.pending,\n  translations: state.translationsReducer.translations\n});\n\nStartup.propTypes = {\n  translationPending: PropTypes.bool.isRequired,\n  translations: PropTypes.object.isRequired,\n  children: PropTypes.object.isRequired,\n  fetchTranslations: PropTypes.func.isRequired,\n  loadAmpSettings: PropTypes.func.isRequired,\n  loadActivities: PropTypes.func.isRequired\n};\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  fetchTranslations,\n  loadAmpSettings,\n  loadActivities\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Startup);\n","import React, { Component } from 'react';\nimport { SSCTranslationContext } from '../../StartUp';\n\nclass SidebarIntro extends Component {\n  render() {\n    const { translations } = this.context;\n    return (\n      <div className=\"sidebar-intro\">\n        {this.props.text.map(t => (<p key={t}>{translations[t]}</p>))}\n      </div>\n    );\n  }\n}\n\nexport default SidebarIntro;\n\nSidebarIntro.contextType = SSCTranslationContext;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './filters.css';\nimport { SSCTranslationContext } from '../../StartUp';\n\nclass FiltersLink extends Component {\n  onSelectOptions() {\n    const { onChangeChartSelect, chartName, onLinkClicked } = this.props;\n    onChangeChartSelect(chartName);\n    if (onLinkClicked) {\n      onLinkClicked();\n    }\n  }\n\n  render() {\n    const { chartSelected, title, chartName } = this.props;\n    const { translations } = this.context;\n    const onSelectedOptions = this.onSelectOptions.bind(this);\n    return (\n      <div className=\"sidebar-filter-wrapper\">\n        <div className=\"panel panel-default\">\n          <div\n            className={`panel-heading${chartSelected === chartName ? ' selected' : ''}`}\n            onClick={onSelectedOptions}>\n            <h4 className={`panel-title ${chartName}`} data-toggle=\"collapse\" data-target={`#${chartName}`}>\n              {translations[title]}\n            </h4>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default FiltersLink;\nFiltersLink\n  .contextType = SSCTranslationContext;\n\nFiltersLink.propTypes = {\n  onLinkClicked: PropTypes.func,\n  onChangeChartSelect: PropTypes.func.isRequired,\n  chartName: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  chartSelected: PropTypes.string.isRequired\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactTooltip from 'react-tooltip';\nimport VisibilitySensor from 'react-visibility-sensor';\nimport './filters.css';\nimport { SSCTranslationContext } from '../../StartUp';\nimport { compareArrayNumber, calculateUpdatedValuesForDropDowns } from '../../../utils/Utils';\n\nclass MultiSelectionDropDown extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchText: ''\n    };\n  }\n\n  handleClearText() {\n    this.setState({ searchText: '' });\n  }\n\n  onSearchBoxChange(e) {\n    this.setState({ searchText: e.target.value });\n  }\n\n  onChange(e) {\n    const ipSelectedFilter = parseInt(e.target.value, 10);\n    const { selectedOptions, onChange, selectionLimit } = this.props;\n    if (selectionLimit === 0 || selectedOptions.length < selectionLimit || selectedOptions.includes(ipSelectedFilter)) {\n      onChange(calculateUpdatedValuesForDropDowns(ipSelectedFilter, selectedOptions));\n    }\n  }\n\n  onDropdownVisible(isVisible) {\n    if (isVisible) {\n      this.searchBox.focus();\n    }\n  }\n\n  getCategoryOptions(categoryId) {\n    const { options, categoryFetcher } = this.props;\n\n    return options.filter(o => categoryFetcher(o) === categoryId).map(of => of.id);\n  }\n\n  getSelectedCount() {\n    const { selectedOptions = [] } = this.props;\n    return selectedOptions.length;\n  }\n\n  getOptionsCount() {\n    const { options = [] } = this.props;\n    return options.length;\n  }\n\n  getOptions(selected) {\n    const {\n      options = [], selectedOptions = [], sortData, filterId\n    } = this.props;\n    const { searchText } = this.state;\n    const optionsFilteredByText = options.filter(p => (searchText === '' ? true\n      : p.name.toString().toUpperCase().indexOf(searchText.toUpperCase()) >= 0));\n\n    const optionsFiltered = optionsFilteredByText.filter(of => {\n      if (selected) {\n        return selectedOptions.includes(of.id);\n      } else {\n        return !selectedOptions.includes(of.id);\n      }\n    });\n    const optionsSorted = optionsFiltered.sort((a, b) => {\n      if (sortData) {\n        if (a.name < b.name) {\n          return -1;\n        } else if (a.name > b.name) {\n          return 1;\n        } else {\n          return 0;\n        }\n      } else {\n        return 0;\n      }\n    });\n    const elements = optionsSorted.map((o) => (\n      <li key={`${o.id + filterId}_li`}>\n        <input\n          key={`${o.id + filterId}_input`}\n          type=\"checkbox\"\n          name={`y${o.id}${filterId}`}\n          id={o.id + filterId}\n          value={o.id}\n          checked={selected}\n          onChange={(e) => {\n            this.onChange(e);\n          }}\n        />\n        <label htmlFor={o.id + filterId}>{o.name}</label>\n      </li>\n    ));\n    return (\n      <div className=\"row\" key={`filter-row ${filterId}`}>\n        <div className=\"filter-content col-md-12\">\n          <ul className=\"elements-list\">{elements}</ul>\n        </div>\n      </div>\n    );\n  }\n\n  isCategorySelected(categoryId) {\n    const { selectedOptions = [] } = this.props;\n    return compareArrayNumber(this.getCategoryOptions(categoryId), selectedOptions);\n  }\n\n  selectCategory(categoryId) {\n    const { onChange } = this.props;\n    onChange(this.getCategoryOptions(categoryId));\n  }\n\n  selectNone() {\n    const { onChange } = this.props;\n    onChange([]);\n  }\n\n  selectAll() {\n    const { options, onChange } = this.props;\n    onChange(options.map(o => o.id));\n  }\n\n  showCollapse() {\n    const { chartName, chartSelected, parentId } = this.props;\n\n    return chartName && chartSelected\n    && chartName === chartSelected ? true : !parentId;\n  }\n\n  getActualWidth(inputText) {\n    const font = '14px Montserrat \\'Open Sans\\'';\n    const canvas = document.createElement('canvas');\n    const context = canvas.getContext('2d');\n    context.font = font;\n    const { width } = context.measureText(inputText);\n    const formattedWidth = Math.ceil(width);\n    return formattedWidth;\n  }\n\n  render() {\n    const { translations } = this.context;\n    const onChangeNew = this.onChange.bind(this);\n    const { searchText } = this.state;\n    const {\n      categoriesSelection, categoryFetcher, chartName, chartSelected, onChangeChartSelected, parentId, filterId,\n      filterName, label, disabled, selectionLimit\n    } = this.props;\n    const textWidth = this.getActualWidth(`${translations['amp.ssc.dashboard:select-all']\n    } | ${translations['amp.ssc.dashboard:select-none']}`);\n    const SelectAll = () => (\n      <>\n        <span className=\"select-all all\">\n          <input\n            type=\"radio\"\n            value=\"1\"\n            name={`radio-${filterId}`}\n            id={`select-all-${filterId}`}\n            checked={this.getSelectedCount() === this.getOptionsCount()}\n          />\n          <label\n            htmlFor=\"select-all\"\n            onClick={() => this.selectAll()}>\n            {translations['amp.ssc.dashboard:select-all']}\n          </label>\n        </span>\n      </>\n    );\n    const SelectNone = () => (\n      <>\n        <span className=\"select-all all\">\n          <input\n            type=\"radio\"\n            value=\"2\"\n            name={`radio-${filterId}`}\n            id={`select-none-${filterId}`}\n            checked={this.getSelectedCount() === 0}\n          />\n          <label\n            htmlFor={`select-none-${filterId}`}\n            onClick={() => this.selectNone()}>\n            {translations['amp.ssc.dashboard:select-none']}\n          </label>\n        </span>\n      </>\n    );\n    const showQuickSelectionLinks = parentId !== null;\n    const showSelectAll = selectionLimit === 0;\n    return (\n      <div className={`horizontal-filter dropdown panel ${disabled ? ' disable-filter' : ''}`}>\n        {parentId\n        && (\n          <button\n            className={`btn btn-primary${chartName ? ` ${chartName}` : ''}${chartName\n            && chartSelected && chartName === chartSelected ? ' selected' : ''}`}\n            type=\"button\"\n            data-toggle=\"collapse\"\n            data-parent={`#${parentId}`}\n            href={`#${filterId}`}\n            aria-controls={filterId}\n            onClick={() => (onChangeChartSelected && chartName\n            !== chartSelected ? onChangeChartSelected(chartName) : false)}>\n            <span className=\"filterName\">\n            {translations[filterName]}\n              </span>\n            {' '}\n            {(!label) && (\n              <span\n                className=\"select-count\">\n                {`(${this.getSelectedCount()}/${this.getOptionsCount()})`}\n              </span>\n            )}\n          </button>\n        )}\n        <VisibilitySensor onChange={this.onDropdownVisible.bind(this)}>\n          <div\n            className={`filter-list collapse${this.showCollapse() ? 'in' : ''}`}\n            id={filterId}>\n            <div className=\"well\">\n              <div className=\"row autocomplete\">\n                {!showQuickSelectionLinks && (\n                  <div className={`col-md-${textWidth < 110 ? '3' : '5'}`}>\n                    <div className=\"select-all-none\">\n                      <SelectAll />\n                      <SelectNone />\n                    </div>\n                  </div>\n                )}\n                <div className={`col-md-${showQuickSelectionLinks ? '12' : '6'} autocomplete-row`}>\n                  <div className=\"autocomplete-box\">\n                    <input\n                      onChange={this.onSearchBoxChange.bind(this)}\n                      value={searchText}\n                      placeholder={`${translations['amp.ssc.dashboard:search']}...`}\n                      ref={input => this.searchBox = input}\n                    />\n                    <span className=\"clear\" onClick={this.handleClearText.bind(this)}></span>\n                  </div>\n                </div>\n                {!showQuickSelectionLinks && (\n                  <div className={`col-md-${textWidth < 110 ? '3' : '1'}`} />\n                )}\n              </div>\n              {showQuickSelectionLinks\n              && (\n                <div className=\"select-all-none\">\n                  {showSelectAll\n                  && (\n                    <SelectAll />\n                  )}\n                  {showSelectAll\n                  && (\n                    <SelectNone />\n                  )}\n                  {categoryFetcher && categoriesSelection && categoriesSelection.map((category, idx) => {\n                    const { id, name, tooltip } = category;\n                    return (\n                      <span\n                        className=\"select-all all\"\n                        onClick={() => this.selectCategory(id)}\n                        key={`all-none-${id}${filterId}`}>\n                        <input\n                          type=\"radio\"\n                          value={idx + 4}\n                          name={`radio-${filterId}`}\n                          id={name}\n                          checked={this.isCategorySelected(id)}\n                        />\n                        <label\n                          htmlFor={name}\n                          id={`${name}-label`}\n                          data-tip={tooltip}\n                          className={this.isCategorySelected(id) ? ' label-bold' : ''}>\n                          {name}\n                        </label>\n                      </span>\n                    );\n                  })}\n                </div>\n              )}\n              <div className=\"selected\">\n                <div\n                  className=\"title\">\n                  {translations['amp.ssc.dashboard:selected']}\n                  {' '}\n                  {label && parentId\n                  && (\n                    <span\n                      className=\"select-count\">\n                      {`${translations[label]} (${this.getSelectedCount()}/${this.getOptionsCount()})`}\n                    </span>\n                  )}\n                </div>\n\n                <div className=\"well-inner filter-list-inner\">\n                  {this.getOptions(true, onChangeNew)}\n                </div>\n              </div>\n              <div className=\"unselected\">\n                <div\n                  className=\"title\">\n                  {translations['amp.ssc.dashboard:un-selected']}\n                  {' '}\n                  {label && parentId\n                  && (\n                    <span\n                      className=\"select-count\">\n                      {`${translations[label]} (${this.getOptionsCount() - this.getSelectedCount()})`}\n                    </span>\n                  )}\n                </div>\n                <div className=\"well-inner filter-list-inner\">\n                  {this.getOptions(false, onChangeNew)}\n                </div>\n              </div>\n\n            </div>\n          </div>\n        </VisibilitySensor>\n        <ReactTooltip />\n      </div>\n    );\n  }\n}\n\nMultiSelectionDropDown.contextType = SSCTranslationContext;\n\nMultiSelectionDropDown.propTypes = {\n  sortData: PropTypes.bool,\n  options: PropTypes.array.isRequired,\n  selectedOptions: PropTypes.array,\n  label: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n  categoryFetcher: PropTypes.func,\n  categoriesSelection: PropTypes.array,\n  filterId: PropTypes.string.isRequired,\n  parentId: PropTypes.string,\n  onChangeChartSelected: PropTypes.func,\n  chartSelected: PropTypes.string,\n  chartName: PropTypes.string,\n  filterName: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  selectionLimit: PropTypes.number\n};\n\nMultiSelectionDropDown.defaultProps = {\n  selectedOptions: [],\n  categoriesSelection: [],\n  sortData: null,\n  parentId: null,\n  categoryFetcher: null,\n  chartName: null,\n  onChangeChartSelected: null,\n  chartSelected: null,\n  label: null,\n  disabled: false,\n  selectionLimit: 0\n};\nexport default MultiSelectionDropDown;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport SidebarIntro from './SidebarIntro';\nimport './sidebar.css';\nimport FiltersLink from '../filters/FiltersLink';\nimport { SSCTranslationContext } from '../../StartUp';\nimport MultiSelectionDropDown from '../filters/MultiSelectionDropDown';\nimport {\n  DOWNLOAD_CHART, HOME_CHART, MODALITY_CHART, SECTORS_CHART\n} from '../../../utils/constants';\n\nclass Sidebar extends Component {\n  render() {\n    const {\n      chartSelected, onChangeChartSelected, toggleDataDownload, handleSelectedFiltersChange,\n      filters, selectedFilters\n    } = this.props;\n    const { selectedSectors = [], selectedModalities = [] } = selectedFilters;\n    const { handleSelectedSectorChanged, handleSelectedModalityChanged } = handleSelectedFiltersChange;\n    const { sectors } = filters.sectors;\n    const { modalities } = filters.modalities;\n\n    return (\n      <div className=\"col-md-2 sidebar\">\n        <div className=\"sidebar-filter-wrapper\" id=\"side-accordion-filter\">\n          <FiltersLink\n            chartSelected={chartSelected}\n            onChangeChartSelect={onChangeChartSelected}\n            title=\"amp.ssc.dashboard:Home-Page\"\n            chartName={HOME_CHART}\n          />\n          <div className=\"sidebar-filter-wrapper\" id=\"side-accordion-filter\">\n            <MultiSelectionDropDown\n              options={sectors}\n              filterName=\"amp.ssc.dashboard:Sector-Analysis\"\n              filterId=\"ddSectorSide\"\n              parentId=\"side-accordion-filter\"\n              selectedOptions={selectedSectors}\n              onChange={handleSelectedSectorChanged}\n              label=\"amp.ssc.dashboard:Sectors\"\n              chartSelected={chartSelected}\n              chartName={SECTORS_CHART}\n              onChangeChartSelected={onChangeChartSelected}\n            />\n          </div>\n          <div className=\"sidebar-filter-wrapper\" id=\"side-accordion-filter\">\n            <MultiSelectionDropDown\n              options={modalities}\n              filterName=\"amp.ssc.dashboard:Modalities-Analysis\"\n              filterId=\"ddModalitiesSide\"\n              parentId=\"side-accordion-filter\"\n              selectedOptions={selectedModalities}\n              onChange={handleSelectedModalityChanged}\n              label=\"amp.ssc.dashboard:Modalities\"\n              chartSelected={chartSelected}\n              chartName={MODALITY_CHART}\n              onChangeChartSelected={onChangeChartSelected}\n            />\n          </div>\n          <FiltersLink\n            chartSelected={chartSelected}\n            onLinkClicked={toggleDataDownload}\n            onChangeChartSelect={onChangeChartSelected}\n            title=\"amp.ssc.dashboard:Download-Page\"\n            chartName={DOWNLOAD_CHART}\n          />\n        </div>\n        {(!chartSelected || chartSelected === HOME_CHART || chartSelected === DOWNLOAD_CHART)\n        && (\n          <SidebarIntro\n            text={['amp.ssc.dashboard:home-text-1', 'amp.ssc.dashboard:home-text-2']} />\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  settings: {\n    settings: state.startupReducer.settings,\n    settingsLoaded: state.startupReducer.settingsLoaded\n  },\n  filters: {\n    sectors: {\n      sectors: state.filtersReducer.sectors,\n      sectorsLoaded: state.filtersReducer.sectorsLoaded\n    },\n    modalities: {\n      modalities: state.filtersReducer.modalities,\n      modalitiesLoaded: state.filtersReducer.modalitiesLoaded\n    },\n\n  }\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar);\nSidebar\n  .contextType = SSCTranslationContext;\n\nSidebar.propTypes = {\n  filters: PropTypes.object.isRequired,\n  toggleDataDownload: PropTypes.func.isRequired,\n  chartSelected: PropTypes.string.isRequired,\n  onChangeChartSelected: PropTypes.func.isRequired,\n  selectedFilters: PropTypes.object.isRequired,\n  handleSelectedFiltersChange: PropTypes.shape({\n    handleSelectedModalityChanged: PropTypes.func.isRequired,\n    handleSelectedCountryChanged: PropTypes.func.isRequired,\n    handleSelectedYearChanged: PropTypes.func.isRequired,\n    handleSelectedSectorChanged: PropTypes.func.isRequired\n  }).isRequired\n};\n","import { useImage } from 'react-image';\nimport React, { Suspense } from 'react';\nimport PropTypes from 'prop-types';\nimport * as Utils from '../../utils/Utils';\nimport { FALLBACK_FLAG } from '../../utils/constants';\n\nconst Flag = ({ countryName }) => {\n  const { src } = useImage({\n    srcList: Utils.getCountryFlag(countryName)\n  });\n  return (<img src={src} alt={countryName} />);\n};\nconst CountryFlag = ({ countryName }) => {\n  return (\n    <Suspense fallback={<img alt=\"loading\" src={FALLBACK_FLAG} />}>\n      <Flag countryName={countryName} />\n    </Suspense>\n  );\n};\nCountryFlag.propTypes = {\n  countryName: PropTypes.string.isRequired\n};\n\nFlag.propTypes = {\n  countryName: PropTypes.string.isRequired\n};\nexport default CountryFlag;\n","import React, { Component, Suspense } from 'react';\nimport InfiniteCarousel from '@tmugo/react-infinite-carousel';\nimport EllipsisText from 'react-ellipsis-text';\nimport PropTypes from 'prop-types';\nimport * as Utils from '../../../utils/Utils';\nimport './filters.css';\nimport {\n  FLAGS_TO_SHOW_DEFAULT,\n  FLAGS_TO_SHOW_SMALL,\n  FLAGS_TO_SHOW_SMALL_WIDTH_THRESHOLD, NEGATIVE_ONE, ONE, ZERO\n} from '../../../utils/constants';\nimport CountryFlag from '../../utils/CountryFlag';\n\nexport default class CountryCarousel extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { slidesToShow: FLAGS_TO_SHOW_DEFAULT };\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.onResize.bind(this));\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize.bind(this));\n  }\n\n  onResize() {\n    this.setState(previousState => {\n      const slidesToShow = this.calculateCarouselValues();\n      return slidesToShow === previousState.slidesToShow ? null : { slidesToShow };\n    });\n  }\n\n  onFlagClick = param => () => {\n    const ipSelectedFilter = parseInt(param, 10);\n    const { selectedOptions, onChange } = this.props;\n    if (selectedOptions.length < 6 || selectedOptions.includes(ipSelectedFilter)) {\n      onChange(Utils.calculateUpdatedValuesForDropDowns(ipSelectedFilter, selectedOptions));\n    }\n  };\n\n  getFlags() {\n    const { options, selectedOptions } = this.props;\n    return options.sort((a, b) => (a.name > b.name ? ONE : NEGATIVE_ONE)).map((c) => (\n      <div\n        key={`flag-${c.id}`}\n        onClick={this.onFlagClick(c.id)}\n        className={`flag ${selectedOptions.includes(c.id) ? 'selected' : ''}`}>\n        <Suspense fallback={(<div>Loading...</div>)}>\n          <CountryFlag countryName={c.name} />\n        </Suspense>\n        <EllipsisText\n          text={c.name}\n          length={9}\n          tail=\"\" />\n      </div>\n    ));\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  calculateCarouselValues() {\n    let slidesToShow = FLAGS_TO_SHOW_DEFAULT;\n    if (window.innerWidth <= FLAGS_TO_SHOW_SMALL_WIDTH_THRESHOLD) {\n      slidesToShow = FLAGS_TO_SHOW_SMALL;\n    }\n    return slidesToShow;\n  }\n\n  render() {\n    const { options } = this.props;\n    const { slidesToShow } = this.state;\n    return (\n      options.length > ZERO\n        ? (\n          <InfiniteCarousel\n            className=\"disable-filter\"\n            breakpoints={[\n              {\n                breakpoint: 500,\n                settings: {\n                  slidesToShow: 9,\n                  slidesToScroll: 2,\n                },\n              },\n              {\n                breakpoint: 768,\n                settings: {\n                  slidesToShow: 3,\n                  slidesToScroll: 3,\n                },\n              }\n            ]}\n            dots={false}\n            showSides\n            sidesOpacity={1}\n            sideSize={0.1}\n            slidesToScroll={4}\n            slidesToShow={slidesToShow}\n            scrollOnDevice\n          >\n            {this.getFlags()}\n          </InfiniteCarousel>\n        )\n        : null\n    );\n  }\n}\nCountryCarousel.propTypes = {\n  options: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired,\n  selectedOptions: PropTypes.array\n};\n\nCountryCarousel.defaultProps = {\n  selectedOptions: []\n};\n","import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport MultiSelectionDropDown from './MultiSelectionDropDown';\nimport CountryCarousel from './CountryCarousel';\n\nimport './filters.css';\nimport {\n  DOWNLOAD_CHART, HOME_CHART, MODALITY_CHART,\n  SECTORS_CHART\n} from '../../../utils/constants';\nimport { EXTRA_INFO, GROUP_ID } from '../../../utils/FieldsConstants';\nimport { SSCTranslationContext } from '../../StartUp';\n\nimport { generateYearsFilters, getCategoryForCountry } from '../../../utils/Utils';\n\nclass HorizontalFilters extends Component {\n// TODO move to utility file\n  generateCountriesCategories(countries) {\n    const categories = [...new Set(countries.map(c => c[EXTRA_INFO][GROUP_ID]))];\n    const { filters } = this.props;\n    return filters.countries.countries.filter(c => categories.includes(c.id)).map(c => {\n      const category = {};\n      category.id = c.id;\n      category.name = c.description;\n      category.tooltip = c.name;\n      return category;\n    });\n  }\n\n  clearFilters() {\n    const { handleSelectedFiltersChange } = this.props;\n    handleSelectedFiltersChange.handleSelectedCountryChanged([]);\n    handleSelectedFiltersChange.handleSelectedSectorChanged([]);\n    handleSelectedFiltersChange.handleSelectedModalityChanged([]);\n    handleSelectedFiltersChange.handleSelectedYearChanged([]);\n  }\n\n  render() {\n    const { translations } = this.context;\n    const {\n      chartSelected, settings, filters, selectedFilters, filtersRestrictions, handleSelectedFiltersChange\n    } = this.props;\n    const years = [];\n    const {\n      selectedYears, selectedCountries, selectedSectors, selectedModalities\n    } = selectedFilters;\n    const { sectors } = filters.sectors;\n    let { countries } = filters.countries;\n    const { modalities } = filters.modalities;\n    let categoriesSelection = [];\n    if (countries.length > 0 && filtersRestrictions.countriesWithData.length > 0) {\n      countries = countries.filter(c => filtersRestrictions.countriesWithData.includes(c.id));\n      categoriesSelection = this.generateCountriesCategories(countries);\n    }\n    const {\n      handleSelectedYearChanged,\n      handleSelectedCountryChanged,\n      handleSelectedSectorChanged,\n      handleSelectedModalityChanged\n    } = handleSelectedFiltersChange;\n    generateYearsFilters(years, settings, filtersRestrictions.mostRecentYear);\n    const additionalCss = chartSelected === DOWNLOAD_CHART ? ' disable-filter' : '';\n    return (\n      <div className=\"h-filter-wrapper\">\n        {(chartSelected === SECTORS_CHART || chartSelected === MODALITY_CHART || chartSelected === DOWNLOAD_CHART)\n        && (\n          <div className=\"carousel-filters-wrapper\" id=\"country-accordion-filter\">\n            <div className={`col-md-6 ${additionalCss}`}>\n              <CountryCarousel\n                options={countries}\n                onChange={handleSelectedCountryChanged}\n                selectedOptions={selectedCountries}\n              />\n            </div>\n            <div\n              className=\"col-md-6 country-year-search-wrapper first-element dropdown\"\n              id=\"country-accordion-filter\">\n              <div className=\"wide-dropdown\">\n                <MultiSelectionDropDown\n                  options={countries}\n                  filterName=\"amp.ssc.dashboard:search-by-country\"\n                  filterId=\"ddCountryCarousel\"\n                  parentId=\"country-accordion-filter\"\n                  categoryFetcher={getCategoryForCountry}\n                  sortData\n                  categoriesSelection={categoriesSelection}\n                  selectedOptions={selectedCountries}\n                  onChange={handleSelectedCountryChanged}\n                  selectionLimit={6}\n                  disabled={chartSelected === DOWNLOAD_CHART}\n                />\n              </div>\n              <div className=\"wide-dropdown\">\n                <MultiSelectionDropDown\n                  options={years}\n                  selectedOptions={selectedYears}\n                  filterName=\"amp.ssc.dashboard:search-by-year\"\n                  filterId=\"ddYearCarousel\"\n                  parentId=\"country-accordion-filter\"\n                  onChange={handleSelectedYearChanged}\n                  disabled={chartSelected === DOWNLOAD_CHART}\n                />\n              </div>\n              <div className=\"wide-dropdown\">\n                <div\n                  className={`horizontal-filter dropdown panel ${chartSelected === DOWNLOAD_CHART\n                    ? ' disable-filter' : ''}`}>\n                  <button\n                    className=\"reset btn btn-primary\"\n                    type=\"button\"\n                    onClick={this.clearFilters.bind(this)}>\n                    {translations['amp.ssc.dashboard:reset']}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n        {chartSelected === HOME_CHART\n        && (\n          <div className=\"row inner\">\n            <div id=\"accordion-filter\" className=\"home-filter\">\n              <div className=\"col-md-3\" id=\"accordion-filter\">\n                <MultiSelectionDropDown\n                  options={countries}\n                  filterName=\"amp.ssc.dashboard:Country\"\n                  filterId=\"ddCountry\"\n                  parentId=\"accordion-filter\"\n                  categoryFetcher={getCategoryForCountry}\n                  sortData\n                  categoriesSelection={categoriesSelection}\n                  selectedOptions={selectedCountries}\n                  onChange={handleSelectedCountryChanged}\n\n                />\n              </div>\n              <div className=\"col-md-3\" id=\"accordion-filter\">\n                <MultiSelectionDropDown\n                  options={sectors}\n                  filterName=\"amp.ssc.dashboard:Sector\"\n                  filterId=\"ddSector\"\n                  parentId=\"accordion-filter\"\n                  selectedOptions={selectedSectors}\n                  onChange={handleSelectedSectorChanged}\n                />\n              </div>\n              <div className=\"col-md-2\" id=\"accordion-filter\">\n                <MultiSelectionDropDown\n                  options={modalities}\n                  selectedOptions={selectedModalities}\n                  filterName=\"amp.ssc.dashboard:Modalities\"\n                  filterId=\"ddModalities\"\n                  parentId=\"accordion-filter\"\n                  onChange={handleSelectedModalityChanged}\n                />\n              </div>\n\n              <div className=\"col-md-2\" id=\"accordion-filter\">\n                <MultiSelectionDropDown\n                  options={years}\n                  selectedOptions={selectedYears}\n                  filterName=\"amp.ssc.dashboard:Year\"\n                  filterId=\"ddYear\"\n                  parentId=\"accordion-filter\"\n                  onChange={handleSelectedYearChanged}\n                  columnsCount={2}\n                />\n              </div>\n              <div className=\"reset col-md-2\">\n                <button\n                  className=\"btn btn-primary\"\n                  type=\"button\"\n                  onClick={this.clearFilters.bind(this)}>\n                  {translations['amp.ssc.dashboard:reset']}\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  settings: {\n    settings: state.startupReducer.settings,\n    settingsLoaded: state.startupReducer.settingsLoaded\n  },\n  filters: {\n    sectors: {\n      sectors: state.filtersReducer.sectors,\n      sectorsLoaded: state.filtersReducer.sectorsLoaded\n    },\n    countries: {\n      countries: state.filtersReducer.countries,\n      countriesLoaded: state.filtersReducer.countriesLoaded\n    },\n    modalities: {\n      modalities: state.filtersReducer.modalities,\n      modalitiesLoaded: state.filtersReducer.modalitiesLoaded\n    },\n\n  }\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HorizontalFilters);\nHorizontalFilters\n  .contextType = SSCTranslationContext;\nHorizontalFilters.propTypes = {\n  handleSelectedFiltersChange: PropTypes.object.isRequired,\n  filters: PropTypes.object.isRequired,\n  settings: PropTypes.object.isRequired,\n  selectedFilters: PropTypes.shape({\n    selectedYears: PropTypes.array,\n    selectedCountries: PropTypes.array,\n    selectedSectors: PropTypes.array,\n    selectedModalities: PropTypes.array\n  }),\n  chartSelected: PropTypes.string.isRequired,\n  filtersRestrictions: PropTypes.object.isRequired\n};\nHorizontalFilters.defaultProps = {\n  selectedFilters: {\n    selectedYears: [],\n    selectedCountries: [],\n    selectedSectors: [],\n    selectedModalities: [],\n  }\n};\n","import React from 'react';\nimport L from 'leaflet';\n// eslint-disable-next-line no-unused-vars\nimport { curve } from 'leaflet-curve';\nimport { withLeaflet } from 'react-leaflet';\n\n// TODO make it configurable and parametrized\nclass ConnectionLayer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.lines = [];\n  }\n\n  componentDidMount() {\n    this.map = this.props.leaflet.map;\n    const { points } = this.props;\n    if (points) {\n      this.update();\n    }\n  }\n\n  compareProps(prevProps, newProps) {\n    if (prevProps.points.length !== newProps.points.length) {\n      return true;\n    }\n    for (let i = 0; i < prevProps.points.length; i++) {\n      if (prevProps.points[i].latitude !== newProps.points[i].latitude\n                || prevProps.points[i].longitude !== newProps.points[i].longitude\n                || prevProps.points[i].color !== newProps.points[i].color) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.compareProps(prevProps, this.props)) {\n      this.update();\n    }\n  }\n\n  cleanLines() {\n    if (this.lines.length > 0) {\n      this.lines.forEach(l => {\n        l.removeFrom(this.map);\n      });\n      this.lines = [];\n    }\n  }\n\n  drawLine(point1, point2) {\n    const {\n      lineWeight, breaks, maxWeight = 20, onClick\n    } = this.props;\n    const lineColor = point2.color;\n    const latlng1 = [point1.latitude, point1.longitude];\n    const latlng2 = [point2.latitude, point2.longitude];\n\n    const offsetX = latlng2[1] - latlng1[1];\n    const offsetY = latlng2[0] - latlng1[0];\n\n    const r = Math.sqrt(Math.pow(offsetX, 2) + Math.pow(offsetY, 2));\n    const theta = Math.atan2(offsetY, offsetX);\n\n    const thetaOffset = (3.14 / 10);\n\n    const r2 = (r / 2) / (Math.cos(thetaOffset));\n    const theta2 = theta + thetaOffset;\n\n    const midpointX = (r2 * Math.cos(theta2)) + latlng1[1];\n    const midpointY = (r2 * Math.sin(theta2)) + latlng1[0];\n\n    const midpointLatLng = [midpointY, midpointX];\n\n    let weight = 1;\n    if (breaks && breaks.length) {\n      const breakUnit = maxWeight / breaks.length;\n      for (let i = 0; i < breaks.length - 1; i++) {\n        if (point2.value > breaks[i] && point2.value < breaks[i + 1]) {\n          weight = breakUnit * (i + 1);\n        }\n      }\n    }\n\n    const pathOptions = {\n      color: lineColor || 'rgba(255,140,0,0.5)',\n      weight: lineWeight || weight,\n      pointData: point2,\n      dashOffset: '51',\n      dashArray: '5 5',\n      stroke: 'white'\n    };\n\n    const line = new L.curve(\n      [\n        'M', latlng1,\n        'Q', midpointLatLng,\n        latlng2\n      ], pathOptions\n    );\n    line.addTo(this.map);\n    if (onClick) {\n      line.on('click', f => onClick(f.target.options.pointData, f.latlng));\n    }\n    this.lines.push(line);\n  }\n\n  update() {\n    const { points, nodePoint } = this.props;\n    this.cleanLines();\n    points.forEach(d => {\n      this.drawLine(nodePoint, d);\n    });\n  }\n\n  render() {\n    return (<div />);\n  }\n}\n\nexport default withLeaflet(ConnectionLayer);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './ToogleSwitch.css';\n\n/*\nToggle Switch Component\nNote: id and text are is required for ToggleSwitch component to function. Name, currentValue, defaultChecked, big, s\nmall and onChange are optional.\nIf uses Small then no text is used and only shows the\nUsage: <ToggleSwitch id=\"id\" onChange={function (e) { console.log(\"Checkbox Current State: \" + e.target.checked); }} />\n*/\nclass ToggleSwitch extends Component {\n  constructor(props) {\n    super(props);\n    const { defaultChecked } = props;\n    this.state = {\n      checked: defaultChecked\n    };\n  }\n\n  onChange(e) {\n    const { onChange } = this.props;\n    this.setState({\n      checked: e.target.checked\n    });\n    if (typeof onChange === 'function') onChange(e.target.checked);\n  }\n\n  render() {\n    const {\n      id, name, big, currentValue, defaultChecked, disabled, text, small\n    } = this.props;\n    return (\n      <div className={`toggle-switch${big ? ' big-switch' : small ? 'small-switch' : ''}`}>\n        <input\n          type=\"checkbox\"\n          name={name}\n          className=\"toggle-switch-checkbox\"\n          id={id}\n          checked={currentValue}\n          defaultChecked={defaultChecked}\n          onChange={this.onChange.bind(this)}\n          disabled={disabled}\n                />\n        {id ? (\n          <label className=\"toggle-switch-label\" htmlFor={id}>\n            <span\n              className={\n                    disabled\n                      ? 'toggle-switch-inner toggle-switch-disabled'\n                      : 'toggle-switch-inner'\n                }\n              data-yes={text[0]}\n              data-no={text[1]}\n            />\n            <span\n              className={\n                                disabled\n                                  ? 'toggle-switch-switch toggle-switch-disabled'\n                                  : 'toggle-switch-switch'\n                            }\n                        />\n          </label>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nToggleSwitch.propTypes = {\n  id: PropTypes.string.isRequired,\n  text: PropTypes.array.isRequired,\n  name: PropTypes.string,\n  onChange: PropTypes.func,\n  defaultChecked: PropTypes.bool,\n  big: PropTypes.bool,\n  small: PropTypes.bool,\n  currentValue: PropTypes.bool,\n  disabled: PropTypes.bool\n};\n\nexport default ToggleSwitch;\n","import EllipsisText from 'react-ellipsis-text';\nimport React from 'react';\nimport * as FieldsConstants from './FieldsConstants';\nimport {\n  COLOR_MAP, COLOR_MAP_CUSTOM, MODALITY_CHART\n} from './constants';\n\nexport function generateStructureBasedOnSector(objectData) {\n  return generateStructureBasedOnSectorProjectCount(objectData).groupings;\n}\n\nexport function generateStructureBasedOnSectorProjectCount(objectData) {\n  const projectSectors = {};\n  projectSectors.uniqueProjects = new Set();\n  projectSectors.groupings = [];\n  objectData[FieldsConstants.PRIMARY_SECTOR].forEach(s => {\n    const sector = {};\n    sector.id = s.id;\n    sector.activities = new Set();\n    s[FieldsConstants.MODALITIES].forEach(m => {\n      m.activities.forEach(p => {\n        sector.activities.add(p.id);\n        projectSectors.uniqueProjects.add(p.id);\n      });\n    });\n    projectSectors.groupings.push(sector);\n  });\n  return projectSectors;\n}\n\nexport function generateStructureBasedOnModalitiesProjectCount(objectData) {\n  const projectModalities = {};\n  projectModalities.groupings = new Map();\n  projectModalities.uniqueProjects = new Set();\n  objectData[FieldsConstants.PRIMARY_SECTOR].forEach(s => {\n    s[FieldsConstants.MODALITIES].forEach(m => {\n      let projectModality;\n      if (!projectModalities.groupings.has(m.id)) {\n        projectModality = {};\n        projectModality.id = m.id;\n        projectModality.code = m.id;\n        projectModality.activities = new Set();\n      } else {\n        projectModality = projectModalities.groupings.get(m.id);\n      }\n      m.activities.forEach(p => {\n        projectModality.activities.add(p.id);\n        projectModalities.uniqueProjects.add(p.id);\n      });\n      projectModalities.groupings.set(m.id, projectModality);\n    });\n  });\n\n  projectModalities.groupings = Array.from(projectModalities.groupings.values());\n  calculateColors(projectModalities.groupings, MODALITY_CHART);\n  return projectModalities;\n}\n\nfunction calculateColors(groupings, chartSelected) {\n  groupings.forEach(g => {\n    getColor(g, chartSelected);\n  });\n}\n\nexport function getColor(item, chartSelected) {\n  let colorMap;\n  let color;\n  colorMap = COLOR_MAP.get(chartSelected);\n  if (!colorMap) {\n    colorMap = new Map();\n    COLOR_MAP.set(chartSelected, colorMap);\n  }\n  color = colorMap.get(item.code);\n  if (!color) {\n    color = COLOR_MAP_CUSTOM.get(chartSelected).shift();\n    colorMap.set(item.code, color);\n  }\n  return color;\n}\n\nexport function getProjects(projects, elementId, activitiesDetails, ellipsisLength, na) {\n  return [...projects].map(p => {\n    const project = getProject(p, activitiesDetails);\n    const prj = {};\n    prj.projectName = project\n      ? project[FieldsConstants.PROJECT_TITLE] : na;\n    prj.ampUrl = project\n      ? project.ampUrl : '/';\n    prj.id = p;\n    return prj;\n  }).sort((a, b) => (a.projectName > b.projectName ? 1 : -1)).map(p => (\n    <li key={`prj_list_${elementId}_${p.id}`}>\n      <a href={p.ampUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n        <EllipsisText\n          text={p.projectName}\n          length={ellipsisLength} />\n      </a>\n    </li>\n  ));\n}\n\nexport function getChartData(projectsByGroupings, groupings, includeActivities) {\n  const totalActivities = projectsByGroupings.groupings.reduce((prev, g) => prev + g.activities.size, 0);\n  let tail = 0;\n  return projectsByGroupings.groupings.map(g => {\n    const grouping = {};\n    const groupingsFilter = groupings.find(ss => ss.id === g.id);\n    grouping.id = g.id.toString();\n    grouping.code = groupingsFilter.code ? groupingsFilter.code : groupingsFilter.id;\n    grouping.value = g.activities.size;\n    if (includeActivities) {\n      grouping.activities = g.activities;\n    }\n\n    const per = ((grouping.value * 100) / totalActivities);\n    const prevBaseLine = tail;\n    tail += per;\n    const tailRounded = Math.round((tail + Number.EPSILON) * 100) / 100;\n    grouping.percentage = Math.round(((tailRounded - prevBaseLine) + Number.EPSILON) * 100) / 100;\n    grouping.label = `${groupingsFilter.name} ${grouping.percentage}%`;\n    grouping.simpleLabel = groupingsFilter.name;\n    return grouping;\n  }).sort(((a, b) => (a.value > b.value ? -1 : 1)));\n}\n\nexport function getProject(projectId, activitiesDetails) {\n  if (activitiesDetails && activitiesDetails.activities.length > 0) {\n    return activitiesDetails.activities.find(a => a[FieldsConstants.ACTIVITY_ID] === projectId);\n  }\n}\n","import React, { Component } from 'react';\nimport ToggleSwitch from '../../../utils/ToggleSwitch';\nimport './HomePopup.css';\nimport { SSCTranslationContext } from '../../../StartUp';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport * as FieldsConstants from '../../../../utils/FieldsConstants';\nimport { PROJECT_LENGTH_HOME_PAGE, UNDEFINED_FILTER } from '../../../../utils/constants';\nimport * as Utils from '../../../../utils/Utils';\nimport { Img } from 'react-image';\nimport { generateStructureBasedOnSector, getProjects } from '../../../../utils/ProjectUtils';\n\nclass HomePopup extends Component {\n  generateStructureBasedOnModalities() {\n    const { objectData } = this.props.data;\n    const modalities = new Map();\n    objectData[FieldsConstants.PRIMARY_SECTOR].forEach(s => {\n      s[FieldsConstants.MODALITIES].forEach(m => {\n        if (!modalities.has(m.id)) {\n          const modality = {};\n          modality.id = m.id;\n          modality.activities = new Set();\n          modalities.set(m.id, modality);\n        }\n        m.activities.forEach(p => {\n          modalities.get(m.id).activities.add(p.id);\n        });\n      });\n    });\n    return ([...modalities.values()]);\n  }\n\n  getModalityName(modalityId) {\n    const { modalities } = this.props.filters;\n    const { translations } = this.context;\n    if (modalities.modalitiesLoaded && modalityId !== UNDEFINED_FILTER) {\n      return modalities.modalities.find(s => s.id === modalityId).name;\n    } else {\n      return translations['amp.ssc.dashboard:NA'];\n    }\n  }\n\n  getSectorName(sectorId) {\n    const { sectors } = this.props.filters;\n    const { translations } = this.context;\n    if (sectors.sectorsLoaded) {\n      return sectors.sectors.find(s => s.id === sectorId).name;\n    } else {\n      return translations['amp.ssc.dashboard:NA'];\n    }\n  }\n\n  getTableData(showSector) {\n    const data = showSector ? generateStructureBasedOnSector(this.props.data.objectData) : this.generateStructureBasedOnModalities();\n    const { activitiesDetails } = this.props.projects;\n\n    return data.map(m => {\n      m.description = showSector ? this.getSectorName(m.id) : this.getModalityName(m.id);\n      return m;\n    }).sort((a, b) => (a.description > b.description ? 1 : -1)).map(m => (\n      <div className=\"content-row\" key={m.id}>\n        <div>\n          <span className={`title filter-element${showSector ? '' : ' alternative'}`}>{m.description}</span>\n        </div>\n        <div className=\"project-list\">\n          <ul>\n            {getProjects(m.activities, m.id, activitiesDetails,\n              PROJECT_LENGTH_HOME_PAGE, this.context.translations['amp.ssc.dashboard:NA'])}\n          </ul>\n        </div>\n      </div>\n    ));\n  }\n\n  render() {\n    const { translations } = this.context;\n    const { data, showSector, handleChangeDataToShow } = this.props;\n    return (\n      <div className=\"homepage-popup\">\n        <div className=\"header\">\n          <div className=\"country-name\">\n            <Img\n              src={Utils.getCountryFlag(data.objectName)} />\n            <span>{data.objectName}</span>\n            <ToggleSwitch\n              big\n              defaultChecked={showSector}\n              id=\"sectorsToggle\"\n              text={[translations['amp.ssc.dashboard:Sector'],\n                translations['amp.ssc.dashboard:Modalities']]}\n              onChange={handleChangeDataToShow} />\n          </div>\n        </div>\n        <div className=\"content\">\n          {this.getTableData(showSector)}\n        </div>\n      </div>\n    );\n  }\n}\n\nHomePopup.contextType = SSCTranslationContext;\n\nconst mapStateToProps = state => ({\n  filters: {\n    sectors: {\n      sectors: state.filtersReducer.sectors,\n      sectorsLoaded: state.filtersReducer.sectorsLoaded\n    },\n    modalities: {\n      modalities: state.filtersReducer.modalities,\n      modalitiesLoaded: state.filtersReducer.modalitiesLoaded\n    }\n  },\n  projects: {\n    activitiesDetails: state.reportsReducer.activitiesDetails,\n    activitiesDetailsLoaded: state.reportsReducer.activitiesDetailsLoaded,\n  }\n});\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePopup);\n","import React, { Component } from 'react';\nimport {\n  Map, TileLayer, CircleMarker, Popup, ZoomControl\n} from 'react-leaflet';\nimport * as L from 'leaflet';\nimport Control from 'react-leaflet-custom-control';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport CenterIcon from '../../images/icons/centermap.png';\nimport '../../../../App.css';\nimport ConnectionLayer from './d3Layer/ConnectionLayer';\nimport {\n  NON_SELECTED_LINE_COLOR,\n  SELECTED_BUBBLE_COLOR,\n  NON_SELECTED_BUBBLE_COLOR,\n  SELECTED_LINE_COLOR\n} from '../../utils/constants';\nimport '../layout/map/map.css';\nimport HomePopup from '../layout/popups/homepopup/HomePopup';\nimport { EXTRA_INFO, CENTRO_ID } from '../../utils/FieldsConstants';\nimport { SSCTranslationContext } from '../StartUp';\n\nclass MapHome extends Component {\n  // TODO map config should come from configuration\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      zoom: 3,\n      lat: -6.227933930268672,\n      lng: 48.33984375,\n      selectedCountries: [],\n      showSector: true,\n      mapCentered: false\n\n    };\n    this.theMap = null;\n  }\n\n  // eslint-disable-next-line no-undef\n  componentDidUpdate(prevProps) {\n    const { filteredProjects } = this.props;\n    if (prevProps.filteredProjects !== filteredProjects) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState(previousState => {\n        const availableCountries = filteredProjects.map(p => p.id);\n        const selectedCountries = previousState.selectedCountries.filter(c => availableCountries.includes(c));\n        return { selectedCountries };\n      });\n    }\n  }\n\n  handleChangeDataToShow(checked) {\n    this.setState({ showSector: checked });\n  }\n\n  handleCenterClick() {\n    this.setState({ mapCentered: false }, () => this.centerMap(this.theMap));\n  }\n\n  onBubbleClick(e) {\n    this.setState(previousState => {\n      const selectedCountries = [...previousState.selectedCountries, e.target.options.dataPoint.objectData.id];\n      return { selectedCountries };\n    });\n  }\n\n  getPoints(dataFiltered, center) {\n    const result = [];\n    const { selectedCountries, showSector } = this.state;\n    dataFiltered.forEach(data => {\n      const countryCenter = new L.LatLng(data.latitude, data.longitude);\n      // TODO make circleMarker returned by a parametrized method\n      const bubbleColor = selectedCountries.includes(data.objectData.id)\n        ? SELECTED_BUBBLE_COLOR : NON_SELECTED_BUBBLE_COLOR;\n      result.push(\n        <CircleMarker\n          center={countryCenter}\n          radius={8}\n          stroke\n          color={bubbleColor}\n          opacity={0.7}\n          weight={2}\n          fill\n          fillColor={bubbleColor}\n          fillOpacity={0.9}\n          key={data.objectData.id}\n          onClick={e => this.onBubbleClick(e)}\n          onPopupClose={e => this.popUpClosed(e)}\n          dataPoint={data}\n        >\n          {' '}\n          <Popup>\n            <HomePopup\n              data={data}\n              showSector={showSector}\n              handleChangeDataToShow={this.handleChangeDataToShow.bind(this)} />\n          </Popup>\n        </CircleMarker>\n      );\n    });\n    const centerCountry = new L.LatLng(center.latitude, center.longitude);\n    result.push(\n      <CircleMarker\n        dashArray=\"10 10\"\n        center={centerCountry}\n        radius={20}\n        stroke\n        color=\"#006600\"\n        opacity={0.3}\n        weight={2}\n        fill\n        fillColor=\"#006600\"\n        fillOpacity={0.3}\n        key=\"centralPoint\"\n      />\n    );\n    return result;\n  }\n\n  popUpClosed(e) {\n    this.setState({ showSector: true });\n    this.setState(previousState => {\n      const selectedCountries = previousState.selectedCountries\n        .filter(c => c !== e.target.options.dataPoint.objectData.id);\n      return { selectedCountries };\n    });\n  }\n\n  // TODO see if we can avoid iterating the points twice (one to generate it and another one to\n  // create the circle marker.\n  _generateDataPoints(points) {\n    const { selectedCountries } = this.state;\n    const { filteredProjects, countries } = this.props;\n    // at this point selected countries can contain countries that are no longer in the result list\n    // we need to filter the out so if they appear again in the result they are drawn orange instead of yellow\n    filteredProjects.forEach(fp => {\n      const countryFound = countries.find(element => element.id === fp.id);\n      if (countryFound) {\n        if (countryFound[EXTRA_INFO] && countryFound[EXTRA_INFO][CENTRO_ID]) {\n          const centroId = countryFound[EXTRA_INFO][CENTRO_ID];\n          const dataPoint = {};\n          dataPoint.color = selectedCountries.includes(fp.id) ? SELECTED_LINE_COLOR : NON_SELECTED_LINE_COLOR;\n          dataPoint.latitude = centroId.lat;\n          dataPoint.longitude = centroId.lon;\n          dataPoint.objectData = fp;\n          dataPoint.objectName = countryFound.name;\n          points.push(dataPoint);\n        }\n      }\n    });\n  }\n\n  centerMap(theMap) {\n    const { filteredProjects } = this.props;\n    const { mapCentered } = this.state;\n    if (theMap && !mapCentered && filteredProjects && filteredProjects.length > 0) {\n      const points = [];\n      this._generateDataPoints(points);\n      const arrayOfLatLngs = [];\n      points.forEach(data => {\n        const countryCenter = new L.LatLng(data.latitude, data.longitude);\n        arrayOfLatLngs.push(countryCenter);\n      });\n      const bounds = new L.LatLngBounds(arrayOfLatLngs);\n      if (bounds.isValid()) {\n        theMap.leafletElement.fitBounds(bounds);\n        this.setState({ mapCentered: true });\n      }\n    }\n  }\n\n  render() {\n    const { lat, lng, zoom } = this.state;\n    const mapCenter = [lat, lng];\n    const { translations } = this.context;\n    const { filteredProjects, countries } = this.props;\n    // TODO country centroID comes from config\n    const center = { latitude: 18.567634, longitude: -72.315361 };\n    const points = [];\n    if (filteredProjects && filteredProjects.length > 0\n      && countries && countries.length > 0) {\n      this._generateDataPoints(points);\n    }\n    return (\n      <Map\n        className=\"map-container\"\n        center={mapCenter}\n        zoom={zoom}\n        maxZoom={4}\n        minZoom={1}\n        ref={ref => {\n          this.theMap = ref;\n          this.centerMap(ref);\n        }}\n        zoomControl={false}\n      >\n        <TileLayer\n          attribution='&amp;copy <a href=\"https://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        {' '}\n        <ZoomControl\n          zoomInTitle={translations['amp.ssc.dashboard:zoom-in']}\n          zoomOutTitle={translations['amp.ssc.dashboard:zoom-out']}\n        />\n        <Control position=\"topleft\" className=\"leaflet-control-zoom leaflet-bar\">\n          {/*eslint-disable-next-line jsx-a11y/anchor-is-valid*/}\n          <a onClick={this.handleCenterClick.bind(this)}>\n            <img\n              src={CenterIcon}\n              className=\"map-control\"\n              alt={translations['amp.ssc.dashboard:center-map']}\n              title={translations['amp.ssc.dashboard:center-map']} />\n          </a>\n        </Control>\n        <ConnectionLayer\n          points={points}\n          nodePoint={center}\n          />\n        {this.getPoints(points, center)}\n      </Map>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  filters: {\n    sectors: {\n      sectors: state.filtersReducer.sectors,\n      sectorsLoaded: state.filtersReducer.sectorsLoaded\n    },\n    countries: {\n      countries: state.filtersReducer.countries,\n      countriesLoaded: state.filtersReducer.countriesLoaded\n    }\n\n  }\n});\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\nMapHome.contextType = SSCTranslationContext;\nMapHome.propTypes = {\n  filteredProjects: PropTypes.array,\n  countries: PropTypes.array\n};\n\nMapHome.defaultProps = {\n  filteredProjects: [],\n  countries: []\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MapHome);\n","import React from 'react';\nimport './popups.css';\nimport PropTypes from 'prop-types';\n\nconst PopupOverlay = ({ additionalClass, show, children }) => {\n  if (!show) {\n    return null;\n  }\n  return (\n    <div className={`country-popup-wrapper ${additionalClass}`}>\n      <div className=\"container-fluid\">\n        {children}\n      </div>\n    </div>\n  );\n};\nexport default PopupOverlay;\nPopupOverlay.propTypes = {\n  show: PropTypes.bool.isRequired,\n  additionalClass: PropTypes.string,\n  children: PropTypes.object.isRequired\n};\nPopupOverlay.defaultProps = {\n  additionalClass: ''\n};\n","import React, { useContext, useEffect, useState } from 'react';\nimport '../popups.css';\nimport PropTypes from 'prop-types';\nimport { SSCTranslationContext } from '../../../StartUp';\n\nconst CountryPopupOverlayTitle = ({ countriesMessage, updateCountriesMessage }) => {\n  const translationsContext = useContext(SSCTranslationContext);\n  const [show, setShow] = useState(countriesMessage);\n  const style = {\n    background: '#FFFFFF',\n    color: '#000000',\n    'font-weight': 'bold',\n    'margin-bottom': '50px'\n  };\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (show) {\n        if (updateCountriesMessage) {\n          updateCountriesMessage(false);\n        }\n        setShow(false);\n      }\n    }, 10000);\n    return () => clearTimeout(timer);\n  }, [show, updateCountriesMessage]);\n  return (\n    <div>\n      {!show && (<h2>&nbsp;</h2>)}\n      {show && (\n        <div className=\"alert alert-primary\" role=\"alert\" style={style}>\n          <p>{translationsContext.translations['amp.ssc.dashboard:six']}</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CountryPopupOverlayTitle;\nCountryPopupOverlayTitle.propTypes = {\n  countriesMessage: PropTypes.bool,\n  updateCountriesMessage: PropTypes.func.isRequired\n};\nCountryPopupOverlayTitle.defaultProps = {\n  countriesMessage: false\n};","import Excel from 'exceljs';\n\n/**\n *\n * Code from VIFAA project.\n */\nexport const dataDownloadStyles = {\n  totalLabels: {\n    alignment: {\n      vertical: 'middle',\n      horizontal: 'middle'\n    },\n    font: {\n      name: 'Calibri',\n      family: 4,\n      bold: true\n    },\n    fill: {\n      type: 'pattern',\n      pattern: 'solid',\n      fgColor: {\n        argb: '00d9ead3'\n      }\n    }\n  },\n  totalNumber: {\n    alignment: {\n      vertical: 'middle',\n      horizontal: 'right'\n    },\n    font: {\n      name: 'Calibri',\n      family: 4,\n      bold: true\n    },\n    fill: {\n      type: 'pattern',\n      pattern: 'solid',\n      fgColor: {\n        argb: '00d9ead3'\n      }\n    }\n  }\n};\n\nexport const exportToXLS = (exportData) => {\n  const workbook = new Excel.Workbook();\n  let title;\n  if (Array.isArray(exportData)) {\n    exportData.forEach((sheetData, index) => {\n      addWorkSheet(workbook, sheetData.sheetName ? sheetData.sheetName : `Sheet ${index}`, sheetData);\n    });\n    title = exportData[0].title;\n  } else {\n    title = exportData.title;\n    addWorkSheet(workbook, exportData.sheetName ? exportData.sheetName : 'Sheet 1', exportData);\n  }\n\n  // TODO its coming from VIFAA need to adujst\n  workbook.xlsx.writeBuffer().then((data) => {\n    const blob = new Blob([data], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n    const url = window.URL.createObjectURL(blob);\n    const anchor = document.createElement('a');\n    anchor.href = url;\n    anchor.download = `${title}.xlsx`;\n    anchor.click();\n    window.URL.revokeObjectURL(url);\n  });\n};\n\nconst addWorkSheet = (workbook, sheetName, exportData) => {\n  const {\n    title, filters, columns, rows, source\n  } = exportData;\n  workbook.addWorksheet(sheetName);\n  const worksheet = workbook.getWorksheet(sheetName);\n  worksheet.mergeCells(1, 1, 1, columns.length);\n  worksheet.getCell('A1').value = title;\n  worksheet.getCell('A1').font = {\n    name: 'Calibri', family: 4, size: 18, bold: true, color: { argb: '00FFFFFF' }\n  };\n  worksheet.getCell('A1').alignment = { vertical: 'middle', horizontal: 'center' };\n  worksheet.getCell('A1').fill = {\n    type: 'pattern',\n    pattern: 'solid',\n    fgColor: { argb: '00273142' }\n  };\n  worksheet.getCell('A1').border = {\n    top: { style: 'thin' },\n    left: { style: 'thin' },\n    bottom: { style: 'thin' },\n    right: { style: 'thin' }\n  };\n  worksheet.addRow();\n  filters.forEach(filter => {\n    if (filter.values.length > 0) {\n      worksheet.addRow([filter.name, filter.values]);\n      const { lastRow } = worksheet;\n      lastRow.getCell(1).font = {\n        name: 'Calibri', family: 4, size: 11, bold: true\n      };\n    }\n  });\n\n  worksheet.addRow();\n  worksheet.columns = columns;\n  worksheet.addRow();\n  const row = worksheet.lastRow;\n  columns.forEach(col => {\n    row.getCell(col.key).value = col.headerTitle;\n    row.getCell(col.key).font = {\n      name: 'Calibri', family: 4, size: 11, bold: true\n    };\n    row.getCell(col.key).alignment = { vertical: 'middle', horizontal: 'center' };\n    row.getCell(col.key).fill = {\n      type: 'pattern',\n      pattern: 'solid',\n      fgColor: { argb: '00cccccc' }\n    };\n    row.getCell(col.key).border = {\n      top: { style: 'thin' },\n      left: { style: 'thin' },\n      bottom: { style: 'thin' },\n      right: { style: 'thin' }\n    };\n  });\n\n  rows.forEach(innerRow => {\n    worksheet.addRow(innerRow);\n    const { lastRow } = worksheet;\n    if (innerRow.cellsStyles) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const key in innerRow.cellsStyles) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (innerRow.cellsStyles.hasOwnProperty(key)) {\n          const styleCell = innerRow.cellsStyles[key];\n          const cellToStyle = lastRow.getCell(key);\n          // eslint-disable-next-line no-restricted-syntax\n          for (const styleKey in styleCell) {\n            // eslint-disable-next-line no-prototype-builtins\n            if (styleCell.hasOwnProperty(styleKey)) {\n              cellToStyle[styleKey] = styleCell[styleKey];\n            }\n          }\n        }\n      }\n    }\n\n    if (innerRow.mergeCells) {\n      const rowNumber = worksheet.rowCount;\n      worksheet.mergeCells(rowNumber, innerRow.mergeCells.start, rowNumber, innerRow.mergeCells.end);\n    }\n  });\n  // worksheet.addRows(rows);\n\n  worksheet.eachRow((innerRow, rowNumber) => {\n    // add borders to data cells\n    if (rowNumber > filters.length + 2) {\n      columns.forEach(col => {\n        innerRow.getCell(col.key).border = {\n          top: { style: 'thin' },\n          left: { style: 'thin' },\n          bottom: { style: 'thin' },\n          right: { style: 'thin' }\n        };\n      });\n    }\n  });\n\n  if (source) {\n    worksheet.addRow();\n    worksheet.addRow([`Source: ${source}`]);\n    worksheet.lastRow.font = {\n      name: 'Calibri', family: 4, size: 11, bold: true\n    };\n  }\n};\n\nexport const exportToCSV = exportData => {\n  let title;\n  let columns;\n  let\n    rows;\n  if (Array.isArray(exportData)) {\n    title = exportData[0].title;\n    columns = exportData[0].columns;\n    rows = [];\n    exportData.forEach(data => {\n      rows = [...rows, ...data.rows];\n    });\n  } else {\n    title = exportData.title;\n    columns = exportData.columns;\n    rows = exportData.rows;\n  }\n\n  let csv = '';\n  const headers = columns.map(c => c.headerTitle);\n  csv += headers.join(',');\n  csv += '\\n';\n\n  const cols = columns.map(c => c.key);\n  rows.forEach((row) => {\n    const rowData = [];\n    cols.forEach(column => {\n      if (row[column]) {\n        rowData.push(row[column].toString().split(',').join(''));\n      } else {\n        rowData.push('');\n      }\n    });\n    csv += rowData.join(',');\n    csv += '\\n';\n  });\n\n  // console.log(csv);\n  const anchor = document.createElement('a');\n  anchor.href = `data:text/csv;charset=utf-8,${encodeURI(csv)}`;\n  anchor.target = '_blank';\n  anchor.download = `${title}.csv`;\n  anchor.click();\n};\n\nexport function populateFilters(translations, filters, selectedFilters) {\n  const selectedFiltersForExport = [];\n\n  const { countries } = filters.countries;\n  const { sectors } = filters.sectors;\n  const { modalities } = filters.modalities;\n  const {\n    selectedCountries, selectedYears, selectedSectors, selectedModalities\n  } = selectedFilters;\n  if (selectedCountries && selectedCountries.length > 0) {\n    selectedFiltersForExport.push({\n      name: translations['amp.ssc.dashboard:Country'],\n      values: selectedCountries.map(sc => countries.find(c => c.id === sc).name).join(' | ')\n    });\n  }\n  if (selectedYears && selectedYears.length > 0) {\n    selectedFiltersForExport.push({\n      name: translations['amp.ssc.dashboard:Year'],\n      values: selectedYears.join(' | ')\n    });\n  }\n  if (selectedSectors && selectedSectors.length > 0) {\n    selectedFiltersForExport.push({\n      name: translations['amp.ssc.dashboard:Sector'],\n      values: selectedSectors.map(sc => sectors.find(c => c.id === sc).name).join(' | ')\n    });\n  }\n  if (selectedModalities && selectedModalities.length > 0) {\n    selectedFiltersForExport.push({\n      name: translations['amp.ssc.dashboard:Modalities'],\n      values: selectedModalities.map(sc => modalities.find(c => c.id === sc).name).join(' | ')\n    });\n  }\n\n  return selectedFiltersForExport;\n}\n","import React from 'react';\nimport { printChartPrinter } from '../../../../utils/PrintUtils';\nimport { SSCTranslationContext } from '../../../StartUp';\nimport {getRootUrl} from \"../../../../../../utils/Utils\";\n\nclass PrintCountryCharts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true\n    };\n    this.handleMessage = this.handleMessage.bind(this);\n  }\n\n  printIframe(id) {\n    if (!this.state.isLoading) {\n      const { translations } = this.context;\n      const { countriesForExport } = this.props;\n      const iframe = document.frames\n        ? document.frames[id]\n        : document.getElementById(id);\n      const iframeWindow = iframe.contentWindow || iframe;\n      this.cleanPrintNodes(iframe);\n      iframe.focus();\n      printChartPrinter(translations['amp.ssc.dashboard:Sector-Analysis'], 'countries-charts', 'print-friendly-dummy-container', iframe, countriesForExport);\n      iframeWindow.print();\n      return false;\n    }\n  }\n\n  cleanPrintNodes(iframe) {\n    const node = iframe.contentDocument.getElementById('print-friendly-dummy-container');\n    while (node.firstChild) {\n      node.removeChild(node.firstChild);\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener('message', this.handleMessage);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('message', this.handleMessage);\n  }\n\n  handleMessage(event) {\n    if (event.data.action === 'chart-loaded') {\n      this.setState({\n        isLoading: false\n      });\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <iframe\n          id=\"countryChart\"\n          src={`${getRootUrl()}/ssc/print`}\n          style={{ display: 'none' }}\n          title=\"Country chart\"\n                />\n        <li className=\"print\" onClick={() => this.printIframe('countryChart')}>print</li>\n      </>\n    );\n  }\n}\n\nexport default PrintCountryCharts;\nPrintCountryCharts.contextType = SSCTranslationContext;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport '../popups.css';\nimport ReactTooltip from 'react-tooltip';\nimport { printChart, printInnerCharts } from '../../../../utils/PrintUtils';\nimport { exportToXLS } from '../../../../utils/exportUtils';\nimport { PNG_FORMAT } from '../../../../utils/constants';\nimport { SSCTranslationContext } from '../../../StartUp';\nimport PrintCountryCharts from './PrintCountryCharts';\n\nclass CountryPopupExport extends Component {\n  exportToImage(printFormat) {\n    const {\n      printTitle, printChartId, printFilters, countriesForExport, onlyOneCountry\n    } = this.props;\n    if (countriesForExport.length === 0 || onlyOneCountry) {\n      printChart(printTitle, printChartId, printFilters, printFormat, true, 'print-dummy-container', true).then(() => {\n      }).catch(e => {\n        alert('Error while printing');\n      });\n    } else {\n      printInnerCharts(printTitle, printChartId, printFilters, printFormat, countriesForExport);\n    }\n  }\n\n  exportChartToXls() {\n    const { getExportData } = this.props;\n    exportToXLS(getExportData());\n  }\n\n  render() {\n    const { onlyOneCountry, countriesForExport, closeLargeCountryPopinAndClearFilter } = this.props;\n    const { translations } = this.context;\n    return (\n      <div className={`export-wrapper ${onlyOneCountry ? 'single-country' : ''}`}>\n        <ul>\n          <li\n            className=\"png\"\n            onClick={this.exportToImage.bind(this, PNG_FORMAT)}\n            data-tip={translations['amp.ssc.dashboard:sectors-png-tooltip']}\n            data-for=\"download-png\">\n            png\n          </li>\n          <li\n            className=\"xls\"\n            data-tip={translations['amp.ssc.dashboard:sectors-xls-tooltip']}\n            data-for=\"download-xls\"\n            onClick={this.exportChartToXls.bind(this)}>\n            xls\n          </li>\n          <PrintCountryCharts countriesForExport={countriesForExport} />\n          <li className=\"return-link\" onClick={() => closeLargeCountryPopinAndClearFilter()}>X</li>\n        </ul>\n        <ReactTooltip\n          place=\"bottom\"\n          multiline\n          id=\"download-png\"\n          className=\"download-checkbox-tooltip\" />\n        <ReactTooltip\n          place=\"bottom\"\n          multiline\n          id=\"download-xls\"\n          className=\"download-checkbox-tooltip\" />\n      </div>\n    );\n  }\n}\n\nCountryPopupExport.contextType = SSCTranslationContext;\nexport default CountryPopupExport;\nCountryPopupExport.propTypes = {\n  getExportData: PropTypes.func.isRequired,\n  closeLargeCountryPopinAndClearFilter: PropTypes.func.isRequired,\n  countriesForExport: PropTypes.array.isRequired,\n  onlyOneCountry: PropTypes.bool.isRequired,\n  printTitle: PropTypes.string.isRequired,\n  printChartId: PropTypes.string.isRequired,\n  printFilters: PropTypes.array.isRequired\n};\n","import React, { Component } from 'react';\nimport '../popups.css';\nimport ReactTooltip from 'react-tooltip';\nimport PropTypes from 'prop-types';\nimport { SSCTranslationContext } from '../../../StartUp';\nimport {\n  SECTOR_MODALITY_LEADING_LEFT,\n  SECTOR_MODALITY_MIN_SIZE,\n  SECTORS_CHART\n} from '../../../../utils/constants';\nimport { calculateUpdatedValuesForDropDowns } from '../../../../utils/Utils';\nimport CountryFlag from '../../../utils/CountryFlag';\n\nclass CountryPopupHeader extends Component {\n  onCountrySelected(e) {\n    const ipSelectedCountry = parseInt(e.target.value, 10);\n    const { countriesForExport, countriesForExportChanged } = this.props;\n    countriesForExportChanged(calculateUpdatedValuesForDropDowns(ipSelectedCountry, countriesForExport));\n  }\n\n  render() {\n    const { translations } = this.context;\n    const {\n      country, projectByGroupings, columnCount, countriesForExport, chartSelected\n    } = this.props;\n    return (\n      country ? (\n        <div className=\"header row\">\n          <div className={`col-md-${columnCount === 1 ? '4' : '5'}  col-xs-5 country-name`}>\n            <CountryFlag countryName={country.name} />\n            {country.name}\n          </div>\n          <div className={`col-md-${columnCount === 1 ? '2' : '3'} col-xs-3 projects`}>\n            <span\n              className=\"count\">\n              {projectByGroupings.uniqueProjects.size.toString()\n                .padStart(SECTOR_MODALITY_MIN_SIZE, SECTOR_MODALITY_LEADING_LEFT)}\n            </span>\n            <span className=\"label\">{translations['amp.ssc.dashboard:sectors-project']}</span>\n          </div>\n          <div className={`col-md-${columnCount === 1 ? '3' : '4'} col-xs-4 projects`}>\n            <span\n              className=\"count\">\n              {projectByGroupings.groupings.length.toString()\n                .padStart(SECTOR_MODALITY_MIN_SIZE, SECTOR_MODALITY_LEADING_LEFT)}\n            </span>\n            <span\n              className=\"label\">\n              {translations[`amp.ssc.dashboard:${chartSelected === SECTORS_CHART\n                ? 'sectors-sector' : 'modalities-modality'}-types`]}\n            </span>\n            {columnCount !== 1 && (\n              <div className=\"export-checkbox\">\n                <div className=\"custom-checkbox\">\n                  <input\n                    type=\"checkbox\"\n                    id={`chk-country-column-${country.id}`}\n                    value={country.id}\n                    onClick={this.onCountrySelected.bind(this)}\n                    checked={countriesForExport.includes(country.id)} />\n                  <label\n                    htmlFor={`chk-country-column-${country.id}`}\n                    data-tip={translations['amp.ssc.dashboard:sectors-checkbox-tooltip']}\n                    data-for=\"download-checkbox\" />\n                </div>\n              </div>\n            )}\n          </div>\n          <ReactTooltip\n            place=\"bottom\"\n            multiline\n            id=\"download-checkbox\"\n            className=\"download-checkbox-tooltip\" />\n        </div>\n      ) : null\n    );\n  }\n}\n\nCountryPopupHeader.contextType = SSCTranslationContext;\nCountryPopupHeader.propTypes = {\n  columnCount: PropTypes.number.isRequired,\n  countriesForExport: PropTypes.array.isRequired,\n  projectByGroupings: PropTypes.object.isRequired,\n  countriesForExportChanged: PropTypes.func.isRequired,\n  country: PropTypes.object.isRequired,\n  chartSelected: PropTypes.string.isRequired\n};\n\nexport default CountryPopupHeader;\n","import React from 'react';\nimport './GenericTooltip.css';\n\nconst GenericToolTip = ({ titleLabel, color, values }) => {\n\n  const headerStyle = { backgroundColor: color };\n  return (\n    <div className=\"generic-tooltip\">\n      <div className=\"tooltip-header\" style={headerStyle}>\n        {titleLabel}\n      </div>\n      {values && (\n        <div className=\"inner\">\n          {values.map(v => (\n            <div className=\"row\" key={v.id}>\n              <div className=\"col-md-12\">\n                {`${v.simpleLabel}`}\n                <span\n                  className=\"percentage\">\n                  {v.percentage}\n                  %\n                </span>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default GenericToolTip;\n","import React from 'react';\nimport './sscCustomLegend.css';\nimport EllipsisText from 'react-ellipsis-text';\nimport PropTypes from 'prop-types';\nimport { COLOR_MAP } from '../constants';\n\nconst SscCustomLegend = ({ data, chartSelected }) => (\n  <div className=\"custom-legend\">\n    <div className=\"custom-legend-inner\">\n      <ul className={data.length > 3 ? 'two-rows' : ''}>\n        {data.map(d => (\n          <li key={COLOR_MAP.get(chartSelected).get(d.code)}>\n            <div className=\"row\">\n              <div className=\"col-md-1 col-xs-1\">\n                <span\n                  className=\"symbol\"\n                  style={{ border: `2px solid ${COLOR_MAP.get(chartSelected).get(d.code)}` }} />\n              </div>\n              <div className=\"col-md-9 col-xs-9 label\">\n                <EllipsisText\n                  text={d.simpleLabel}\n                  length={40}\n                  tail=\"...\" />\n                <span\n                  className=\"label percentage\">\n                  {`${d.percentage}%`}\n                </span>\n              </div>\n            </div>\n          </li>\n        ))}\n      </ul>\n    </div>\n  </div>\n);\nSscCustomLegend.propTypes = {\n  data: PropTypes.array.isRequired,\n  chartSelected: PropTypes.string.isRequired\n};\n\nexport default SscCustomLegend;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport '../popups.css';\nimport { ResponsivePie } from '@nivo/pie';\nimport { SSCTranslationContext } from '../../../StartUp';\nimport {\n  OTHERS_CODE, SECTORS_LIMIT_CHART,\n  SECTORS_OTHERS_ID_CHART, COLOR_MAP\n} from '../../../../utils/constants';\nimport { toCamelCase } from '../../../../utils/Utils';\nimport Tooltip from '../../../utils/GenericTooltip';\nimport SscCustomLegend from '../../../../utils/customLegend/SscCustomLegend';\n\nclass CountryPopupChart extends Component {\n  constructor(props) {\n    super(props);\n    this.colorMap = new Map();\n  }\n\n  getColor(item) {\n    const { chartSelected } = this.props;\n    return COLOR_MAP.get(chartSelected).get(item.code);\n  }\n\n  getChart(data) {\n    const { chartSelected } = this.props;\n    const chartComponents = {};\n    chartComponents.chart = (\n      <ResponsivePie\n        data={data}\n        margin={{\n          top: 5, right: 5, bottom: 5, left: 5\n        }}\n        innerRadius={0.8}\n        colors={this.getColor.bind(this)}\n        borderWidth={1}\n        sortByValue={false}\n        borderColor={{ from: 'color', modifiers: [['darker', 0.2]] }}\n        enableRadialLabels={false}\n        radialLabelsSkipAngle={12}\n        radialLabelsTextXOffset={6}\n        radialLabelsTextColor=\"#333333\"\n        radialLabelsLinkOffset={0}\n        radialLabelsLinkDiagonalLength={16}\n        radialLabelsLinkHorizontalLength={24}\n        radialLabelsLinkStrokeWidth={1}\n        radialLabelsLinkColor={{ from: 'color' }}\n        enableSlicesLabels={false}\n        slicesLabelsSkipAngle={10}\n        slicesLabelsTextColor=\"#333333\"\n        animate\n        motionStiffness={90}\n        motionDamping={15}\n        tooltip={(e) => (\n          <Tooltip\n            color={e.color}\n            titleLabel={e.label}\n            values={e.otherValues}\n          />\n        )}\n        theme={{\n          tooltip: {\n            container: {\n              padding: '0',\n            },\n          }\n        }}\n      />\n\n    );\n    chartComponents.legend = <SscCustomLegend data={data} chartSelected={chartSelected} />;\n    return chartComponents;\n  }\n\n  render() {\n    const { chartData, columnCount } = this.props;\n    const { translations } = this.context;\n\n    const nonGrouped = chartData.slice(0, SECTORS_LIMIT_CHART).sort((b1, b2) => b1.percentage < b2.percentage);\n    const others = chartData.slice(SECTORS_LIMIT_CHART, chartData.length);\n    if (others.length > 0) {\n      const other = {};\n      const othersLabel = toCamelCase(translations['amp.ssc.dashboard:sectors-others']);\n\n      other.id = SECTORS_OTHERS_ID_CHART;\n      other.value = 0;\n      other.percentage = 0;\n      other.code = OTHERS_CODE;\n      other.otherValues = others;\n      others.forEach(o => {\n        other.value += o.value;\n        other.percentage += o.percentage;\n      });\n\n      other.label = `${othersLabel} ${other.percentage}%`;\n      other.simpleLabel = othersLabel;\n      nonGrouped.push(other);\n    }\n    const chartComponents = this.getChart(nonGrouped, columnCount);\n    return (\n      <div className=\"row\">\n        <div className=\"chart-container single-50 float-left\">\n          {chartComponents.chart}\n        </div>\n        {chartComponents.legend\n        && (\n          <div className=\"chart-legend single-50 float-right\">\n            {chartComponents.legend}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nCountryPopupChart.contextType = SSCTranslationContext;\nexport default CountryPopupChart;\nCountryPopupChart.propTypes = {\n  chartSelected: PropTypes.string.isRequired,\n  columnCount: PropTypes.number.isRequired,\n  chartData: PropTypes.array.isRequired\n};\n","import React, { Component } from 'react';\nimport '../popups.css';\nimport { getProjects } from '../../../../utils/ProjectUtils';\nimport { SSCTranslationContext } from '../../../StartUp';\nimport { DEFAULT_ELLIPSIS, DEFAULT_SCREEN_SIZE } from '../../../../utils/constants';\n\nclass CountryPopupFooter extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      ellipsisSize: this.calculateEllipsis(),\n      currentWindowWith: window.innerWidth\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.onResize.bind(this));\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize.bind(this));\n  }\n\n  render() {\n    const { projects, activitiesDetails } = this.props;\n    const { ellipsisSize } = this.state;\n    const { translations } = this.context;\n    return (\n      <div className=\"popup-footer\">\n        <div className=\"col-md-1\">\n          <div className=\"label\">{translations['amp.ssc.dashboard:sectors-projects']}</div>\n        </div>\n        <div className=\"col-md-11 project-list\">\n          <ul>\n            {getProjects(projects, 'country-popup',\n              activitiesDetails, ellipsisSize, translations['amp.ssc.dashboard:NA'])}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n\n  onResize() {\n    if (this.state.currentWindowWith !== window.innerWidth) {\n      return { ellipsisSize: this.calculateEllipsis(), currentWindowWith: window.innerWidth };\n    }\n  }\n\n  calculateEllipsis() {\n    return Math.floor((DEFAULT_ELLIPSIS / DEFAULT_SCREEN_SIZE * window.innerWidth));\n  }\n}\n\nCountryPopupFooter.contextType = SSCTranslationContext;\n\nexport default CountryPopupFooter;\n","import React, { Component } from 'react';\nimport '../popups.css';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport CountryPopupHeader from './CountryPopupHeader';\nimport CountryPopupChart from './CountryPopupChart';\nimport CountryPopupFooter from './CountryPopupFooter';\nimport {\n  generateStructureBasedOnModalitiesProjectCount,\n  generateStructureBasedOnSectorProjectCount,\n  getChartData\n} from '../../../../utils/ProjectUtils';\nimport { SSCTranslationContext } from '../../../StartUp';\nimport { SECTORS_CHART } from '../../../../utils/constants';\n\nclass CountryPopup extends Component {\n  render() {\n    const {\n      project, columnCount, borderClass, lineClass, countriesForExportChanged, countriesForExport, chartSelected\n    } = this.props;\n    const { countries } = this.props.filters.countries;\n    const { sectors } = this.props.filters.sectors;\n    const { modalities } = this.props.filters.modalities;\n    const { activitiesDetails } = this.props.projects;\n    let projectByGroupings;\n    let groupings;\n\n    if (chartSelected === SECTORS_CHART) {\n      projectByGroupings = generateStructureBasedOnSectorProjectCount(project);\n      groupings = sectors;\n    } else {\n      projectByGroupings = generateStructureBasedOnModalitiesProjectCount(project);\n      groupings = modalities;\n    }\n\n    const chartData = getChartData(projectByGroupings, groupings);\n    const country = countries.find(c => c.id === project.id);\n    return (\n      <div\n        className={`country-popup-all country-popup-${columnCount} ${borderClass || ''} ${lineClass || ''}`}\n      >\n        <CountryPopupHeader\n          country={country}\n          projectByGroupings={projectByGroupings}\n          columnCount={columnCount}\n          countriesForExportChanged={countriesForExportChanged}\n          countriesForExport={countriesForExport}\n          chartSelected={chartSelected}\n        />\n        <CountryPopupChart\n          columnCount={columnCount}\n          chartData={chartData}\n          chartSelected={chartSelected}\n        />\n\n        {columnCount === 1 && (\n          <CountryPopupFooter\n            projects={[...projectByGroupings.uniqueProjects]}\n            activitiesDetails={activitiesDetails}/>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  filters: {\n    sectors: {\n      sectors: state.filtersReducer.sectors,\n    },\n    modalities: {\n      modalities: state.filtersReducer.modalities,\n    },\n    countries: {\n      countries: state.filtersReducer.countries,\n    }\n  },\n  projects: {\n    activitiesDetails: state.reportsReducer.activitiesDetails,\n  }\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({}, dispatch);\n\nCountryPopup.contextType = SSCTranslationContext;\nexport default connect(mapStateToProps, mapDispatchToProps)(CountryPopup);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { nanoid } from 'nanoid';\nimport CountryPopupOverlayTitle from './CountryPopupOverlayTitle';\nimport CountryPopupExport from './CountryPopupExport';\nimport CountryPopup from './CountryPopup';\nimport { calculateColumnCount } from '../../../../utils/Utils';\nimport { BOOTSTRAP_COLUMNS_COUNT, COUNTRY_COLUMN } from '../../../../utils/constants';\nimport { SSCTranslationContext } from '../../../StartUp';\n\nexport default class CountryPopupContainer extends Component {\n  getLeft(length, r) {\n    if (length === 1) {\n      return 'left';\n    } else {\n      const upperLower = this.getUpperLower(length, r);\n      return upperLower ? `${upperLower}-left` : '';\n    }\n  }\n\n  getRight(length, r) {\n    if (length === 1) {\n      return 'right';\n    } else {\n      const upperLower = this.getUpperLower(length, r);\n      return upperLower ? `${upperLower}-right` : '';\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  getUpperLower(length, r) {\n    const firstRow = Math.min(1, length);\n    const lastRow = Math.max(1, length);\n    if (r === firstRow) {\n      return 'upper';\n    } else if (r === lastRow) {\n      return 'lower';\n    } else {\n      return null;\n    }\n  }\n\n  getCountryPopup(rows) {\n    const { countriesForExportChanged, countriesForExport, chartSelected } = this.props;\n    return rows.map((r, k) => {\n      const columnCount = calculateColumnCount(r.length);\n      const classCount = BOOTSTRAP_COLUMNS_COUNT / columnCount;\n      const left = Math.min(1, r.length);\n      const right = Math.max(1, r.length);\n      return (\n        <div\n          id={`country-row${k}`}\n          key={nanoid()}\n          className={`row ${k % 2 === 0 && rows.length > 1 ? ' bottomBorder' : ''}`}>\n          {r.map((c, i) => {\n            // eslint-disable-next-line no-nested-ternary\n            const borderClass = (i + 1) === left\n              ? this.getLeft(rows.length, k + 1) : ((i + 1) === right\n                ? this.getRight(rows.length, k + 1) : '');\n\n            const lineClass = (i + 1) === 1 || (i + 1 === 2 && r.length > 2) ? 'line' : '';\n            return (\n              <div className={`chart-column col-md-${classCount}`} key={c.id} id={`${COUNTRY_COLUMN}${c.id}`}>\n                <CountryPopup\n                  project={c}\n                  columnCount={columnCount}\n                  chartSelected={chartSelected}\n                  {...(columnCount > 1 ? { borderClass } : {})}\n                  {...(columnCount > 1 ? { lineClass } : {})}\n                  countriesForExportChanged={countriesForExportChanged}\n                  countriesForExport={countriesForExport}\n                />\n              </div>\n            );\n          })}\n        </div>\n      );\n    });\n  }\n\n  render() {\n    const { translations } = this.context;\n    const {\n      rows, closeLargeCountryPopinAndClearFilter,\n      columnCount, countriesForExport, countriesForExportChanged, getExportData,\n      chartSelected, countriesMessage, updateCountriesMessage\n    } = this.props;\n    return (\n      <div>\n        <CountryPopupOverlayTitle countriesMessage={countriesMessage} updateCountriesMessage={updateCountriesMessage} />\n        <CountryPopupExport\n          closeLargeCountryPopinAndClearFilter={closeLargeCountryPopinAndClearFilter}\n          onlyOneCountry={columnCount === 1}\n          printTitle={translations['amp.ssc.dashboard:Sector-Analysis']}\n          printFilters={[]}\n          printChartId=\"countries-charts\"\n          countriesForExport={countriesForExport}\n          countriesForExportChanged={countriesForExportChanged}\n          getExportData={getExportData}\n          chartSelected={chartSelected}\n        />\n        <div className=\"countries-charts\" id=\"countries-charts\">\n          {this.getCountryPopup(rows)}\n        </div>\n      </div>\n    );\n  }\n}\nCountryPopupContainer.contextType = SSCTranslationContext;\nCountryPopupContainer.propTypes = {\n  countriesForExportChanged: PropTypes.func.isRequired,\n  countriesForExport: PropTypes.array.isRequired,\n  chartSelected: PropTypes.string.isRequired,\n  countriesMessage: PropTypes.bool,\n  updateCountriesMessage: PropTypes.func.isRequired,\n  rows: PropTypes.array.isRequired,\n  closeLargeCountryPopinAndClearFilter: PropTypes.func.isRequired,\n  getExportData: PropTypes.func.isRequired,\n  columnCount: PropTypes.number.isRequired\n};\nCountryPopupContainer.defaultProps = {\n  countriesMessage: false\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './popups.css';\nimport CountryPopupContainer from './countryLarge/CountryPopupContainer';\nimport { calculateColumnCount } from '../../../utils/Utils';\nimport { SSCTranslationContext } from '../../StartUp';\n\nconst CountryPopupOverlay = ({\n  show, projects, closeLargeCountryPopinAndClearFilter, countriesForExport,\n  countriesForExportChanged, getExportData, chartSelected, countriesMessage,\n  updateCountriesMessage\n}) => {\n  if (!show) {\n    return null;\n  }\n  if (!projects || projects.length === 0) {\n    return null;\n  }\n  const columnCount = calculateColumnCount(projects.length);\n  const rows = [];\n  rows.push(projects.slice(0, columnCount));\n  const secondRow = projects.slice(columnCount, projects.length);\n  if (secondRow.length > 0) {\n    rows.push(secondRow);\n  }\n  return (\n    <div className={`country-popup-wrapper${columnCount === 1 ? '' : ` country${columnCount}`}`}>\n      <div className=\"container-fluid\">\n        <CountryPopupContainer\n          countriesMessage={countriesMessage}\n          updateCountriesMessage={updateCountriesMessage}\n          rows={rows}\n          columnCount={columnCount}\n          closeLargeCountryPopinAndClearFilter={closeLargeCountryPopinAndClearFilter}\n          countriesForExport={countriesForExport}\n          countriesForExportChanged={countriesForExportChanged}\n          getExportData={getExportData}\n          chartSelected={chartSelected}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default CountryPopupOverlay;\nCountryPopupOverlay.contextType = SSCTranslationContext;\nCountryPopupOverlay.propTypes = {\n  show: PropTypes.bool.isRequired,\n  projects: PropTypes.array.isRequired,\n  closeLargeCountryPopinAndClearFilter: PropTypes.func.isRequired,\n  countriesForExportChanged: PropTypes.func.isRequired,\n  getExportData: PropTypes.func.isRequired,\n  countriesForExport: PropTypes.array.isRequired,\n  chartSelected: PropTypes.string.isRequired,\n  countriesMessage: PropTypes.bool,\n  updateCountriesMessage: PropTypes.func.isRequired\n};\nCountryPopupOverlay.defaultProps = {\n  countriesMessage: false\n};\n","import React from 'react';\nimport './SimplePopup.css';\n\nconst SimplePopup = (props) => {\n  const { message, onClose } = props;\n  return (\n    <div className=\"simple-popup\">\n      {/*eslint-disable-next-line jsx-a11y/anchor-is-valid*/}\n      <a\n        className=\"x-close\"\n        onClick={e => {\n          onClose(e);\n        }}>\n        x\n      </a>\n      {message}\n    </div>\n  );\n};\nexport default SimplePopup;\n","import { fetchApiData } from '../../../utils/loadTranslations';\nimport {\n  fetchXlsReportDone,\n  fetchXlsReportError,\n  fetchXlsReportPending,\n  fetchXlsReportSuccess\n} from './downloadDataActions';\nimport {\n  API_XLS_REPORT_URL,\n  FILTER_DONOR_AGENCY_COUNTRY,\n  FILTER_PRIMARY_SECTOR,\n  FILTER_SSC_MODALITIES\n} from '../utils/constants';\n\nconst report = {\n  settings: {\n    'amount-format': { 'number-divider': '1' },\n    'calendar-id': 4\n  },\n  filters: {},\n};\nexport const dataDownloaded = () => dispatch => {\n  dispatch(fetchXlsReportDone());\n};\n\nexport const downloadData = (selectedFilters) => dispatch => {\n  dispatch(fetchXlsReportPending());\n  // selectedYears\n  if (selectedFilters.selectedSectors.length > 0) {\n    report.filters[FILTER_PRIMARY_SECTOR] = selectedFilters.selectedSectors;\n  }\n  if (selectedFilters.selectedModalities.length > 0) {\n    report.filters[FILTER_SSC_MODALITIES] = selectedFilters.selectedModalities;\n  }\n  if (selectedFilters.selectedCountries.length > 0) {\n    report.filters[FILTER_DONOR_AGENCY_COUNTRY] = selectedFilters.selectedCountries;\n  }\n  if (selectedFilters.selectedYears) {\n    report.info = selectedFilters.selectedYears;\n  }\n  const url = `${API_XLS_REPORT_URL}`;\n  return fetchApiData({ url, body: report })\n    .then(dataDownload => dispatch(fetchXlsReportSuccess(dataDownload)))\n    .catch(error => dispatch(fetchXlsReportError(error)));\n};\n","import React, { Component } from 'react';\nimport { Tab, Tabs } from 'react-bootstrap';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { SSCTranslationContext } from '../StartUp';\nimport './dataDownloadContainer.css';\nimport MultiSelectionDropDown from '../layout/filters/MultiSelectionDropDown';\nimport { generateYearsFilters } from '../../utils/Utils';\nimport { downloadData, dataDownloaded } from '../../actions/downloadData';\nimport { exportToXLS, populateFilters } from '../../utils/exportUtils';\n\nclass DataDownloadContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      key: 'Country',\n      selectedFilters: {\n        selectedYears: [],\n        selectedCountries: [],\n        selectedSectors: [],\n        selectedModalities: []\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.resetFilters();\n  }\n\n  componentDidUpdate() {\n    const {\n      dataDownloadLoaded, dataDownload, _dataDownloaded, filters\n    } = this.props;\n    if (dataDownloadLoaded) {\n      const { sscDashboardXlsResultRows } = dataDownload;\n      if (sscDashboardXlsResultRows.length > 0) {\n        const { selectedFilters } = this.state;\n        const { translations } = this.context;\n        const sscXlsData = {};\n        sscXlsData.columns = [];\n        sscXlsData.source = translations['amp.ssc.dashboard:page-title'];\n        sscXlsData.title = translations['amp.ssc.dashboard:download-title'];\n        sscXlsData.filters = [];\n        sscXlsData.columns.push({\n          headerTitle: translations['amp.ssc.dashboard:sectors-project'],\n          key: 'activity',\n          width: 100\n        });\n        sscXlsData.columns.push({\n          headerTitle: translations['amp.ssc.dashboard:Sector'],\n          key: 'sector',\n          width: 50\n        });\n        sscXlsData.columns.push({\n          headerTitle: translations['amp.ssc.dashboard:Modality'],\n          key: 'modality',\n          width: 50\n        });\n        sscXlsData.columns.push({\n          headerTitle: translations['amp.ssc.dashboard:Country'],\n          key: 'country',\n          width: 50\n        });\n        sscXlsData.columns.push({\n          headerTitle: translations['amp.ssc.dashboard:Year'],\n          key: 'year',\n          width: 30\n        });\n        sscXlsData.rows = sscDashboardXlsResultRows;\n        sscXlsData.filters = populateFilters(translations, filters, selectedFilters);\n        exportToXLS(sscXlsData);\n        _dataDownloaded();\n      }\n    }\n  }\n\n  handleSelectedCountryDataDownloadChanged(pSelectedCountries) {\n    this.updateFilterState('selectedCountries', pSelectedCountries);\n  }\n\n  handleSelectedSectorDataDownloadChanged(pSelectedSectors) {\n    this.updateFilterState('selectedSectors', pSelectedSectors);\n  }\n\n  handleSelectedModalityDataDownloadChanged(pSelectedModalities) {\n    this.updateFilterState('selectedModalities', pSelectedModalities);\n  }\n\n  handleSelectedYearDataDownloadChanged(pSelectedYears) {\n    this.updateFilterState('selectedYears', pSelectedYears);\n  }\n\n  setKey(key) {\n    this.setState({ key });\n  }\n\n  getMessage() {\n    const { dataDownload, dataDownloadLoaded, error } = this.props;\n    const { translations } = this.context;\n    let message = null;\n    if (dataDownload) {\n      const { sscDashboardXlsResultRows } = dataDownload;\n      if (dataDownloadLoaded && sscDashboardXlsResultRows.length === 0) {\n        message = translations['amp.ssc.dashboard:no-data-xls'];\n      }\n    }\n    if (error) {\n      message = +' error';\n    }\n    return message;\n  }\n\n  getTitle(message, selected, available) {\n    const { translations } = this.context;\n    return `${translations[message]} (${selected.length}/${available.length})`;\n  }\n\n  resetFilters() {\n    const { selectedFilters, _dataDownloaded } = this.props;\n    if (selectedFilters) {\n      // eslint-disable-next-line react/no-did-mount-set-state\n      this.setState({ selectedFilters });\n      _dataDownloaded();\n    }\n  }\n\n  updateFilterState(filterSelector, updatedSelectedFilters) {\n    this.setState((currentState) => {\n      const selectedFilters = { ...currentState.selectedFilters };\n      selectedFilters[filterSelector] = updatedSelectedFilters;\n      return { selectedFilters };\n    });\n  }\n\n  render() {\n    const {\n      filters, filtersRestrictions, settings, toggleDataDownload, _downloadData\n    } = this.props;\n    const { translations } = this.context;\n    const { key, selectedFilters } = this.state;\n    const years = [];\n    const {\n      selectedYears = [], selectedCountries = [], selectedSectors = [], selectedModalities = []\n    } = selectedFilters;\n    const { sectors } = filters.sectors;\n    let { countries } = filters.countries;\n    const { modalities } = filters.modalities;\n    if (countries.length > 0 && filtersRestrictions.countriesWithData.length > 0) {\n      countries = countries.filter(c => filtersRestrictions.countriesWithData.includes(c.id));\n    }\n    generateYearsFilters(years, settings, filtersRestrictions.mostRecentYear);\n    return (\n      <div className=\"data-download-wrapper\">\n\n        <div className=\"export-wrapper\">\n          <ul>\n            <li className=\"return-link\" onClick={() => toggleDataDownload()}>X</li>\n          </ul>\n        </div>\n        <div className=\"data-download\">\n          <Tabs\n            id=\"filters-tab\"\n            activeKey={key}\n            transition={false}\n            onSelect={(k) => this.setKey(k)}\n          >\n            <Tab\n              eventKey=\"Country\"\n              title={this.getTitle('amp.ssc.dashboard:Country', selectedCountries, countries)}>\n              <div className=\"download-content\">\n                <MultiSelectionDropDown\n                  options={countries}\n                  filterName=\"amp.ssc.dashboard:Country-download\"\n                  filterId=\"ddCountryDownload\"\n                  sortData\n                  selectedOptions={selectedCountries}\n                  label=\"amp.ssc.dashboard:Sector\"\n                  onChange={this.handleSelectedCountryDataDownloadChanged.bind(this)}\n                />\n              </div>\n            </Tab>\n            <Tab\n              eventKey=\"sector\"\n              title={this.getTitle('amp.ssc.dashboard:Sector', selectedSectors, sectors)}>\n              <div className=\"download-content\">\n                <MultiSelectionDropDown\n                  options={sectors}\n                  filterName=\"amp.ssc.dashboard:Sector-download\"\n                  filterId=\"ddSectorDownload\"\n                  selectedOptions={selectedSectors}\n                  label=\"amp.ssc.dashboard:Sector\"\n                  onChange={this.handleSelectedSectorDataDownloadChanged.bind(this)}\n                />\n              </div>\n            </Tab>\n            <Tab\n              eventKey=\"modality\"\n              title={this.getTitle('amp.ssc.dashboard:Modality', selectedModalities, modalities)}>\n              <div className=\"download-content\">\n                <MultiSelectionDropDown\n                  key=\"2222\"\n                  options={modalities}\n                  filterName=\"amp.ssc.dashboard:Modality-download\"\n                  filterId=\"ddModalityDownload\"\n                  selectedOptions={selectedModalities}\n                  label=\"amp.ssc.dashboard:Modality\"\n                  onChange={this.handleSelectedModalityDataDownloadChanged.bind(this)}\n                />\n              </div>\n            </Tab>\n            <Tab\n              eventKey=\"year\"\n              title={this.getTitle('amp.ssc.dashboard:Year', selectedYears, years)}>\n              <div className=\"download-content\">\n                <MultiSelectionDropDown\n                  options={years}\n                  filterName=\"amp.ssc.dashboard:Year-download\"\n                  filterId=\"ddYearDownload\"\n                  selectedOptions={selectedYears}\n                  label=\"amp.ssc.dashboard:Year\"\n                  onChange={this.handleSelectedYearDataDownloadChanged.bind(this)}\n                />\n              </div>\n            </Tab>\n          </Tabs>\n          <div className=\"row\">\n            <div className=\"col-md-2 reset-link data-link\">\n              <span\n                onClick={() => this.resetFilters()}>\n                {translations['amp.ssc.dashboard:reset']}\n              </span>\n            </div>\n            <div className=\"col-md-8 download-error\">\n              {' '}\n              {this.getMessage()}\n            </div>\n            <div className=\"col-md-2 download-link data-link\">\n              {' '}\n              <span\n                onClick={() => _downloadData(selectedFilters)}>\n                {translations['amp.ssc.dashboard:Download']}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  dataDownloadPending: state.dataDownloadReducer.dataDownloadPending,\n  dataDownloadLoaded: state.dataDownloadReducer.dataDownloadLoaded,\n  dataDownload: state.dataDownloadReducer.dataDownload,\n  error: state.dataDownloadReducer.error,\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  _downloadData: downloadData,\n  _dataDownloaded: dataDownloaded,\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DataDownloadContainer);\n\nDataDownloadContainer.contextType = SSCTranslationContext;\nDataDownloadContainer.propTypes = {\n  filters: PropTypes.shape({\n    sectors: PropTypes.shape({\n      sectors: PropTypes.array\n    }),\n    countries: PropTypes.shape({ countries: PropTypes.array }),\n    modalities:\n      PropTypes.shape({ modalities: PropTypes.array }),\n  })\n    .isRequired,\n  settings: PropTypes.object.isRequired,\n  filtersRestrictions:\n  PropTypes.object.isRequired,\n  selectedFilters:\n  PropTypes.object.isRequired,\n  toggleDataDownload: PropTypes.func.isRequired,\n  _downloadData: PropTypes.func.isRequired,\n  _dataDownloaded: PropTypes.func.isRequired,\n  error: PropTypes.string,\n  dataDownloadLoaded: PropTypes.bool,\n  dataDownload: PropTypes.array\n};\nDataDownloadContainer.defaultProps = {\n  error: null,\n  dataDownload: null,\n  dataDownloadLoaded: false\n};\n","import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport HorizontalFilters from '../filters/HorizontalFilters';\nimport './map.css';\nimport MapHome from '../../map/MapHome';\nimport PopupOverlay from '../popups/popupOverlay';\nimport CountryPopupOverlay from '../popups/CountryPopupOverlay';\nimport { loadActivitiesDetails } from '../../../actions/callReports';\nimport SimplePopup from '../popups/homepopup/SimplePopup';\nimport { SSCTranslationContext } from '../../StartUp';\nimport {\n  generateStructureBasedOnModalitiesProjectCount,\n  generateStructureBasedOnSectorProjectCount,\n  getChartData\n} from '../../../utils/ProjectUtils';\nimport { ACTIVITY_ID, PROJECT_TITLE } from '../../../utils/FieldsConstants';\nimport { DOWNLOAD_CHART, HOME_CHART, MODALITY_CHART } from '../../../utils/constants';\nimport DataDownloadContainer from '../../dataDownload/DataDownloadContainer';\nimport { populateFilters } from '../../../utils/exportUtils';\n\nclass MapContainer extends Component {\n  getExportData() {\n    const { translations } = this.context;\n    const {\n      filteredProjects, countriesForExport, chartSelected, filters, projects, selectedFilters\n    } = this.props;\n    const { sectors } = filters.sectors;\n    const { modalities } = filters.modalities;\n\n    const { countries } = filters.countries;\n    const { activitiesDetails } = projects;\n\n    const isModalities = chartSelected === MODALITY_CHART;\n    const exportData = {};\n    if (isModalities) {\n      exportData.title = translations['amp.ssc.dashboard:Modalities-Analysis'];\n    } else {\n      exportData.title = translations['amp.ssc.dashboard:Sector-Analysis'];\n    }\n    exportData.source = translations['amp.ssc.dashboard:page-title'];\n    exportData.filters = populateFilters(translations, filters, selectedFilters);\n    exportData.columns = [];\n    exportData.columns.push({\n      headerTitle: translations['amp.ssc.dashboard:Country'],\n      key: 'country',\n      width: 30\n    });\n    if (isModalities) {\n      exportData.columns.push({\n        headerTitle: translations['amp.ssc.dashboard:Modalities'],\n        key: 'modality',\n        width: 30\n      });\n    } else {\n      exportData.columns.push({\n        headerTitle: translations['amp.ssc.dashboard:Sector'],\n        key: 'sector',\n        width: 30\n      });\n    }\n    const title = translations['amp.ssc.dashboard:project-percentage']\n      .replace('{filter}', translations[`amp.ssc.dashboard:${isModalities}` ? 'Modality' : 'Sector']);\n    exportData.columns.push({\n      headerTitle: title,\n      key: 'percentage',\n      width: 30\n    });\n    exportData.columns.push({\n      headerTitle: translations['amp.ssc.dashboard:project-count'],\n      key: 'count',\n      width: 30\n    });\n    exportData.columns.push({\n      headerTitle: translations['amp.ssc.dashboard:project-xls'],\n      key: 'activities',\n      width: 100\n    });\n    exportData.rows = [];\n    filteredProjects.forEach(p => {\n      if (countriesForExport.length === 0 || countriesForExport.includes(p.id)) {\n        let chartData;\n        let projectsByGrouping;\n        if (isModalities) {\n          projectsByGrouping = generateStructureBasedOnModalitiesProjectCount(p);\n          chartData = getChartData(projectsByGrouping, modalities, true);\n        } else {\n          projectsByGrouping = generateStructureBasedOnSectorProjectCount(p);\n          chartData = getChartData(projectsByGrouping, sectors, true);\n        }\n        chartData.forEach(cd => {\n          const row = {};\n          row.country = countries.filter(c => c.id === p.id)[0].name;\n          row[isModalities ? 'modality' : 'sector'] = cd.simpleLabel;\n          row.percentage = cd.percentage;\n          row.count = cd.value;\n          row.activities = [...cd.activities].map(a => activitiesDetails.activities\n            .find(ad => ad[ACTIVITY_ID] === a)[PROJECT_TITLE]).join('|');\n          exportData.rows.push(row);\n        });\n      }\n    });\n    return exportData;\n  }\n\n  render() {\n    const {\n      filters, projects, countriesForExport, countriesForExportChanged, selectedFilters, filtersRestrictions,\n      handleSelectedFiltersChange, chartSelected, showLargeCountryPopin, closeLargeCountryPopinAndClearFilter,\n      filteredProjects, showEmptyProjects, onNoProjectsModalClose, showDataDownload, settings, toggleDataDownload,\n      countriesMessage, updateCountriesMessage\n    } = this.props;\n    const { countries } = filters.countries;\n    const { sectors } = filters.sectors;\n    const { modalities } = filters.modalities;\n    const { activitiesDetails } = projects;\n\n    const { translations } = this.context;\n    return (\n      <div className=\"col-md-10 col-md-offset-2 map-wrapper\">\n        {chartSelected !== DOWNLOAD_CHART && (\n          <HorizontalFilters\n            selectedFilters={selectedFilters}\n            filtersRestrictions={filtersRestrictions}\n            handleSelectedFiltersChange={handleSelectedFiltersChange}\n            chartSelected={chartSelected}\n\n          />\n        )}\n        <MapHome filteredProjects={filteredProjects} countries={countries} />\n        <PopupOverlay show={showDataDownload} additionalClass=\"data-container\">\n          <DataDownloadContainer\n            selectedFilters={selectedFilters}\n            filtersRestrictions={filtersRestrictions}\n            chartSelected={chartSelected}\n            filters={filters}\n            settings={settings}\n            toggleDataDownload={toggleDataDownload}\n          />\n        </PopupOverlay>\n        <CountryPopupOverlay\n          countriesMessage={countriesMessage}\n          updateCountriesMessage={updateCountriesMessage}\n          show={showLargeCountryPopin}\n          projects={filteredProjects}\n          closeLargeCountryPopinAndClearFilter={closeLargeCountryPopinAndClearFilter}\n          countriesForExport={countriesForExport}\n          countriesForExportChanged={countriesForExportChanged}\n          sectors={sectors}\n          modalities={modalities}\n          activitiesDetails={activitiesDetails}\n          countries={countries}\n          getExportData={this.getExportData.bind(this)}\n          chartSelected={chartSelected}\n        />\n        <PopupOverlay\n          show={showEmptyProjects}\n          additionalClass={chartSelected === DOWNLOAD_CHART ? 'data-container' : ''}>\n          <SimplePopup\n            message={translations['amp.ssc.dashboard:no-data']}\n            onClose={onNoProjectsModalClose} />\n        </PopupOverlay>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  settings: {\n    settings: state.startupReducer.settings,\n    settingsLoaded: state.startupReducer.settingsLoaded\n  },\n  filters: {\n    sectors: {\n      sectors: state.filtersReducer.sectors,\n      sectorsLoaded: state.filtersReducer.sectorsLoaded\n    },\n    countries: {\n      countries: state.filtersReducer.countries,\n      countriesLoaded: state.filtersReducer.countriesLoaded\n    },\n    modalities: {\n      modalities: state.filtersReducer.modalities,\n      modalitiesLoaded: state.filtersReducer.modalitiesLoaded\n    }\n  },\n  projects: {\n    activities: state.reportsReducer.activities,\n    activitiesDetails: state.reportsReducer.activitiesDetails,\n    activitiesLoaded: state.reportsReducer.activitiesLoaded,\n  }\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  loadActivitiesDetails,\n}, dispatch);\n\nMapContainer.contextType = SSCTranslationContext;\nexport default connect(mapStateToProps, mapDispatchToProps)(MapContainer);\nMapContainer.propTypes = {\n  chartSelected: PropTypes.string,\n  showLargeCountryPopin: PropTypes.bool.isRequired,\n  filteredProjects: PropTypes.array,\n  closeLargeCountryPopinAndClearFilter: PropTypes.func.isRequired,\n  showEmptyProjects: PropTypes.bool.isRequired,\n  onNoProjectsModalClose: PropTypes.func.isRequired,\n  countriesForExport: PropTypes.array,\n  projects: PropTypes.object.isRequired,\n  countriesForExportChanged: PropTypes.func.isRequired,\n  handleSelectedFiltersChange: PropTypes.object.isRequired,\n  filters: PropTypes.object.isRequired,\n  settings: PropTypes.object.isRequired,\n  selectedFilters: PropTypes.shape({\n    selectedYears: PropTypes.array,\n    selectedCountries: PropTypes.array,\n    selectedSectors: PropTypes.array,\n    selectedModalities: PropTypes.array,\n  }),\n  filtersRestrictions: PropTypes.object.isRequired,\n  showDataDownload: PropTypes.bool,\n  toggleDataDownload: PropTypes.func.isRequired,\n  countriesMessage: PropTypes.bool,\n  updateCountriesMessage: PropTypes.func.isRequired\n};\n\nMapContainer.defaultProps = {\n  chartSelected: HOME_CHART,\n  filteredProjects: [],\n  countriesForExport: [],\n  selectedFilters: {\n    selectedYears: [],\n    selectedCountries: [],\n    selectedSectors: [],\n    selectedModalities: [],\n  },\n  showDataDownload: false,\n  countriesMessage: false\n};\n","import {\n  fetchSectorsPending,\n  fetchSectorsSuccess,\n  fetchSectorsError,\n  fetchCountriesError,\n  fetchCountriesPending,\n  fetchCountriesSuccess,\n  fetchModalitiesError,\n  fetchModalitiesPending,\n  fetchModalitiesSuccess\n} from './filtersActions';\nimport { fetchApiData } from '../../../utils/apiOperations';\nimport { API_FILTERS_SECTORS_URL, API_FILTERS_COUNTRIES_URL, API_FILTERS_MODALITIES_URL } from '../utils/constants';\n\nexport const loadSectorsFilters = () => dispatch => {\n  dispatch(fetchSectorsPending());\n  return fetchApiData({ url: API_FILTERS_SECTORS_URL })\n    .then(sectors => dispatch(fetchSectorsSuccess(sectors)))\n    .catch(error => dispatch(fetchSectorsError(error)));\n};\n\nexport const loadCountriesFilters = () => dispatch => {\n  dispatch(fetchCountriesPending());\n  return fetchApiData({ url: API_FILTERS_COUNTRIES_URL })\n    .then(countries => dispatch(fetchCountriesSuccess(countries)))\n    .catch(error => dispatch(fetchCountriesError(error)));\n};\n\nexport const loadModalitiesFilters = () => dispatch => {\n  dispatch(fetchModalitiesPending());\n  return fetchApiData({ url: API_FILTERS_MODALITIES_URL })\n    .then(typesOfSupport => dispatch(fetchModalitiesSuccess(typesOfSupport)))\n    .catch(error => dispatch(fetchModalitiesError(error)));\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport Sidebar from './components/layout/sidebar/sidebar';\nimport MapContainer from './components/layout/map/MapContainer';\nimport { SSCTranslationContext } from './components/StartUp';\nimport {\n  DOWNLOAD_CHART, HOME_CHART, MODALITY_CHART, SECTORS_CHART\n} from './utils/constants';\nimport { DONOR_COUNTRY, MODALITIES, PRIMARY_SECTOR } from './utils/FieldsConstants';\nimport * as CallReports from './actions/callReports';\n\nimport * as LoadFilters from './actions/loadFilters';\nimport './utils/print.css';\nimport PrintDummy from './utils/PrintDummy';\nimport {Outlet} from \"react-router-dom\";\n\nclass SscDashboardHome extends Component {\n  constructor(props) {\n    super(props);\n    this.countriesWithData = [];\n    this.state = {\n      showDataDownload: false,\n      countriesForExport: [],\n      chartSelected: HOME_CHART,\n      showEmptyProjects: false,\n      showLargeCountryPopin: false,\n      countriesMessage: false,\n      selectedFilters: {\n        selectedYears: [],\n        selectedCountries: [],\n        selectedSectors: [],\n        selectedModalities: []\n      }\n    };\n  }\n\n  componentDidMount() {\n    const {\n      loadSectorsFilters_, loadCountriesFilters_, loadModalitiesFilters_, projects\n    } = this.props;\n    loadSectorsFilters_();\n    loadCountriesFilters_();\n    loadModalitiesFilters_();\n\n    if (projects.activitiesLoaded) {\n      this.getProjectsData();\n    }\n    const initialData = this.getFilteredData();\n    // eslint-disable-next-line react/no-did-mount-set-state\n    this.setState({\n      filteredProjects: initialData\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props !== prevProps && this.countriesWithData.length === 0) {\n      const { projects } = this.props;\n      if (projects.activitiesLoaded) {\n        const initialData = this.getFilteredData();\n        this.countriesWithData = initialData.map(c => c.id);\n        const selectedYears = [];\n        selectedYears.push(projects.activities.mostRecentYear);\n        this.handleSelectedYearChanged(selectedYears);\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({\n          filteredProjects: initialData\n        });\n      }\n    }\n  }\n\n  handleSelectedYearChanged(pSelectedYears) {\n    this.updateFilterState('selectedYears', pSelectedYears);\n  }\n\n  handleSelectedCountryChanged(pSelectedCountries) {\n    // we only keep for export the countries that are selected\n    this.setState(previousState => {\n      const countriesForExport = [...previousState.countriesForExport].filter(c => pSelectedCountries.includes(c));\n      return { countriesForExport };\n    });\n    const { chartSelected } = this.state;\n    if ((chartSelected === SECTORS_CHART || chartSelected === MODALITY_CHART)\n      && pSelectedCountries && pSelectedCountries.length >= 1) {\n      // currently we open large popin, in next tickets we will open also the popin for 2/3 countries selected\n      this.setState({ showLargeCountryPopin: true });\n    } else {\n      this.closeLargeCountryPopin();\n    }\n    this.updateFilterState('selectedCountries', pSelectedCountries);\n  }\n\n  handleSelectedModalityChanged(pSelectedModalities) {\n    this.updateFilterState('selectedModalities', pSelectedModalities);\n  }\n\n  handleSelectedSectorChanged(pSelectedSectors) {\n    this.updateFilterState('selectedSectors', pSelectedSectors);\n  }\n\n  onChangeChartSelected(chartSelected) {\n    this.setState({ chartSelected });\n    if (chartSelected !== SECTORS_CHART) {\n      this.closeLargeCountryPopin();\n    }\n    if ((chartSelected === SECTORS_CHART || chartSelected === MODALITY_CHART)) {\n      this.setState((previousState) => {\n        if (previousState.selectedFilters.selectedCountries.length > 0) {\n          this.openLargeCountryPopin();\n        }\n        if (previousState.selectedFilters.selectedCountries.length > 6) {\n          // select only the first 6\n          console.log(this.countriesWithData);\n          return ({ countriesMessage: true });\n        } else {\n          return ({ countriesMessage: false });\n        }\n      }, () => {\n        const { filters } = this.props;\n        const { selectedFilters } = this.state;\n        const newSelectedCountries = filters.countries.countries.filter(\n          c => selectedFilters.selectedCountries.includes(c.id)\n        ).sort((a, b) => {\n          if (a.name < b.name) {\n            return -1;\n          }\n          if (a.name > b.name) {\n            return 1;\n          }\n          return 0;\n        }).slice(0, 6).map(c => c.id);\n        this.handleSelectedCountryChanged(newSelectedCountries);\n      });\n    }\n    if (chartSelected !== DOWNLOAD_CHART) {\n      this.setState({ showDataDownload: false });\n    }\n  }\n\n  onNoProjectsModalClose() {\n    this.setState({ showEmptyProjects: false });\n  }\n\n  getProjectsData() {\n    const { loadActivitiesDetails_, projects } = this.props;\n    loadActivitiesDetails_(projects.activities.activitiesId);\n  }\n\n  getFilteredProjects() {\n    const filteredProjects = this.getFilteredData();\n    this.setState({ filteredProjects });\n    const { selectedFilters } = this.state;\n    if (filteredProjects.length === 0) {\n      this.setState({ showEmptyProjects: true });\n    } else {\n      this.setState({ showEmptyProjects: false });\n    }\n\n    const countryWithProjects = filteredProjects.map(p => p.id);\n    const intersection = selectedFilters.selectedCountries.filter(c => countryWithProjects.includes(c));\n    if (!intersection || intersection.length === 0) {\n      this.closeLargeCountryPopin();\n    }\n  }\n\n  getFilteredData() {\n    // TODO see how we can simply or make a bit more generic this function\n    const { selectedFilters } = this.state;\n    const { projects } = this.props;\n    const {\n      selectedYears = [], selectedCountries = [], selectedSectors = [], selectedModalities = []\n    } = selectedFilters;\n    if (!projects.activitiesLoaded) {\n      return [];\n    }\n    const clonedProjectsActivities = projects.activities[DONOR_COUNTRY].map(a => ({ ...a }));\n    return clonedProjectsActivities.filter(p => {\n      if (selectedCountries.length === 0 || selectedCountries.includes(p.id)) {\n        const sectors = p[PRIMARY_SECTOR].filter(sector => {\n          if (selectedSectors.length === 0 || selectedSectors.includes(sector.id)) {\n            const modalities = sector[MODALITIES].filter(modality => {\n              if (selectedModalities.length === 0 || selectedModalities.includes(modality.id)) {\n                if (selectedYears.length > 0) {\n                  const filteredProjects = modality.activities.filter(a => selectedYears.includes(a.year));\n                  if (filteredProjects.length === 0) {\n                    return false;\n                  } else {\n                    modality.activities = filteredProjects;\n                    return true;\n                  }\n                } else {\n                  return true;\n                }\n              } else {\n                return false;\n              }\n            });\n            if (modalities.length === 0) {\n              return false;\n            } else {\n              sector[MODALITIES] = modalities;\n              return true;\n            }\n          } else {\n            return false;\n          }\n        });\n        if (sectors.length === 0) {\n          return false;\n        }\n        p[PRIMARY_SECTOR] = sectors;\n        return true;\n      } else {\n        return false;\n      }\n    });\n  }\n\n  updateCountriesMessage(show) {\n    this.setState({ countriesMessage: show });\n  }\n\n  countriesForExportChanged(countries) {\n    this.setState({ countriesForExport: countries });\n  }\n\n  updateFilterState(filterSelector, updatedSelectedFilters) {\n    this.setState((currentState) => {\n      const selectedFilters = { ...currentState.selectedFilters };\n      selectedFilters[filterSelector] = updatedSelectedFilters;\n      return { selectedFilters };\n    }, this.getFilteredProjects);\n  }\n\n  closeLargeCountryPopinAndClearFilter() {\n    this.handleSelectedCountryChanged([]);\n  }\n\n  openLargeCountryPopin() {\n    this.setState({ showLargeCountryPopin: true });\n  }\n\n  closeLargeCountryPopin() {\n    this.setState({ showLargeCountryPopin: false });\n  }\n\n  toggleDataDownload() {\n    this.setState(previousSate => ({ showDataDownload: !previousSate.showDataDownload }));\n  }\n\n  render() {\n    const { projects } = this.props;\n    const filtersRestrictions = {\n      countriesWithData: this.countriesWithData,\n      mostRecentYear: projects.activities.mostRecentYear\n    };\n\n    const handleSelectedFiltersChange = {\n      handleSelectedModalityChanged: this.handleSelectedModalityChanged.bind(this),\n      handleSelectedCountryChanged: this.handleSelectedCountryChanged.bind(this),\n      handleSelectedYearChanged: this.handleSelectedYearChanged.bind(this),\n      handleSelectedSectorChanged: this.handleSelectedSectorChanged.bind(this)\n    };\n    const {\n      chartSelected,\n      selectedFilters,\n      filteredProjects,\n      showEmptyProjects,\n      showLargeCountryPopin,\n      countriesForExport,\n      showDataDownload,\n      countriesMessage\n    } = this.state;\n    return (\n      <>\n        <div className=\"container-fluid content-wrapper\">\n          <div className=\"row\">\n            <Sidebar\n              chartSelected={chartSelected}\n              toggleDataDownload={this.toggleDataDownload.bind(this)}\n              onChangeChartSelected={this.onChangeChartSelected.bind(this)}\n              selectedFilters={selectedFilters}\n              handleSelectedFiltersChange={handleSelectedFiltersChange}\n            />\n            <MapContainer\n              showDataDownload={showDataDownload && !showEmptyProjects}\n              toggleDataDownload={this.toggleDataDownload.bind(this)}\n              chartSelected={chartSelected}\n              selectedFilters={selectedFilters}\n              handleSelectedFiltersChange={handleSelectedFiltersChange}\n              filteredProjects={filteredProjects}\n              filtersRestrictions={filtersRestrictions}\n              showEmptyProjects={showEmptyProjects}\n              showLargeCountryPopin={showLargeCountryPopin}\n              closeLargeCountryPopinAndClearFilter={this.closeLargeCountryPopinAndClearFilter.bind(this)}\n              onNoProjectsModalClose={this.onNoProjectsModalClose.bind(this)}\n              countriesForExport={countriesForExport}\n              countriesForExportChanged={this.countriesForExportChanged.bind(this)}\n              countriesMessage={countriesMessage}\n              updateCountriesMessage={this.updateCountriesMessage.bind(this)}\n            />\n          </div>\n          <PrintDummy />\n        </div>\n        <Outlet />\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  filters: {\n    sectors: {\n      sectors: state.filtersReducer.sectors,\n      sectorsLoaded: state.filtersReducer.sectorsLoaded\n    },\n    countries: {\n      countries: state.filtersReducer.countries,\n      countriesLoaded: state.filtersReducer.countriesLoaded\n    }\n  },\n  projects: {\n    activities: state.reportsReducer.activities,\n    activitiesLoaded: state.reportsReducer.activitiesLoaded,\n    activitiesDetailsLoaded: state.reportsReducer.activitiesDetailsLoaded,\n  },\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  loadActivitiesDetails_: CallReports.loadActivitiesDetails,\n  loadSectorsFilters_: LoadFilters.loadSectorsFilters,\n  loadCountriesFilters_: LoadFilters.loadCountriesFilters,\n  loadModalitiesFilters_: LoadFilters.loadModalitiesFilters\n}, dispatch);\n\nSscDashboardHome.contextType = SSCTranslationContext;\n\nSscDashboardHome.propTypes = {\n  projects: PropTypes.object.isRequired,\n  loadSectorsFilters_: PropTypes.func.isRequired,\n  loadCountriesFilters_: PropTypes.func.isRequired,\n  loadModalitiesFilters_: PropTypes.func.isRequired,\n  loadActivitiesDetails_: PropTypes.func.isRequired,\n  filters: PropTypes.object.isRequired\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SscDashboardHome);\n","import React, { Component } from 'react';\nimport PrintDummy from './PrintDummy';\nimport './print.css';\n\nexport default class PrinterFriendly extends Component {\n  componentDidMount() {\n    window.parent.postMessage({ action: 'chart-loaded' });\n  }\n\n  render() {\n    return (<PrintDummy friendly />);\n  }\n}\n","import React, { Component } from 'react';\nimport {Outlet, Route, Routes} from 'react-router-dom';\nimport '../../../App.css';\nimport SssDashboardHome from '../SscDashboardHome';\nimport PrinterFriendly from '../utils/PrinterFriendly';\n\nconst SSCDashboardRouter = () => {\n    return (\n      <Routes>\n        <Route path=\"/print\"  element={<PrinterFriendly />} />\n        <Route path=\"/\" element={<SssDashboardHome />} />\n      </Routes>\n    );\n}\n\nexport default SSCDashboardRouter;\n","import React, { Component } from 'react';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport { Provider } from 'react-redux';\nimport rootReducer from './reducers/rootReducer';\nimport Startup from './components/StartUp';\nimport SSCDashboardRouter from './components/SSCDashboardRouter';\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nclass SSCDashboardApp extends Component {\n  constructor(props) {\n    super(props);\n    this.store = createStore(rootReducer, composeEnhancer(applyMiddleware(thunk)));\n  }\n\n  render() {\n    return (\n      <Provider store={this.store}>\n        <Startup>\n          <SSCDashboardRouter />\n        </Startup>\n      </Provider>\n    );\n  }\n}\n\nexport default SSCDashboardApp;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst PrintDummy = ({ friendly }) => (\n  <>\n    <div id={`print${friendly ? '-friendly' : ''}-dummy`}>\n      <div id={`print${friendly ? '-friendly' : ''}-dummy-container`}>\n        <div className=\"print-dummy-border\" />\n      </div>\n    </div>\n    <div id={`print${friendly ? '-friendly' : ''}-simple-dummy`}>\n      <div id={`print${friendly ? '-friendly' : ''}-simple-dummy-container`} />\n    </div>\n  </>\n);\nPrintDummy.propTypes = {\n  friendly: PropTypes.bool\n};\nPrintDummy.defaultProps = {\n  friendly: false\n};\nexport default PrintDummy;\n","import domtoimage from 'dom-to-image-font-patch';\nimport { COUNTRY_COLUMN, PNG_FORMAT } from './constants';\n\nexport const printInnerCharts = (title, chartId, filtersObject, format, countriesForExport) => {\n  const rows = document.getElementById(chartId).childNodes;\n  const chartsIds = [];\n  rows.forEach(r => {\n    r.childNodes.forEach(c => {\n      if (countriesForExport.includes(parseInt(c.id.substring('country-column'.length, c.id.length), 10))) {\n        chartsIds.push(c.id);\n      }\n    });\n  });\n  chartsIds.reduce((previousPromise, nextChartID) => previousPromise\n    .then(() => printChart(title, nextChartID, [], format, false, 'print-simple-dummy-container')), Promise.resolve());\n};\n\nexport const printChartPrinter = (title, chartId, printContainer, iframe, countriesForExport) => {\n  try {\n    let oneByOne = false;\n    if (countriesForExport && countriesForExport.length > 0) {\n      oneByOne = true;\n    }\n    const doc = iframe ? iframe.contentDocument : document;\n    const printElement = doc.getElementById(printContainer);\n    if (oneByOne) {\n      printElement.className = `${printElement.className} one-by-one`;\n    }\n    const charts = document.getElementsByClassName('chart-column');\n\n    let titleElement;\n    if (title) {\n      titleElement = doc.createElement('div');\n      titleElement.className = 'print-title';\n      titleElement.appendChild(doc.createTextNode(title));\n      if (!oneByOne) {\n        printElement.appendChild(titleElement);\n      }\n    }\n    let totalRows;\n    if (!oneByOne) {\n      totalRows = Math.ceil(charts.length / 2);\n    } else {\n      totalRows = charts.length;\n    }\n    let rowCount = 1;\n    for (let i = 0; i < charts.length;) {\n      const col1 = charts[i].cloneNode(true);\n      if (!oneByOne || countriesForExport.includes(parseInt(col1.id.substring(COUNTRY_COLUMN.length), 10))) {\n        col1.style.height = charts[i].clientHeight;\n        col1.style.width = charts[i].clientWidth;\n        i += 1;\n        let col2;\n        if (i < charts.length && !oneByOne) {\n          col2 = charts[i].cloneNode(true);\n          col2.style.height = charts[i].clientHeight;\n          col2.style.width = charts[i].clientWidth;\n          i += 1;\n        }\n        const theRow = doc.createElement('div');\n        // eslint-disable-next-line no-nested-ternary\n        theRow.className = `print-row row${rowCount < totalRows ? ' border-bottom ' : (!oneByOne ? ' last-row' : '')}`;\n        rowCount += 1;\n        if (titleElement && oneByOne) {\n          const newTitleElement = titleElement.cloneNode(true);\n          printElement.appendChild(newTitleElement);\n        }\n\n        theRow.appendChild(col1);\n        if (col2) {\n          theRow.appendChild(col2);\n          col1.className = 'chart-column col-print-6 border-right';\n          col2.className = 'chart-column col-print-6';\n        } else {\n          col1.className = 'chart-column col-print-12';\n        }\n        printElement.appendChild(theRow);\n        if (oneByOne) {\n          const pageBreak = doc.createElement('p');\n          pageBreak.className = 'new-page';\n          printElement.appendChild(pageBreak);\n        }\n      } else {\n        i += 1;\n        rowCount += 1;\n      }\n    }\n  } catch (ex) {\n    console.log(`problem creating elements for print: ${ex}`);\n  }\n};\n\n/**\n * Original code from VIFAA\n * @param title\n * @param chartId\n * @param filtersObject\n * @param format\n * @param calculateChildren\n * @param printContainer\n */\nexport const printChart = (title, chartId, filtersObject, format, calculateChildren, printContainer, useTitle) => {\n  try {\n    let printElement = document.getElementById(printContainer).firstChild;\n    if (!printElement) {\n      printElement = document.getElementById(printContainer);\n    }\n    const chartElement = document.getElementById(chartId).cloneNode(true);\n    let chartHeight = `${document.getElementById(chartId).clientHeight}px`;\n    if (calculateChildren) {\n      chartHeight = 0;\n      document.getElementById(chartId).childNodes.forEach(c => {\n        chartHeight += c.clientHeight;\n      });\n    }\n\n    chartElement.style.height = chartHeight;\n    chartElement.style.width = `${document.getElementById(chartId).clientWidth}px`;\n\n    let titleElement;\n    if (title && useTitle) {\n      titleElement = document.createElement('div');\n      titleElement.className = 'print-title';\n      titleElement.appendChild(document.createTextNode(title));\n      printElement.appendChild(titleElement);\n    }\n\n    printElement.appendChild(chartElement);\n    const height = chartElement.clientHeight + 10 + (titleElement ? titleElement.clientHeight : 0);\n    return doPrint(printElement, titleElement, chartElement, format,\n      title, height, chartElement.clientWidth);\n  } catch (ex) {\n    debugger;\n    console.log(`problem creating elements for print: ${ex}`);\n  }\n};\nconst doPrint = (printElement, titleElement, chartElement, format, title, height, width) => {\n  const printMethod = format === PNG_FORMAT ? domtoimage.toPng : domtoimage.toSvg;\n  return new Promise((resolve, reject) => {\n    printMethod(printElement, {\n      height,\n      width,\n      bgcolor: '#FFF'\n    })\n      .then((dataUrl) => {\n        const link = document.createElement('a');\n        link.download = `${title}.${format}`;\n        link.href = dataUrl;\n        document.body.appendChild(link);\n        link.click();\n\n        if (titleElement) {\n          printElement.removeChild(titleElement);\n        }\n        printElement.removeChild(chartElement);\n        return resolve();\n      }).catch((e) => {\n        printElement.removeChild(chartElement);\n        if (titleElement) {\n          printElement.removeChild(titleElement);\n        }\n        printElement.removeChild(chartElement);\n        reject(new Error(e));\n      });\n  });\n};\n","export const ZERO = 0;\nexport const ONE = 1;\nexport const NEGATIVE_ONE = -1;\nexport const FLAGS_DIRECTORY = '/assets/img/flags/';\n\nexport const DASHBOARD_DEFAULT_MIN_YEAR_RANGE = 'dashboard-default-min-year-range';\nexport const DASHBOARD_DEFAULT_MAX_YEAR_RANGE = 'dashboard-default-max-year-range';\n\nexport const API_FILTERS_SECTORS_URL = '/rest/filters/sectors';\nexport const API_FILTERS_COUNTRIES_URL = '/rest/filters/locations?firstLevelOnly=true&showAllCountries=true';\nexport const API_AMP_SETTINGS_URL = '/rest/amp/settings';\nexport const API_FILTERS_MODALITIES_URL = '/rest/filters/modalities?sscWorkspace=true';\nexport const API_SSC_DASHBOARD_URL = '/rest/gis/sscdashboard';\nexport const API_XLS_REPORT_URL = '/rest/gis/sscdashboard/xsl';\nexport const API_REPORTS_ACTIVITY_DETAIL_URL = '/rest/gis/activities';\n\nexport const BOOTSTRAP_COLUMNS_COUNT = 12;\n\nexport const NON_SELECTED_LINE_COLOR = '#fd8f00';\nexport const NON_SELECTED_BUBBLE_COLOR = '#fd8f00';\n\nexport const SELECTED_LINE_COLOR = '#007236';\nexport const SELECTED_BUBBLE_COLOR = '#007236';\nexport const PNG_FORMAT = 'png';\nexport const PROJECT_LENGTH_HOME_PAGE = 50;\nexport const UNDEFINED_FILTER = -999999999;\nexport const FLAGS_TO_SHOW_DEFAULT = 9;\nexport const FLAGS_TO_SHOW_SMALL = 6;\nexport const FLAGS_TO_SHOW_SMALL_WIDTH_THRESHOLD = 1766;\nexport const SECTORS_LIMIT_CHART = 5;\nexport const SECTORS_OTHERS_ID_CHART = '-1';\nexport const DEFAULT_SCREEN_SIZE = 1920;\nexport const DEFAULT_ELLIPSIS = 145;\nexport const SECTOR_MODALITY_MIN_SIZE = 2;\nexport const SECTOR_MODALITY_LEADING_LEFT = '0';\nexport const WS_PREFIX = 'SSC_';\n\nexport const HOME_CHART = 'home';\nexport const SECTORS_CHART = 'sector';\nexport const MODALITY_CHART = 'modality';\nexport const DOWNLOAD_CHART = 'download';\nexport const COUNTRY_COLUMN = 'country-column';\n// eslint-disable-next-line max-len\nexport const FALLBACK_FLAG = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAbCAQAAACkGQXlAAAAI0lEQVR42mP8L8lAVcA4auCogaMGjho4auCogaMGjhpINAAAOBcdpLw/CDsAAAAASUVORK5CYII=';\nexport const OTHERS_CODE = '000';\nexport const INVALID_COLUMN_ERROR_CODE = '0602';\nexport const FILTER_PRIMARY_SECTOR = 'primary-sector';\nexport const FILTER_SSC_MODALITIES = 'ssc-modalities';\nexport const FILTER_DONOR_AGENCY_COUNTRY = 'donor-agency-country';\n\n\nexport const SECTOR_COLOR_MAP = new Map([\n  ['110', '#d46453'], ['120', '#f5a15d'], ['130', '#ffcf8e'], ['140', '#ff7a7d'], ['150', '#ff417d'],\n  ['160', '#d61a88'], ['210', '#fff540'], ['220', '#28c074'], ['230', '#429058'], ['240', '#bd4035'],\n  ['250', '#b0fff1'], ['311', '#144491'], ['312', '#9b0e3e'], ['313', '#10908e'], ['321', '#8f5765'],\n  ['322', '#c7d4e1'], ['323', '#77b02a'], ['331', '#488bd4'], ['332', '#928fb8'], ['400', '#c6d831'],\n  ['500', '#d41e3c'], ['600', '#cf968c'], ['700', '#78d7ff'], ['910', '#94007a'], ['920', '#ffb84a'],\n  ['930', '#ed7b39'], ['998', '#ed4c40'], ['000', '#8f5765']\n]);\nexport const MODALITIES_COLOR_MAP = new Map([\n  [OTHERS_CODE, '#8f5765']]);\n\nexport const MODALITIES_COLOR = ['#00429d', '#3761ab', '#5681b9', '#73a2c6', '#93c4d2', '#b9e5dd',\n  '#ffffe0', '#ffd3bf', '#ffa59e', '#f4777f', '#dd4c65', '#be214d', '#93003a'];\nexport const COLOR_MAP_CUSTOM = new Map([[\n  MODALITY_CHART, MODALITIES_COLOR\n]]);\n\nexport const COLOR_MAP = new Map([\n  [SECTORS_CHART, SECTOR_COLOR_MAP],\n  [MODALITY_CHART, MODALITIES_COLOR_MAP]\n]);\n","import { DEVELOPMENT } from './Constants';\n\nexport function getRootUrl() {\n  if (process.env.NODE_ENV === DEVELOPMENT) {\n    return '/#';\n  } else {\n    return `${process.env.PUBLIC_URL}/index.html#`;\n  }\n}\n\nexport function formatText(text) {\n    var args = arguments;\n    return text.replace(/{(\\d+)}/g, function (match, number) {\n        let argIdx = parseInt(number) + 1;\n        return typeof args[argIdx] != 'undefined' ? args[argIdx] : match;\n    });\n};","import { fetchTranslationsSuccess, fetchTranslationsPending, fetchTranslationsError }\n  from './translationsActions';\nimport { loadTranslations } from '../loadTranslations';\n\nfunction fetchTranslations(translations) {\n  return dispatch => {\n    dispatch(fetchTranslationsPending(translations));\n    return loadTranslations(translations)\n      .then(trnPack => dispatch(fetchTranslationsSuccess(trnPack)))\n      .catch(error => dispatch(fetchTranslationsError(error)));\n  };\n}\nexport default fetchTranslations;\n","export const FETCH_TRANSLATIONS_PENDING = 'FETCH_TRANSLATIONS_PENDING';\nexport const FETCH_TRANSLATIONS_SUCCESS = 'FETCH_TRANSLATIONS_SUCCESS';\nexport const FETCH_TRANSLATIONS_ERROR = 'FETCH_TRANSLATIONS_ERROR';\n\nexport function fetchTranslationsPending(translations) {\n  return {\n    type: FETCH_TRANSLATIONS_PENDING,\n    payload: translations\n  };\n}\n\nexport function fetchTranslationsSuccess(translations) {\n  return {\n    type: FETCH_TRANSLATIONS_SUCCESS,\n    payload: translations\n  };\n}\n\nexport function fetchTranslationsError(error) {\n  return {\n    type: FETCH_TRANSLATIONS_ERROR,\n    error\n  };\n}\n","const POST = 'POST';\nconst GET = 'GET';\nconst DELETE = 'DELETE';\n\nexport function getRequestOptions(body) {\n    const requestOptions = {\n        method: body ? POST : GET,\n        headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}\n    };\n    if (body) {\n        requestOptions.body = JSON.stringify(body);\n    }\n    return requestOptions;\n}\n\nexport const callDeleteApiEndpoint = ({url}) => {\n    const deleteRequestOptions = {\n        method: DELETE,\n        headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}\n    }\n\n    return new Promise((resolve, reject) => {\n        return fetch(url, deleteRequestOptions)\n            .then(data => {\n                if (data.error) {\n                    return reject(data.error);\n                }\n                return resolve(data);\n            }).catch(error => reject(error));\n    })\n};\n\nexport const fetchApiData = ({body, url}) => {\n    return new Promise((resolve, reject) => {\n        return fetch(url, getRequestOptions(body))\n            .then(response => {\n                return response.json();\n            })\n            .then(data => {\n                if (data.error) {\n                    return reject(data.error);\n                }\n                return resolve(data);\n            }).catch(error => reject(error));\n    })\n};\n\nexport const fetchApiDataWithStatus = ({body, url}) => {\n    return new Promise((resolve, reject) => {\n        return fetch(url, getRequestOptions(body))\n            .then(response => response.text().then(data => {\n                let contentType = response.headers.get(\"content-type\");\n                let parsedData = data;\n                if (data && contentType && contentType.indexOf(\"application/json\") !== -1) {\n                    parsedData = JSON.parse(data);\n                }\n                return ({\n                    data: parsedData,\n                    ok : response.ok,\n                    status: response.status\n                })}\n            ).then(response => {\n                if (!response.ok) {\n                    return reject({\n                        status: response.status,\n                        message: extractErrorMessageFromResponse(response),\n                        code: extractErrorCodeFromResponse(response)\n                    });\n                }\n                return resolve(response);\n            })).catch(error => reject(error));\n    })\n};\n\nexport function extractErrorMessageFromResponse(response) {\n    let errorMessage = \"\";\n    if (response.data && response.data.error) {\n        for (let k in response.data.error) {\n            errorMessage += JSON.stringify(response.data.error[k]);\n        }\n    } else {\n        errorMessage = response.data\n    }\n\n    return errorMessage;\n}\n\nexport function extractErrorCodeFromResponse(response) {\n    if (response.data && response.data.error) {\n        for (let k in response.data.error) {\n            return k;\n        }\n    }\n    return response.data;\n}","import React from 'react';\n\nconst Loading = () => (\n  <div className=\"jumbotron\">\n    <div className=\"progress\">\n      <div\n        className=\"progress-bar progress-bar-striped bg-info\"\n        role=\"progressbar\"\n        aria-valuenow=\"100\"\n        aria-valuemin=\"0\"\n        aria-valuemax=\"100\"\n        style={{ width: '100%' }}>\n        ...\n      </div>\n    </div>\n  </div>\n);\n\n// eslint-disable-next-line import/prefer-default-export\nexport { Loading };\n","import { WS_PREFIX } from '../modules/sscdashboard/utils/constants';\n\nconst POST = 'POST';\nconst GET = 'GET';\n\nfunction getRequestOptions(body, headers) {\n  const requestOptions = {\n    method: body ? POST : GET,\n    headers: headers || { 'Content-Type': 'application/json', Accept: 'application/json', 'ws-prefix': WS_PREFIX }\n  };\n  if (body) {\n    requestOptions.body = JSON.stringify(body);\n  }\n  return requestOptions;\n}\n\nexport const fetchApiData = ({ body, url, headers }) => new Promise((resolve, reject) => fetch(url,\n  getRequestOptions(body, headers))\n  .then(response => {\n    if (headers && headers.Accept === 'text/html') {\n      return response.text();\n    } else if (response.headers && response.headers.get('Content-Type')\n        && response.headers.get('Content-Type').indexOf('application/json') > -1) {\n      return response.json();\n    } else {\n      return response;\n    }\n  })\n  .then(data => {\n    if (data.error) {\n      return reject(data.error);\n      // throw new Error(data.error);\n    }\n    return resolve(data);\n  }));\n\n// TODO to move api route to a constant.\nexport function loadTranslations(trnPack) {\n  return new Promise((resolve) => fetch('/rest/translations/label-translations', getRequestOptions(trnPack))\n    .then(response => {\n        let contentType = response.headers.get(\"content-type\");\n        if (contentType && contentType.indexOf(\"application/json\") !== -1) {\n            return response.json().then(data => {\n                if (data.error) {\n                    throw new Error(data.error);\n                }\n                return resolve(data);\n            });\n        }\n    }));\n}\n","import {\n  FETCH_TRANSLATIONS_ERROR, FETCH_TRANSLATIONS_PENDING, FETCH_TRANSLATIONS_SUCCESS\n} from '../actions/translationsActions';\n\nconst initialState = {\n  pending: true,\n  translations: {},\n  error: null\n};\n\nexport default function translationsReducer(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_TRANSLATIONS_PENDING:\n      return {\n        ...state,\n        pending: true,\n        translations: action.payload\n      };\n    case FETCH_TRANSLATIONS_SUCCESS:\n      return {\n        ...state,\n        pending: false,\n        translations: action.payload\n      };\n    case FETCH_TRANSLATIONS_ERROR:\n      return {\n        ...state,\n        pending: false,\n        error: action.error\n      };\n    default:\n      return state;\n  }\n}\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return possibleConstructorReturn(this, result);\n  };\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nexport default function _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : String(i);\n}","import _typeof from \"./typeof.js\";\nexport default function toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}"],"names":["FETCH_AMP_SETTINGS_PENDING","FETCH_AMP_SETTINGS_SUCCESS","FETCH_AMP_SETTINGS_ERROR","initialState","settingsLoaded","settingsPending","settings","error","ACTIVITY_ID","PROJECT_TITLE","EXTRA_INFO","GROUP_ID","CENTRO_ID","PRIMARY_SECTOR","MODALITIES","toCamelCase","str","toLowerCase","split","map","s","charAt","toUpperCase","slice","join","getCountryFlag","name","concat","process","FLAGS_DIRECTORY","replace","FALLBACK_FLAG","calculateUpdatedValuesForDropDowns","ipSelectedFilter","selectedOptions","updatedSelectedOptions","includes","filter","sc","_toConsumableArray","push","calculateColumnCount","length","columnCount","getCategoryForCountry","country","generateYearsFilters","years","settingsParam","maxYearParam","minYear","parseInt","DASHBOARD_DEFAULT_MIN_YEAR_RANGE","i","DASHBOARD_DEFAULT_MAX_YEAR_RANGE","id","FETCH_FILTERS_SECTORS_PENDING","FETCH_FILTERS_SECTORS_SUCCESS","FETCH_FILTERS_SECTORS_ERROR","FETCH_FILTERS_COUNTRIES_PENDING","FETCH_FILTERS_COUNTRIES_SUCCESS","FETCH_FILTERS_COUNTRIES_ERROR","FETCH_FILTERS_MODALITIES_PENDING","FETCH_FILTERS_MODALITIES_SUCCESS","FETCH_FILTERS_MODALITIES_ERROR","sectorsLoaded","sectorsPending","sectors","sectorLoadingErrors","countriesLoaded","countriesPending","countries","countriesLoadingErrors","modalitiesPending","modalitiesLoaded","modalities","FETCH_ACTIVITIES_DETAIL_PENDING","FETCH_ACTIVITIES_DETAIL_SUCCESS","FETCH_ACTIVITIES_DETAIL_ERROR","FETCH_ACTIVITIES_PENDING","FETCH_ACTIVITIES_SUCCESS","FETCH_ACTIVITIES_ERROR","activitiesDetailsPending","activitiesDetailsLoaded","activitiesDetails","activitiesPending","activitiesLoaded","activities","FETCH_XLS_REPORT_PENDING","FETCH_XLS_REPORT_SUCCESS","FETCH_XLS_REPORT_ERROR","FETCH_XLS_REPORT_DONE","dataDownloadPending","dataDownloadLoaded","dataDownload","combineReducers","startupReducer","state","arguments","undefined","action","type","_objectSpread","payload","translationsReducer","filtersReducer","reportsReducer","dataDownloadReducer","loadActivitiesDetails","activitiesId","dispatch","url","API_REPORTS_ACTIVITY_DETAIL_URL","p","fetchApiData","body","then","activitiesDetail","fetchActivitiesDetailSuccess","catch","fetchActivitiesDetailError","loadActivities","API_SSC_DASHBOARD_URL","fetchActivitiesSuccess","fetchActivitiesError","API_AMP_SETTINGS_URL","ampSettings","fetchAmpSettingsError","SSCTranslationContext","React","translations","defaultTrnPack","Startup","_Component","_inherits","_super","_createSuper","_classCallCheck","apply","_createClass","key","value","_this$props","this","props","fetchTranslations","loadAmpSettings","_this$props2","translationPending","children","_jsx","Loading","document","title","Provider","Component","connect","pending","bindActionCreators","SidebarIntro","context","className","text","t","contextType","FiltersLink","onChangeChartSelect","chartName","onLinkClicked","chartSelected","onSelectedOptions","onSelectOptions","bind","onClick","MultiSelectionDropDown","_this","call","searchText","setState","e","target","onChange","selectionLimit","isVisible","searchBox","focus","categoryId","options","categoryFetcher","o","of","_this$props$selectedO","_this$props$options","selected","_this2","_this$props3","_this$props3$options","_this$props3$selected","sortData","filterId","elements","toString","indexOf","sort","a","b","_jsxs","checked","htmlFor","_this$props$selectedO2","c","d","left","both","right","j","compareArrayNumber","getCategoryOptions","_this$props4","_this$props5","parentId","inputText","createElement","getContext","font","width","measureText","Math","ceil","_this3","onChangeNew","_this$props6","categoriesSelection","onChangeChartSelected","filterName","label","disabled","textWidth","getActualWidth","SelectAll","_Fragment","getSelectedCount","getOptionsCount","selectAll","SelectNone","selectNone","showQuickSelectionLinks","showSelectAll","href","VisibilitySensor","onDropdownVisible","showCollapse","onSearchBoxChange","placeholder","ref","input","handleClearText","category","idx","tooltip","selectCategory","isCategorySelected","getOptions","ReactTooltip","defaultProps","Sidebar","toggleDataDownload","handleSelectedFiltersChange","filters","selectedFilters","_selectedFilters$sele","selectedSectors","_selectedFilters$sele2","selectedModalities","handleSelectedSectorChanged","handleSelectedModalityChanged","HOME_CHART","SECTORS_CHART","MODALITY_CHART","DOWNLOAD_CHART","Flag","_ref","countryName","src","useImage","srcList","Utils","alt","_ref2","Suspense","fallback","CountryCarousel","onFlagClick","param","slidesToShow","FLAGS_TO_SHOW_DEFAULT","window","addEventListener","onResize","removeEventListener","previousState","calculateCarouselValues","ONE","NEGATIVE_ONE","CountryFlag","EllipsisText","tail","innerWidth","FLAGS_TO_SHOW_SMALL_WIDTH_THRESHOLD","FLAGS_TO_SHOW_SMALL","ZERO","InfiniteCarousel","breakpoints","breakpoint","slidesToScroll","dots","showSides","sidesOpacity","sideSize","scrollOnDevice","getFlags","HorizontalFilters","categories","Set","description","handleSelectedCountryChanged","handleSelectedYearChanged","filtersRestrictions","selectedYears","selectedCountries","countriesWithData","generateCountriesCategories","mostRecentYear","additionalCss","clearFilters","columnsCount","ConnectionLayer","_React$Component","lines","leaflet","points","update","prevProps","newProps","latitude","longitude","color","compareProps","forEach","l","removeFrom","point1","point2","lineWeight","breaks","_this$props$maxWeight","maxWeight","lineColor","latlng1","latlng2","offsetX","offsetY","r","sqrt","pow","theta","atan2","r2","cos","theta2","midpointX","midpointLatLng","sin","weight","breakUnit","pathOptions","pointData","dashOffset","dashArray","stroke","line","L","addTo","on","f","latlng","nodePoint","cleanLines","drawLine","withLeaflet","ToggleSwitch","defaultChecked","big","currentValue","small","generateStructureBasedOnSectorProjectCount","objectData","projectSectors","uniqueProjects","groupings","FieldsConstants","sector","m","add","generateStructureBasedOnModalitiesProjectCount","projectModalities","Map","projectModality","has","get","code","set","Array","from","values","g","item","colorMap","COLOR_MAP","COLOR_MAP_CUSTOM","shift","getColor","getProjects","projects","elementId","ellipsisLength","na","project","projectId","find","getProject","prj","projectName","ampUrl","rel","getChartData","projectsByGroupings","includeActivities","totalActivities","reduce","prev","size","grouping","groupingsFilter","ss","per","prevBaseLine","tailRounded","round","Number","EPSILON","percentage","simpleLabel","HomePopup","data","modality","modalityId","UNDEFINED_FILTER","sectorId","showSector","generateStructureBasedOnModalities","getSectorName","getModalityName","PROJECT_LENGTH_HOME_PAGE","handleChangeDataToShow","Img","objectName","getTableData","MapHome","zoom","lat","lng","mapCentered","theMap","filteredProjects","availableCountries","centerMap","dataPoint","dataFiltered","center","result","_this$state","countryCenter","bubbleColor","SELECTED_BUBBLE_COLOR","NON_SELECTED_BUBBLE_COLOR","CircleMarker","radius","opacity","fill","fillColor","fillOpacity","onBubbleClick","onPopupClose","popUpClosed","Popup","centerCountry","fp","countryFound","element","centroId","SELECTED_LINE_COLOR","NON_SELECTED_LINE_COLOR","lon","_generateDataPoints","arrayOfLatLngs","bounds","isValid","leafletElement","fitBounds","_this4","_this$state2","mapCenter","maxZoom","minZoom","zoomControl","TileLayer","attribution","ZoomControl","zoomInTitle","zoomOutTitle","Control","position","handleCenterClick","getPoints","PopupOverlay","additionalClass","show","CountryPopupOverlayTitle","countriesMessage","updateCountriesMessage","translationsContext","useContext","_useState","useState","_useState2","_slicedToArray","setShow","useEffect","timer","setTimeout","clearTimeout","role","style","background","exportToXLS","exportData","workbook","Excel","isArray","sheetData","index","addWorkSheet","sheetName","xlsx","writeBuffer","blob","Blob","URL","createObjectURL","anchor","download","click","revokeObjectURL","columns","rows","source","addWorksheet","worksheet","getWorksheet","mergeCells","getCell","family","bold","argb","alignment","vertical","horizontal","pattern","fgColor","border","top","bottom","addRow","lastRow","row","col","headerTitle","innerRow","cellsStyles","hasOwnProperty","styleCell","cellToStyle","styleKey","rowNumber","rowCount","start","end","eachRow","populateFilters","selectedFiltersForExport","PrintCountryCharts","isLoading","handleMessage","_assertThisInitialized","countriesForExport","iframe","frames","getElementById","iframeWindow","contentWindow","cleanPrintNodes","printChartPrinter","print","node","contentDocument","firstChild","removeChild","event","getRootUrl","display","printIframe","CountryPopupExport","printFormat","printTitle","printChartId","printFilters","onlyOneCountry","printChart","alert","printInnerCharts","getExportData","closeLargeCountryPopinAndClearFilter","exportToImage","PNG_FORMAT","exportChartToXls","place","multiline","CountryPopupHeader","ipSelectedCountry","countriesForExportChanged","projectByGroupings","padStart","SECTOR_MODALITY_MIN_SIZE","SECTOR_MODALITY_LEADING_LEFT","onCountrySelected","titleLabel","headerStyle","backgroundColor","v","CountryPopupChart","chartComponents","chart","ResponsivePie","margin","innerRadius","colors","borderWidth","sortByValue","borderColor","modifiers","enableRadialLabels","radialLabelsSkipAngle","radialLabelsTextXOffset","radialLabelsTextColor","radialLabelsLinkOffset","radialLabelsLinkDiagonalLength","radialLabelsLinkHorizontalLength","radialLabelsLinkStrokeWidth","radialLabelsLinkColor","enableSlicesLabels","slicesLabelsSkipAngle","slicesLabelsTextColor","animate","motionStiffness","motionDamping","Tooltip","otherValues","theme","container","padding","legend","SscCustomLegend","chartData","nonGrouped","SECTORS_LIMIT_CHART","b1","b2","others","other","othersLabel","SECTORS_OTHERS_ID_CHART","OTHERS_CODE","getChart","CountryPopupFooter","ellipsisSize","calculateEllipsis","currentWindowWith","floor","DEFAULT_ELLIPSIS","DEFAULT_SCREEN_SIZE","CountryPopup","borderClass","lineClass","CountryPopupContainer","upperLower","getUpperLower","firstRow","min","max","k","classCount","BOOTSTRAP_COLUMNS_COUNT","getLeft","getRight","COUNTRY_COLUMN","nanoid","getCountryPopup","CountryPopupOverlay","secondRow","message","onClose","report","dataDownloaded","downloadData","FILTER_PRIMARY_SECTOR","FILTER_SSC_MODALITIES","FILTER_DONOR_AGENCY_COUNTRY","info","API_XLS_REPORT_URL","fetchXlsReportSuccess","fetchXlsReportError","DataDownloadContainer","resetFilters","_dataDownloaded","sscDashboardXlsResultRows","sscXlsData","pSelectedCountries","updateFilterState","pSelectedSectors","pSelectedModalities","pSelectedYears","available","filterSelector","updatedSelectedFilters","currentState","_downloadData","_selectedFilters$sele3","_selectedFilters$sele4","Tabs","activeKey","transition","onSelect","setKey","Tab","eventKey","getTitle","handleSelectedCountryDataDownloadChanged","handleSelectedSectorDataDownloadChanged","handleSelectedModalityDataDownloadChanged","handleSelectedYearDataDownloadChanged","getMessage","MapContainer","isModalities","cd","count","ad","showLargeCountryPopin","showEmptyProjects","onNoProjectsModalClose","showDataDownload","SimplePopup","loadSectorsFilters","API_FILTERS_SECTORS_URL","sectorsFilter","theFilter","items","primary","fetchSectorsSuccess","fetchSectorsError","loadCountriesFilters","API_FILTERS_COUNTRIES_URL","countriesFilter","locations","template","fetchCountriesSuccess","fetchCountriesError","loadModalitiesFilters","API_FILTERS_MODALITIES_URL","typesOfSupport","fetchModalitiesError","SscDashboardHome","loadSectorsFilters_","loadCountriesFilters_","loadModalitiesFilters_","getProjectsData","initialData","getFilteredData","closeLargeCountryPopin","openLargeCountryPopin","console","log","newSelectedCountries","loadActivitiesDetails_","countryWithProjects","intersection","year","getFilteredProjects","previousSate","PrintDummy","Outlet","CallReports","LoadFilters","PrinterFriendly","parent","postMessage","friendly","Routes","Route","path","SssDashboardHome","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","SSCDashboardApp","store","createStore","rootReducer","applyMiddleware","thunk","SSCDashboardRouter","chartId","filtersObject","format","childNodes","chartsIds","substring","previousPromise","nextChartID","Promise","resolve","printContainer","oneByOne","doc","printElement","titleElement","totalRows","charts","getElementsByClassName","appendChild","createTextNode","col1","cloneNode","height","clientHeight","clientWidth","col2","theRow","newTitleElement","pageBreak","ex","calculateChildren","useTitle","chartElement","chartHeight","doPrint","printMethod","domtoimage","reject","bgcolor","dataUrl","link","Error","WS_PREFIX","SECTOR_COLOR_MAP","MODALITIES_COLOR_MAP","DEVELOPMENT","formatText","args","match","number","argIdx","fetchTranslationsPending","loadTranslations","trnPack","fetchTranslationsSuccess","fetchTranslationsError","FETCH_TRANSLATIONS_PENDING","FETCH_TRANSLATIONS_SUCCESS","FETCH_TRANSLATIONS_ERROR","getRequestOptions","requestOptions","method","headers","JSON","stringify","callDeleteApiEndpoint","deleteRequestOptions","fetch","response","json","fetchApiDataWithStatus","_ref3","contentType","parsedData","parse","ok","status","extractErrorMessageFromResponse","extractErrorCodeFromResponse","errorMessage","POST","GET","Accept","self","ReferenceError","instance","Constructor","TypeError","_defineProperties","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","prototype","Derived","hasNativeReflectConstruct","Super","NewTarget","constructor","Reflect","construct","_defineProperty","obj","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","subClass","superClass","create","_isNativeReflectConstruct","sham","Proxy","Boolean","valueOf","_iterableToArray","iter","Symbol","iterator","ownKeys","keys","getOwnPropertySymbols","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","_possibleConstructorReturn","_setPrototypeOf","arr","arrayLikeToArray","iterableToArray","unsupportedIterableToArray","toPropertyKey","toPrimitive","String","_typeof"],"sourceRoot":""}