"use strict";(self.webpackChunkreampv2=self.webpackChunkreampv2||[]).push([[8607],{3823:function(e,a,r){r.r(a),r.d(a,{default:function(){return ca}});var n=r(50383),t=r.n(n),i=r(94652),o=r(83112),l=r(35209),s=r(47371),d=r(32723),c=r(34795),u=r(71937),m=r(5903),g=(0,m.createAsyncThunk)("sectors/fetchSectors",function(){var e=(0,c.Z)((0,d.Z)().mark((function e(a,r){var n,t,i;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.next=3,fetch("/rest/indicatorManager/sectors");case 3:return t=e.sent,e.next=6,t.json();case 6:if(i=e.sent,200===t.status){e.next=9;break}return e.abrupt("return",n(i));case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(a,r){return e.apply(this,arguments)}}()),v=(0,m.createSlice)({name:"sectorsData",initialState:{sectors:[],loading:!1,error:null},reducers:{},extraReducers:function(e){e.addCase(g.pending,(function(e){e.loading=!0})),e.addCase(g.fulfilled,(function(e,a){e.loading=!1,e.sectors=a.payload})),e.addCase(g.rejected,(function(e,a){e.loading=!1,e.error=(0,u.J)(a.payload)}))}}).reducer,p=r(68079),h=function e(a){var r=[];return a.forEach((function(a){r.push(a),a.children.length>0&&r.push.apply(r,(0,p.Z)(e(a.children)))})),r},f=function(e){if(Array.isArray(e)){var a=[];return e.forEach((function(e){a.push.apply(a,(0,p.Z)(h(e.children)))})),a}var r=e.children;return h(r)},b=function(e){if(null===e)return!0;if("object"===typeof e){var a=Object.keys(e);if(0===a.length)return!0;var r=!0;return a.forEach((function(a){null!==e[a]&&(r=!1)})),r}return!1},x=(0,m.createAsyncThunk)("programs/getPrograms",function(){var e=(0,c.Z)((0,d.Z)().mark((function e(a,r){var n,t,i,o;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.next=3,fetch("/rest/indicatorManager/programs");case 3:return t=e.sent,e.next=6,t.json();case 6:if(i=e.sent,o=f(i),200===t.status){e.next=10;break}return e.abrupt("return",n(i));case 10:return e.abrupt("return",{programSchemes:i,programs:o});case 11:case"end":return e.stop()}}),e)})));return function(a,r){return e.apply(this,arguments)}}()),j=(0,m.createSlice)({name:"programsData",initialState:{programSchemes:[],programs:[],loading:!1,error:null},reducers:{setProgramSchemes:function(e,a){e.programSchemes=a.payload},clearProgramSchemes:function(e){e.programSchemes=[]},setPrograms:function(e,a){e.programs=a.payload},clearPrograms:function(e){e.programs=[]}},extraReducers:function(e){e.addCase(x.pending,(function(e){e.loading=!0})),e.addCase(x.fulfilled,(function(e,a){e.loading=!1,e.programSchemes=a.payload.programSchemes,e.programs=a.payload.programs})),e.addCase(x.rejected,(function(e,a){e.loading=!1,e.error=(0,u.J)(a.payload)}))}}),V=j.actions,N=(V.setProgramSchemes,V.clearProgramSchemes,V.setPrograms,V.clearPrograms,j.reducer),D=(0,m.createAsyncThunk)("fetchSettings",function(){var e=(0,c.Z)((0,d.Z)().mark((function e(a,r){var n,t,i;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.next=3,fetch("/rest/amp/settings");case 3:return t=e.sent,e.next=6,t.json();case 6:if(i=e.sent,200===t.status){e.next=9;break}return e.abrupt("return",n(i));case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(a,r){return e.apply(this,arguments)}}()),C=(0,m.createSlice)({name:"fetchSettings",initialState:{settings:{},loading:!1,error:null},reducers:{},extraReducers:function(e){e.addCase(D.pending,(function(e){e.loading=!0})),e.addCase(D.fulfilled,(function(e,a){e.loading=!1,e.settings=a.payload})),e.addCase(D.rejected,(function(e,a){e.loading=!1,e.error=(0,u.J)(a.payload)}))}}).reducer,S={indicators:[],loading:!1,error:null,sizePerPage:10},y=(0,m.createAsyncThunk)("indicators/getIndicators",function(){var e=(0,c.Z)((0,d.Z)().mark((function e(a,r){var n,t,i;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.next=3,fetch("/rest/indicatorManager/indicators");case 3:return t=e.sent,e.next=6,t.json();case 6:if(i=e.sent,200===t.status){e.next=9;break}return e.abrupt("return",n(i));case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(a,r){return e.apply(this,arguments)}}()),_=(0,m.createSlice)({name:"indicatorState",initialState:S,reducers:{addIndicator:function(e,a){e.indicators=[].concat((0,p.Z)(e.indicators),[a.payload])},removeIndicator:function(e,a){e.indicators=e.indicators.filter((function(e){return e.id!==a.payload}))},updateIndicator:function(e,a){e.indicators=e.indicators.map((function(e){return e.id===a.payload.id?a.payload:e}))},setSizePerPage:function(e,a){e.sizePerPage=a.payload},resetSizePerPage:function(e){e.sizePerPage=S.sizePerPage}},extraReducers:function(e){e.addCase(y.pending,(function(e){e.loading=!0})),e.addCase(y.fulfilled,(function(e,a){e.indicators=[],e.loading=!1,e.indicators=a.payload})),e.addCase(y.rejected,(function(e,a){e.loading=!1,e.error=(0,u.J)(a.payload)}))}}),w=_.actions,F=(w.addIndicator,w.removeIndicator,w.updateIndicator,w.setSizePerPage),I=w.resetSizePerPage,R=_.reducer,P=(0,m.createAsyncThunk)("ampCategories/getAmpCategories",function(){var e=(0,c.Z)((0,d.Z)().mark((function e(a,r){var n,t,i;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.next=3,fetch("/rest/indicatorManager/categoryValues");case 3:return t=e.sent,e.next=6,t.json();case 6:if(i=e.sent,200===t.status){e.next=9;break}return e.abrupt("return",n(i));case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(a,r){return e.apply(this,arguments)}}()),T=(0,m.createSlice)({name:"ampCategories",initialState:{categories:[],loading:!1,error:null},reducers:{},extraReducers:function(e){e.addCase(P.pending,(function(e){e.loading=!0})),e.addCase(P.fulfilled,(function(e,a){e.loading=!1,e.categories=a.payload})),e.addCase(P.rejected,(function(e,a){e.loading=!1,e.error=(0,u.J)(a.payload)}))}}).reducer,B=r(59653),k=t().createContext({}),Z=(0,i.connect)((function(e){return{translationPending:e.translationsReducer.pending,translations:e.translationsReducer.translations}}),(function(e){return(0,o.bindActionCreators)({_fetchTranslations:l.Z},e)}))((function(e){var a=e.defaultTrnPack,r=e._fetchTranslations,t=e.children,o=e.translations,l=e.translationPending,d=e.api,c=(0,i.useDispatch)(),u=(0,i.useSelector)((function(e){return e.fetchSectorsReducer})),m=(0,i.useSelector)((function(e){return e.fetchProgramsReducer})),v=(0,i.useSelector)((function(e){return e.fetchSettingsReducer})),p=(0,i.useSelector)((function(e){return e.fetchAmpCategoryReducer}));return(0,n.useEffect)((function(){c(D()),r(a),c(g()),c(x()),c(P()),c(I())}),[]),l||u.loading||m.loading||v.loading||p.loading?(0,B.jsx)(s.g,{}):(document.title=o["amp.indicatormanager:page-title"],(0,B.jsx)(k.Provider,{value:{translations:o,api:d},children:t}))})),A=JSON.parse('{"amp.indicatormanager:Home-Page":"Dashboard Home","amp.indicatormanager:page-title":"Aid Management Platform - Indicator Manager","amp.indicatormanager:table-title":"Indicator Manager","amp.indicatormanager:sectors":"Sectors","amp.indicatormanager:all-sectors":"All Sectors","amp.indicatormanager:search":"Search","amp.indicatormanager:export-csv":"Export CSV","amp.indicatormanager:table-header-id":"ID","amp.indicatormanager:table-header-code":"Code","amp.indicatormanager:table-header-indicator-name":"Indicator Name","amp.indicatormanager:table-header-creation-date":"Creation Date","amp.indicatormanager:table-header-action":"Action","amp.indicatormanager:showing-rows":"Showing rows","amp.indicatormanager:to":"to","amp.indicatormanager:of":"of","amp.indicatormanager:first":"First","amp.indicatormanager:next":"Next","amp.indicatormanager:last":"Last","amp.indicatormanager:previous":"Previous","amp.indicatormanager:first-page":"First Page","amp.indicatormanager:next-page":"Next Page","amp.indicatormanager:previous-page":"Previous Page","amp.indicatormanager:last-page":"Last Page","amp.indicatormanager:pre-page":"Pre Page","amp.indicatormanager:page":"Page","amp.indicatormanager:no-data":"No Data Available","amp.indicatormanager:all":"All","amp.dashboard:add-new":"Add New Indicator","amp.indicatormanager:loading":"Loading","amp.indicatormanager:indicator-name":"Indicator Name","amp.indicatormanager:indicator-description":"Indicator Description","amp.indicatormanager:indicator-code":"Indicator Code","amp.indicatormanager:indicator-type":"Indicator Type","amp.indicatormanager:enable-base":"Enable Base Values Input","amp.indicatormanager:enable-target":"Enable Target Values Input","amp.indicatormanager:base-values":"Base Values","amp.indicatormanager:target-values":"Target Values","amp.indicatormanager:original-value":"Original Value","amp.indicatormanager:original-base-value":"Base Value","amp.indicatormanager:original-value-date":"Original Value Date","amp.indicatormanager:target-value":"Target Value","amp.indicatormanager:target-value-date":"Target Value Date","amp.indicatormanager:revised-value":"Revised Value","amp.indicatormanager:revised-value-date":"Revised Value Date","amp.indicatormanager:programs":"Programs","amp.indicatormanager:ascending":"Ascending","amp.indicatormanager:close":"Close","amp.indicatormanager:save":"Save Changes","amp.indicatormanager:save-success":"Indicator saved successfully","amp.indicatormanager:save-failed":"Indicator save failed","amp.indicatormanager:delete-success":"Indicator deleted successfully","amp.indicatormanager:delete-failed":"Indicator delete failed","amp.indicatormanager:delete-confirm":"Are you sure you want to delete this indicator?","amp.indicatormanager:delete":"Delete","amp.indicatormanager:delete-indicator":"Delete Indicator","amp.indicatormanager:edit":"Edit","amp.indicatormanager:cancel":"Cancel","amp.indicatormanager:enter-indicator-name":"Enter Indicator Name","amp.indicatormanager:enter-indicator-description":"Enter Indicator Description","amp.indicatormanager:enter-indicator-code":"Enter Indicator Code","amp.indicatormanager:enter-original-value":"Enter Original Value","amp.indicatormanager:enter-revised-value":"Enter Revised Value","amp.indicatormanager:enter-target-value":"Enter Target Value","amp.indicatormanager:enter-original-value-date":"Enter Original Value Date","amp.indicatormanager:enter-revised-value-date":"Enter Revised Value Date","amp.indicatormanager:enter-target-value-date":"Enter Target Value Date","amp.indicatormanager:edit-indicator":"Edit Indicator","amp.indicatormanager:view-indicator":"View Indicator","amp.indicatormanager:view-indicator-id":"Indicator ID","amp.indicatormanager:view-error":"Error Loading Indicator","amp.indicatormanager:error-used-by-activities":"This indicator is used by activities and cannot be deleted","amp.indicatormanager:program-scheme":"Program Scheme","amp.indicatormanager:no-program-scheme":"No Programs Scheme Available","amp.indicatormanager:no-programs":"No Programs Available","amp.indicatormanager:all-programs":"All Programs","amp.indicatormanager:indicators-category":"Indicators Category","amp.indicatormanager:errors-name-required":"Name is required","amp.indicatormanager:errors-code-required":"Code is required","amp.indicatormanager:errors-code-unique":"Code must be unique","amp.indicatormanager:errors-description-required":"Description is required","amp.indicatormanager:errors-ascending-required":"Ascending is required","amp.indicatormanager:errors-creation-date-required":"Creation Date is required","amp.indicatormanager:errors-revised-base-value-invalid":"Revised base value must be greater than original base value","amp.indicatormanager:errors-revised-base-date-invalid":"Revised base date must be greater than original base date","amp.indicatormanager:errors-revised-target-value-invalid":"Revised target value must be greater than original target value","amp.indicatormanager:errors-revised-target-date-invalid":"Revised target date must be greater than original target date"}'),E=(r(16843),r(96234)),L=r(39887),M=r(33028),G=r(49730),O=r.n(G),q=r(94909),J=r.n(q),z=r(70202),H=r.n(z),U=(r(16005),r(19440)),W=r.n(U),X={table_header:"Table_table_header__cD+WJ",table_header_bottom:"Table_table_header_bottom__RpT0y",table_header_bottom_left:"Table_table_header_bottom_left__3DHzz",export_button:"Table_export_button__9wCsz",table_header_bottom_right:"Table_table_header_bottom_right__9NFh2",sector_filter_container:"Table_sector_filter_container__kT16J",search_container:"Table_search_container__2n+u0",table_header_titles:"Table_table_header_titles__CoS0R",table_body:"Table_table_body__2b00S",table_footer:"Table_table_footer__SGnzZ"},Y=r(83354),K=r(68120),Q=r.n(K),$="IndicatorModal_modal_backdrop__rse1t",ee="IndicatorModal_text_is_invalid__XSS6L",ae="IndicatorModal_viewmodal_wrapper__G6FnK",re="IndicatorModal_view_row__XXCov",ne="IndicatorModal_view_one_item__ylgP2",te="IndicatorModal_view_item__89ebd",ie="IndicatorModal_input_field__6r9GL",oe=r(87371),le=r(9249),se=r(38528),de=r.n(se),ce=(0,oe.Z)((function e(){(0,le.Z)(this,e)}));ce.stringToDate=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd/MM/yyyy";return de()(e,a).toDate()},ce.dateToString=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd/MM/yyyy";return"string"===typeof e?e:(a=a.toUpperCase(),de()(e).format(a))},ce.getCurrentDate=function(){return de()().toDate()},ce.getCurrentStrDate=function(){return de()().format("YYYY-MM-DD")},ce.backendDateToJavascriptDate=function(e){var a=e.split("/"),r=(0,E.Z)(a,3),n=r[0],t=r[1],i=r[2];return"".concat(i,"-").concat(t,"-").concat(n)},ce.formatJavascriptDate=function(e,a){return de()(e).format(null!==a&&void 0!==a?a:"DD/MM/YYYY")},ce.addDays=function(e,a){return de()(e).add(a,"day").toDate()};var ue=r(20263);ue.setLocale({mixed:{required:"This field is required",notType:"This field is invalid",default:"This field is invalid"}}),ue.addMethod(ue.string,"toJavascriptDate",(function(){return"string"!==this._type?this:this.transform((function(e){return ce.stringToDate(e)}))}));ue.object().shape({name:ue.string().required("Name is required"),description:ue.string().optional(),code:ue.string().required("Code is required"),ascending:ue.boolean().required("Ascending is required"),creationDate:ue.date().required("Creation date is required"),sectors:ue.mixed().optional(),programId:ue.number().optional(),base:ue.object().shape({originalValue:ue.number().optional().nullable(),originalValueDate:ue.date().optional().nullable(),revisedValue:ue.number().optional().nullable().when("originalValue",(function(e){return e?ue.number().moreThan(e,"Revised base value must be greater than original base value").optional().nullable():ue.number().optional().nullable()})),revisedValueDate:ue.date().optional().nullable().when("originalValueDate",(function(e){return e?ue.date().min(ce.addDays(e,1),"Revised base date must be greater than original base date").optional().nullable():ue.date().optional().nullable()}))}).optional().nullable(),target:ue.object().shape({originalValue:ue.number().optional().nullable(),originalValueDate:ue.date().optional().nullable(),revisedValue:ue.number().optional().nullable().when("originalValue",(function(e){return e?ue.number().moreThan(e,"Revised target value must be greater than original target value").optional().nullable():ue.number().optional().nullable()})),revisedValueDate:ue.date().optional().nullable().when("originalValueDate",(function(e){return e?ue.date().min(ce.addDays(e,1),"Revised target date must be greater than original target date").optional().nullable():ue.date().optional().nullable()}))}).optional().nullable()});var me=function(e){return ue.object().shape({name:ue.string().required(e["amp.indicatormanager:errors-name-required"]),description:ue.string().optional(),code:ue.string().required(e["amp.indicatormanager:errors-code-required"]),ascending:ue.boolean().required(e["amp.indicatormanager:errors-ascending-required"]),creationDate:ue.date().required(e["amp.indicatormanager:errors-creation-date-required"]),sectors:ue.mixed().optional(),programId:ue.number().optional(),base:ue.object().shape({originalValue:ue.number().optional().nullable(),originalValueDate:ue.date().optional().nullable(),revisedValue:ue.number().optional().nullable().when("originalValue",(function(a){return a?ue.number().moreThan(a,e["amp.indicatormanager:errors-revised-base-value-invalid"]).optional().nullable():ue.number().optional().nullable()})),revisedValueDate:ue.date().optional().nullable().when("originalValueDate",(function(a){return a?ue.date().min(ce.addDays(a,1),e["amp.indicatormanager:errors-revised-base-date-invalid"]).optional().nullable():ue.date().optional().nullable()}))}).optional().nullable(),target:ue.object().shape({originalValue:ue.number().optional().nullable(),originalValueDate:ue.date().optional().nullable(),revisedValue:ue.number().optional().nullable().when("originalValue",(function(a){return a?ue.number().moreThan(a,e["amp.indicatormanager:errors-revised-target-value-invalid"]).optional().nullable():ue.number().optional().nullable()})),revisedValueDate:ue.date().optional().nullable().when("originalValueDate",(function(a){return a?ue.date().min(ce.addDays(a,1),e["amp.indicatormanager:errors-revised-target-date-invalid"]).optional().nullable():ue.date().optional().nullable()}))}).optional().nullable()})},ge=(0,m.createAsyncThunk)("indicators/createIndicator",function(){var e=(0,c.Z)((0,d.Z)().mark((function e(a,r){var n,t,i;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.next=3,fetch("/rest/indicatorManager/indicators",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:return t=e.sent,e.next=6,t.json();case 6:if(i=e.sent,200===t.status){e.next=9;break}return e.abrupt("return",n(i));case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(a,r){return e.apply(this,arguments)}}()),ve=(0,m.createSlice)({name:"createIndicator",initialState:{createdIndicator:null,loading:!1,error:null},reducers:{},extraReducers:function(e){e.addCase(ge.pending,(function(e){e.loading=!0})),e.addCase(ge.fulfilled,(function(e,a){e.loading=!1,e.createdIndicator=a.payload})),e.addCase(ge.rejected,(function(e,a){e.loading=!1,e.error=(0,u.J)(a.payload)}))}}).reducer,pe=r(80177),he=r.n(pe),fe=r(6441),be=r.n(fe),xe=function(e,a){var r=(0,n.useRef)(!1);(0,n.useEffect)((function(){r.current?e():r.current=!0}),(0,p.Z)(a||[]))},je=r(80541),Ve=r.n(je),Ne=(r(9033),function(e){var a=e.id,r=e.className,t=e.value,o=e.onChange,l=e.name,s=e.defaultValue,d=e.disabled,c=e.clearIcon,u=(e.calendarIcon,e.inputRef),m=e.minDate,g=e.maxDate,v=e.onClear,p=(0,i.useSelector)((function(e){return e.fetchSettingsReducer.settings})),h=(0,n.useState)(),f=(0,E.Z)(h,2),b=f[0],x=f[1],j=(0,n.useState)(t),V=(0,E.Z)(j,2),N=V[0],D=V[1],C=function(){D(void 0)};(0,n.useEffect)((function(){D(t)}),[t]),(0,n.useEffect)((function(){N||v&&v()}),[N]),(0,n.useEffect)((function(){!function(){if(p){var e=p["default-date-format"];e&&x(e)}}()}),[p]);var S=function(){return(0,B.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:C,width:"19",height:"19",viewBox:"0 0 19 19",stroke:"black",strokeWidth:"2",className:"react-date-picker__clear-button__icon react-date-picker__button__icon",children:[(0,B.jsx)("line",{x1:"4",x2:"15",y1:"4",y2:"15"}),(0,B.jsx)("line",{x1:"15",x2:"4",y1:"4",y2:"15"})]})};return(0,B.jsx)("div",{children:b&&(0,B.jsx)(Ve(),{id:a,format:b,monthPlaceholder:"mm",dayPlaceholder:"dd",yearPlaceholder:"yyyy",className:r,onChange:o,name:l,value:N,minDate:m&&new Date("1970-01-01"),maxDate:g&&new Date("2200-12-31"),defaultValue:s,disabled:d,clearIcon:null===c?null:(0,B.jsx)(S,{}),monthAriaLabel:"Month",dayAriaLabel:"Day",yearAriaLabel:"Year",closeCalendar:!0,clearAriaLabel:"Clear Date",calendarAriaLabel:"Toggle Calendar",inputRef:u,locale:"en-US"})})}),De=r(82146),Ce=r.n(De),Se=be()(he()),ye=[{value:!0,label:"True"},{value:!1,label:"False"}],_e=function(e){var a=e.show,r=e.setShow,t=e.translations,o=(0,n.useRef)(null),l=(0,i.useDispatch)(),s=(0,i.useSelector)((function(e){return e.fetchSettingsReducer.settings})),d=function(){return r(!1)},c=(0,i.useSelector)((function(e){return e.createIndicatorReducer})),u=(0,i.useSelector)((function(e){return e.fetchSectorsReducer})),m=(0,i.useSelector)((function(e){return e.fetchProgramsReducer})),g=(0,i.useSelector)((function(e){return e.fetchAmpCategoryReducer})),v=(0,n.useState)(!1),p=(0,E.Z)(v,2),h=p[0],x=p[1],j=(0,n.useState)(null),V=(0,E.Z)(j,2),N=V[0],D=V[1],C=(0,n.useState)([]),S=(0,E.Z)(C,2),_=S[0],w=S[1],F=(0,n.useState)([]),I=(0,E.Z)(F,2),R=I[0],P=I[1],T=(0,n.useState)([]),k=(0,E.Z)(T,2),Z=k[0],A=k[1],M=(0,n.useState)([]),G=(0,E.Z)(M,2),O=G[0],q=G[1],J=(0,n.useState)(!1),z=(0,E.Z)(J,2),H=z[0],U=z[1],W=(0,n.useState)(!1),X=(0,E.Z)(W,2),K=X[0],oe=X[1],le=(0,n.useRef)(null);(0,n.useLayoutEffect)((function(){!function(){var e,a=ce.getCurrentDate();null===le||void 0===le||null===(e=le.current)||void 0===e||e.setFieldValue("creationDate",a)}()}),[]),(0,n.useEffect)((function(){!function(){if(N){var e,a;x(!1),null===le||void 0===le||null===(e=le.current)||void 0===e||e.setFieldValue("base.originalValueDate",""),null===le||void 0===le||null===(a=le.current)||void 0===a||a.setFieldValue("target.originalValueDate",""),U(!1),oe(!1);var r=m.programSchemes.find((function(e){return e.ampProgramSettingsId.toString()===N.toString()}));if(r){var n,t,i,o,l=f(r).map((function(e){return{value:e.id.toString(),label:e.name}}));q([]),q(l),x(!0),r.startDate&&(null===(n=le.current)||void 0===n||n.setFieldValue("base.originalValueDate",""),null===le||void 0===le||null===(t=le.current)||void 0===t||t.setFieldValue("base.originalValueDate",ce.backendDateToJavascriptDate(r.startDate||"")),U(!0)),r.endDate&&(null===(i=le.current)||void 0===i||i.setFieldValue("target.originalValueDate",""),null===le||void 0===le||null===(o=le.current)||void 0===o||o.setFieldValue("target.originalValueDate",ce.backendDateToJavascriptDate(r.endDate||"")),oe(!0))}}}()}),[N]),(0,n.useEffect)((function(){!function(){var e=u.sectors.map((function(e){return{value:e.id,label:e.name}}));w(e)}(),function(){var e=g.categories.map((function(e){return{value:e.id,label:e.value}}));P(e)}(),function(){var e=m.programSchemes.map((function(e){return{value:e.ampProgramSettingsId,label:e.name}}));A(e)}(),function(){var e=m.programs.map((function(e){return{value:e.id,label:e.name}}));q(e)}()}),[u.sectors,m.programs,m.programSchemes]),console.log("indicator===>",c),xe((function(){var e;c.loading?Se.fire({icon:"info",title:"Creating Indicator...",timer:1e3}):c.loading||null!==c&&void 0!==c&&c.error||null===c||void 0===c||null===(e=c.createdIndicator)||void 0===e||!e.id?Se.fire({title:"Error",text:c.loading?"Error creating indicator":c.error,icon:"error",confirmButtonText:"Ok"}):Se.fire({title:"Success",text:"Indicator created successfully",icon:"success",confirmButtonText:"Ok"}).then((function(){l(y()),d()}))}),[c]);var se={name:"",description:"",code:"",sectors:[],programId:"",creationDate:ce.getCurrentDate().toString(),ascending:!1,base:{originalValue:0,originalValueDate:"",revisedValue:0,revisedValueDate:""},target:{originalValue:0,originalValueDate:"",revisedValue:0,revisedValueDate:""},indicatorsCategory:""};return(0,B.jsxs)(L.Modal,{show:a,onHide:d,centered:!0,ref:o,animation:!1,backdropClassName:$,backdrop:"static",keyboard:!1,size:"lg",children:[(0,B.jsx)(L.Modal.Header,{closeButton:!0,children:(0,B.jsx)(L.Modal.Title,{children:t["amp.dashboard:add-new"]})}),(0,B.jsx)(Y.J9,{innerRef:le,initialValues:se,validationSchema:me(t),onSubmit:function(e){var a,r=e.name,n=e.description,t=e.code,i=e.sectors,o=e.programId,d=e.ascending,c=e.creationDate,u=e.base,m=e.target,g=e.indicatorsCategory,v={name:r,description:n,code:t,sectors:i,programId:o?parseInt(o):null,ascending:d,creationDate:c?(a=new Date(c),ce.dateToString(a,s["default-date-format"])):null,base:b(u)?null:{originalValue:u.originalValue?Ce().toNumber(u.originalValue):null,originalValueDate:u.originalValueDate?ce.formatJavascriptDate(u.originalValueDate):null,revisedValue:u.revisedValue?Ce().toNumber(u.revisedValue):null,revisedValueDate:u.revisedValueDate?ce.formatJavascriptDate(u.revisedValueDate):null},target:b(m)?null:{originalValue:m.originalValue?Ce().toNumber(m.originalValue):null,originalValueDate:m.originalValueDate?ce.formatJavascriptDate(m.originalValueDate):null,revisedValue:m.revisedValue?Ce().toNumber(m.revisedValue):null,revisedValueDate:m.revisedValueDate?ce.formatJavascriptDate(m.revisedValueDate):null},indicatorsCategory:g};l(ge(v))},children:function(e){var a,r,n,i,o,l,s,c,u,m,g,v,p,f,b,j,V,N,C,S,y,w,F,I,P;return(0,B.jsxs)(L.Form,{noValidate:!0,onSubmit:e.handleSubmit,children:[(0,B.jsx)(L.Modal.Body,{children:(0,B.jsxs)("div",{className:ae,children:[(0,B.jsxs)(L.Row,{className:re,children:[(0,B.jsxs)(L.Form.Group,{as:L.Col,className:te,controlId:"formBasicName",children:[(0,B.jsx)(L.Form.Label,{children:t["amp.indicatormanager:indicator-name"]}),(0,B.jsx)(L.Form.Control,{defaultValue:e.values.name,onChange:e.handleChange,onBlur:e.handleBlur,name:"name",className:"".concat(ie," ").concat(e.errors.name&&e.touched.name&&ee),isInvalid:!!e.errors.name,required:!0,"aria-required":!0,type:"text",placeholder:t["amp.indicatormanager:enter-indicator-name"]}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:e.errors.name})]}),(0,B.jsxs)(L.Form.Group,{className:te,controlId:"formIndicatorCode",children:[(0,B.jsx)(L.Form.Label,{children:t["amp.indicatormanager:indicator-code"]}),(0,B.jsx)(L.Form.Control,{defaultValue:e.values.code,onChange:e.handleChange,onBlur:e.handleBlur,name:"code",required:!0,type:"text",className:"".concat(ie," ").concat(e.errors.code&&e.touched.code&&ee),placeholder:t["amp.indicatormanager:enter-indicator-code"]}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:e.errors.code})]})]}),(0,B.jsx)(L.Row,{className:re,children:(0,B.jsxs)(L.Form.Group,{className:ne,controlId:"formBasicDescription",children:[(0,B.jsx)(L.Form.Label,{children:t["amp.indicatormanager:indicator-description"]}),(0,B.jsx)(L.Form.Control,{defaultValue:e.values.description,onChange:e.handleChange,onBlur:e.handleBlur,name:"description",type:"text",className:"".concat(ie," ").concat(e.errors.description&&e.touched.description&&ee),placeholder:t["amp.indicatormanager:enter-indicator-description"]}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:e.errors.description})]})}),(0,B.jsxs)(L.Row,{className:re,children:[(0,B.jsxs)(L.Form.Group,{className:te,controlId:"Ascending",children:[(0,B.jsx)(L.Form.Label,{children:t["amp.indicatormanager:ascending"]}),(0,B.jsx)(Q(),{name:"ascending",options:ye,onBlur:e.handleBlur,className:"".concat(ie," ").concat(e.errors.ascending&&e.touched.ascending&&ee),classNamePrefix:"select",onChange:function(a){a&&e.setFieldValue("ascending",a.value)},defaultValue:ye[1]}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:e.errors.ascending})]}),(0,B.jsxs)(L.Form.Group,{className:te,controlId:"formCreationDate",children:[(0,B.jsx)(L.Form.Label,{children:t["amp.indicatormanager:table-header-creation-date"]}),(0,B.jsx)(Ne,{name:"creationDate",defaultValue:e.values.creationDate,disabled:!0,value:e.values.creationDate,clearIcon:null,calendarIcon:null,className:ie})]})]}),(0,B.jsx)(L.Row,{className:re,children:(0,B.jsxs)(L.Form.Group,{className:ne,controlId:"formIndicatorSectors",children:[(0,B.jsx)(L.Form.Label,{children:t["amp.indicatormanager:sectors"]}),_.length>0?(0,B.jsx)(Q(),{isMulti:!0,name:"sectors",options:_,onChange:function(a){var r=a.map((function(e){return parseInt(e.value)}));e.setFieldValue("sectors",r)},isClearable:!0,getOptionValue:function(e){return e.value},onBlur:e.handleBlur,className:"basic-multi-select ".concat(e.errors.sectors&&e.touched.sectors&&ee),classNamePrefix:"select"}):(0,B.jsx)(Q(),{name:"sectors",isDisabled:!0,defaultValue:{value:0,label:t["amp.indicatormanager:no-data"]}})]})}),(0,B.jsx)(L.Row,{className:re,children:(0,B.jsxs)(L.Form.Group,{className:ne,controlId:"formIndicatorCategories",children:[(0,B.jsx)(L.Form.Label,{children:t["amp.indicatormanager:indicators-category"]}),R.length>0?(0,B.jsx)(Q(),{name:"categories",options:R,onChange:function(a){a&&e.setFieldValue("indicatorsCategory",parseInt(null===a||void 0===a?void 0:a.value))},isClearable:!0,getOptionValue:function(e){return e.value},onBlur:e.handleBlur,className:"basic-multi-select ".concat(e.errors.indicatorsCategory&&e.touched.indicatorsCategory&&ee),classNamePrefix:"select"}):(0,B.jsx)(Q(),{name:"categories",isDisabled:!0,defaultValue:{value:0,label:t["amp.indicatormanager:no-data"]}})]})}),(0,B.jsx)(L.Row,{className:re,children:(0,B.jsxs)(L.Form.Group,{className:ne,controlId:"programScheme",children:[(0,B.jsx)(L.Form.Label,{children:t["amp.indicatormanager:program-scheme"]}),Z.length>0?(0,B.jsx)(Q(),{name:"programScheme",options:Z,onChange:function(a){a&&function(e,a){D(e),a.setFieldValue("programId",""),x(!1)}(a.value,e)},isClearable:!0,getOptionValue:function(e){return e.value},onBlur:e.handleBlur,className:"basic-multi-select ".concat(ie),classNamePrefix:"select"}):(0,B.jsx)(Q(),{name:"programScheme",isDisabled:!0,defaultValue:{value:0,label:t["amp.indicatormanager:no-data"]}})]})}),h&&(0,B.jsx)(L.Row,{className:re,children:(0,B.jsxs)(L.Form.Group,{className:ne,controlId:"programs",children:[(0,B.jsx)(L.Form.Label,{children:t["amp.indicatormanager:programs"]}),O.length>0?(0,B.jsx)(Q(),{name:"programs",options:O,onChange:function(a){e.setFieldValue("programId",null===a||void 0===a?void 0:a.value)},isClearable:!0,getOptionValue:function(e){return e.value},onBlur:e.handleBlur,className:"basic-multi-select ".concat(ie," ").concat(e.errors.programId&&e.touched.programId&&ee),classNamePrefix:"select"}):(0,B.jsx)(Q(),{name:"programs",isDisabled:!0,defaultValue:{value:0,label:t["amp.indicatormanager:no-data"]}})]})}),(0,B.jsxs)(L.Form.Group,{as:L.Col,children:[(0,B.jsx)(L.Row,{className:re,children:(0,B.jsx)(L.Form.Label,{className:ne,children:(0,B.jsx)("h4",{children:t["amp.indicatormanager:base-values"]})})}),(0,B.jsxs)(L.Row,{className:re,children:[(0,B.jsxs)(L.Form.Group,{className:te,children:[(0,B.jsx)(L.Form.Label,{children:t["amp.indicatormanager:original-value"]}),(0,B.jsx)(L.Form.Control,{defaultValue:null===(a=e.values.base)||void 0===a?void 0:a.originalValue,onChange:e.handleChange,onBlur:e.handleBlur,name:"base.originalValue",type:"number",className:"".concat(ie," ").concat((null===(r=e.errors.base)||void 0===r?void 0:r.originalValue)&&(null===(n=e.touched.base)||void 0===n?void 0:n.originalValue)&&ee),placeholder:t["amp.indicatormanager:enter-original-value"]}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:null===(i=e.errors.base)||void 0===i?void 0:i.originalValue})]}),(0,B.jsxs)(L.Form.Group,{className:te,children:[(0,B.jsx)(L.Form.Label,{children:t["amp.indicatormanager:original-value-date"]}),(0,B.jsx)(Ne,{name:"base.originalValueDate",value:e.values.base.originalValueDate,onChange:function(a){a&&e.setFieldValue("base.originalValueDate",a)},onClear:function(){e.setFieldValue("base.originalValueDate",null)},onBlur:e.handleBlur,disabled:H,className:"".concat(ie," ").concat((null===(o=e.errors.base)||void 0===o?void 0:o.originalValueDate)&&(null===(l=e.touched.base)||void 0===l?void 0:l.originalValueDate)&&ee)}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:null===(s=e.errors.base)||void 0===s?void 0:s.originalValueDate})]})]}),(0,B.jsxs)(L.Row,{className:re,children:[(0,B.jsxs)(L.Form.Group,{className:te,children:[(0,B.jsx)(L.Form.Label,{children:t["amp.indicatormanager:revised-value"]}),(0,B.jsx)(L.Form.Control,{defaultValue:e.values.base.revisedValue,onChange:e.handleChange,onBlur:e.handleBlur,name:"base.revisedValue",type:"number",className:"".concat(ie," ").concat((null===(c=e.errors.base)||void 0===c?void 0:c.revisedValue)&&(null===(u=e.touched.base)||void 0===u?void 0:u.revisedValue)&&ee),placeholder:t["amp.indicatormanager:enter-revised-value"]}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:null===(m=e.errors.base)||void 0===m?void 0:m.revisedValue})]}),(0,B.jsxs)(L.Form.Group,{className:te,children:[(0,B.jsx)(L.Form.Label,{children:t["amp.indicatormanager:revised-value-date"]}),(0,B.jsx)(Ne,{value:e.values.base.revisedValueDate,onChange:function(a){a&&e.setFieldValue("base.revisedValueDate",a)},onClear:function(){e.setFieldValue("base.revisedValueDate",null)},onBlur:e.handleBlur,name:"base.revisedValueDate",className:"".concat(ie," ").concat((null===(g=e.errors.base)||void 0===g?void 0:g.revisedValueDate)&&(null===(v=e.touched.base)||void 0===v?void 0:v.revisedValueDate)&&ee)}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:null===(p=e.errors.base)||void 0===p?void 0:p.revisedValueDate})]})]})]}),(0,B.jsxs)(L.Form.Group,{as:L.Col,children:[(0,B.jsx)(L.Form.Label,{children:(0,B.jsx)("h4",{children:t["amp.indicatormanager:target-values"]})}),(0,B.jsxs)(L.Row,{className:re,children:[(0,B.jsxs)(L.Form.Group,{className:te,children:[(0,B.jsx)(L.Form.Label,{children:t["amp.indicatormanager:target-value"]}),(0,B.jsx)(L.Form.Control,{defaultValue:e.values.target.originalValue,onChange:e.handleChange,onBlur:e.handleBlur,name:"target.originalValue",type:"number",className:"".concat(ie," ").concat((null===(f=e.errors.target)||void 0===f?void 0:f.originalValue)&&(null===(b=e.touched.target)||void 0===b?void 0:b.originalValue)&&ee),placeholder:t["amp.indicatormanager:enter-target-value"]}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:null===(j=e.errors.target)||void 0===j?void 0:j.originalValue})]}),(0,B.jsxs)(L.Form.Group,{className:te,children:[(0,B.jsx)(L.Form.Label,{children:t["amp.indicatormanager:target-value-date"]}),(0,B.jsx)(Ne,{name:"target.originalValueDate",value:e.values.target.originalValueDate,onChange:function(a){a&&e.setFieldValue("target.originalValueDate",a)},onClear:function(){e.setFieldValue("target.originalValueDate",null)},onBlur:e.handleBlur,disabled:K,className:"".concat(ie," ").concat((null===(V=e.errors.target)||void 0===V?void 0:V.originalValueDate)&&(null===(N=e.touched.target)||void 0===N?void 0:N.originalValueDate)&&ee)}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:null===(C=e.errors.target)||void 0===C?void 0:C.originalValueDate})]})]}),(0,B.jsxs)(L.Row,{className:re,children:[(0,B.jsxs)(L.Form.Group,{className:te,children:[(0,B.jsx)(L.Form.Label,{children:t["amp.indicatormanager:revised-value"]}),(0,B.jsx)(L.Form.Control,{defaultValue:e.values.target.revisedValue,onChange:e.handleChange,onBlur:e.handleBlur,name:"target.revisedValue",type:"number",className:"".concat(ie," ").concat((null===(S=e.errors.target)||void 0===S?void 0:S.revisedValue)&&(null===(y=e.touched.target)||void 0===y?void 0:y.revisedValue)&&ee),placeholder:t["amp.indicatormanager:enter-revised-value"]}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:null===(w=e.errors.target)||void 0===w?void 0:w.revisedValue})]}),(0,B.jsxs)(L.Form.Group,{className:te,children:[(0,B.jsx)(L.Form.Label,{children:t["amp.indicatormanager:revised-value-date"]}),(0,B.jsx)(Ne,{value:e.values.target.revisedValueDate,onChange:function(a){a&&e.setFieldValue("target.revisedValueDate",a)},onClear:function(){e.setFieldValue("target.revisedValueDate",null)},onBlur:e.handleBlur,name:"target.revisedValueDate",className:"".concat(ie," ").concat((null===(F=e.errors.target)||void 0===F?void 0:F.revisedValueDate)&&(null===(I=e.touched.target)||void 0===I?void 0:I.revisedValueDate)&&ee)}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:null===(P=e.errors.target)||void 0===P?void 0:P.revisedValueDate})]})]})]})]})}),(0,B.jsxs)(L.Modal.Footer,{children:[(0,B.jsx)(L.Button,{variant:"secondary",onClick:d,children:t["amp.indicatormanager:close"]}),(0,B.jsx)(L.Button,{type:"submit",variant:"success",children:t["amp.indicatormanager:save"]})]})]})}})]})},we=function(e){var a=e.columns,r=e.data,t=e.title,o=e.sectors,l=e.setSelectedSector,s=e.setSelectedProgram,d=e.translations,c=e.filterBySector,u=e.filterByProgram,m=e.programs,g=(0,i.useDispatch)(),v=(0,i.useSelector)((function(e){return e.fetchIndicatorsReducer.sizePerPage})),p=U.Search.SearchBar,h=U.CSVExport.ExportCSVButton,f=(0,n.useState)(!1),b=(0,E.Z)(f,2),x=b[0],j=b[1],V=function(){j(!0)};(0,n.useEffect)((function(){l(0)}),[l]);var N={paginationSize:4,pageStartIndex:1,alwaysShowAllBtns:!0,sizePerPageList:[{text:"10",value:10},{text:"25",value:25},{text:"50",value:50},{text:"100",value:100},{text:d["amp.indicatormanager:all"],value:r.length}],firstPageText:d["amp.indicatormanager:first"],prePageText:d["amp.indicatormanager:previous"],nextPageText:d["amp.indicatormanager:next"],lastPageText:d["amp.indicatormanager:last"],nextPageTitle:d["amp.indicatormanager:next-page"],prePageTitle:d["amp.indicatormanager:pre-page"],firstPageTitle:d["amp.indicatormanager:first-page"],lastPageTitle:d["amp.indicatormanager:last-page"],showTotal:!0,sizePerPage:v,hidePageListOnlyOnePage:!0,sizePerPageRenderer:function(e){var a=e.options,r=e.currSizePerPage,n=e.onSizePerPageChange;return(0,B.jsx)(L.Row,{lg:4,children:(0,B.jsx)(L.Form.Control,{as:"select",value:r,style:{width:180,marginLeft:20},onChange:function(e){return function(e,a){e(a),g(F(a))}(n,parseInt(e.target.value))},children:a.map((function(e){return(0,B.jsx)("option",{value:e.page,children:e.text},e.text)}))})})}},D={afterFilter:function(e,a){}};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(_e,{show:x,setShow:j,translations:d}),(0,B.jsx)(L.Col,{sm:12,children:(0,B.jsx)(W(),{keyField:"id",data:r,columns:a,search:!0,exportCSV:!0,children:function(e){return(0,B.jsxs)("div",{children:[(0,B.jsxs)(L.Col,{sm:12,style:{paddingBottom:15},children:[(0,B.jsxs)(L.Row,{className:X.table_header,children:[(0,B.jsx)(L.Col,{sm:6,children:(0,B.jsx)("h3",{children:t})}),(0,B.jsx)(L.Col,{sm:6,children:(0,B.jsx)("hr",{})})]}),(0,B.jsxs)(L.Row,{sm:12,className:X.table_header_bottom,children:[(0,B.jsx)(L.Col,{sm:6,children:(0,B.jsxs)("div",{className:X.table_header_bottom_left,children:[(0,B.jsxs)(L.Button,{type:"primary",onClick:V,children:[(0,B.jsx)("i",{className:"fa fa-plus"})," ",(0,B.jsx)("span",{children:d["amp.dashboard:add-new"]})]}),(0,B.jsxs)(h,(0,M.Z)((0,M.Z)({},e.csvProps),{},{className:X.export_button,children:[(0,B.jsx)("i",{className:"fa fa-download"})," ",(0,B.jsx)("span",{children:d["amp.indicatormanager:export-csv"]})]}))]})}),(0,B.jsx)(L.Col,{sm:6,children:(0,B.jsxs)("div",{className:X.table_header_bottom_right,children:[c&&(0,B.jsxs)("div",{className:X.sector_filter_container,children:[(0,B.jsx)(L.Form.Label,{className:X.filter_label,children:d["amp.indicatormanager:sectors"]}),(0,B.jsxs)(L.Form.Control,{onChange:function(e){return l(e.target.value)},as:"select",className:X.filter_select,children:[(0,B.jsx)("option",{value:"0",children:d["amp.indicatormanager:all-sectors"]}),o&&o.length>0?o.map((function(e){return(0,B.jsx)("option",{value:e.id,children:e.name},e.id)})):(0,B.jsx)("option",{value:"0",children:d["amp.indicatormanager:no-data"]})]})]}),u&&(0,B.jsxs)("div",{className:X.sector_filter_container,children:[(0,B.jsx)(L.Form.Label,{className:X.filter_label,children:d["amp.indicatormanager:programs"]}),(0,B.jsxs)(L.Form.Control,{onChange:function(e){return s(e.target.value)},as:"select",className:X.filter_select,children:[(0,B.jsx)("option",{value:"0",children:d["amp.indicatormanager:all-programs"]}),m&&m.length>0?m.map((function(e){return(0,B.jsx)("option",{value:e.id,children:e.name},e.id)})):(0,B.jsx)("option",{value:"0",children:d["amp.indicatormanager:no-data"]})]})]}),(0,B.jsx)("div",{className:X.search_container,children:(0,B.jsx)(p,(0,M.Z)((0,M.Z)({},e.searchProps),{},{placeholder:d["amp.indicatormanager:search"]}))})]})})]})]}),(0,B.jsx)("hr",{}),(0,B.jsx)(O(),(0,M.Z)((0,M.Z)({},e.baseProps),{},{headerClasses:X.table_header_titles,bodyClasses:X.table_body,pagination:J()(N),selectRow:{mode:"checkbox",clickToSelect:!1},filter:H()(D),noDataIndication:function(){return(0,B.jsx)("div",{className:X.no_data,children:(0,B.jsx)("h5",{children:d["amp.indicatormanager:no-data"]})})}}))]})}})})]})},Fe="IndicatorTable_action_wrapper__gt+yS",Ie="IndicatorTable_action_container__fw9yX",Re={viewmodal_wrapper:"ViewIndicatorModal_viewmodal_wrapper__YkAOm",view_row:"ViewIndicatorModal_view_row__DfZ6h",view_row_full:"ViewIndicatorModal_view_row_full__piwsm",array_item:"ViewIndicatorModal_array_item__2SvgA",view_item:"ViewIndicatorModal_view_item__ISfgE",header_text:"ViewIndicatorModal_header_text__XkBdw"},Pe=[{value:"ocean",label:"Ocean",color:"#00B8D9"},{value:"blue",label:"Blue",color:"#0052CC"},{value:"purple",label:"Purple",color:"#5243AA"},{value:"red",label:"Red",color:"#FF5630"},{value:"orange",label:"Orange",color:"#FF8B00"},{value:"yellow",label:"Yellow",color:"#FFC400"},{value:"green",label:"Green",color:"#36B37E"},{value:"forest",label:"Forest",color:"#00875A"},{value:"slate",label:"Slate",color:"#fffff2"},{value:"silver",label:"Silver",color:"#666666"}],Te=function(e){var a,r,o,l,s,d,c,u,m,g,v,p,h,b,x,j,V=e.show,N=e.setShow,D=e.indicator,C=e.translations,S=(0,i.useSelector)((function(e){return e.fetchSectorsReducer})),y=(0,i.useSelector)((function(e){return e.fetchProgramsReducer})),_=t().useState([]),w=(0,E.Z)(_,2),F=w[0],I=w[1],R=t().useState([]),P=(0,E.Z)(R,2),T=P[0],k=P[1];return(0,n.useLayoutEffect)((function(){!function(){if(D){var e=D.sectors,a=S.sectors.filter((function(a){return e.includes(a.id)}));I(a)}}(),function(){if(D){var e=D.programId,a=f(y.programs).filter((function(a){return e===a.id}));k(a)}}()}),[D]),(0,B.jsxs)(L.Modal,{show:V,onHide:function(){return N(!1)},centered:!0,backdropClassName:$,animation:!1,size:"lg",children:[(0,B.jsx)(L.Modal.Header,{closeButton:!0,children:(0,B.jsx)(L.Modal.Title,{children:C["amp.indicatormanager:view-indicator"]})}),D?(0,B.jsx)(L.Modal.Body,{children:(0,B.jsxs)("div",{className:Re.viewmodal_wrapper,children:[(0,B.jsxs)(L.Row,{className:Re.view_row,children:[(0,B.jsxs)("div",{className:Re.view_item,children:[(0,B.jsx)("h4",{children:C["amp.indicatormanager:view-indicator-id"]}),(0,B.jsx)("p",{className:Re.value,children:D.id})]}),(0,B.jsxs)("div",{className:Re.view_item,children:[(0,B.jsx)("h4",{className:Re.label,children:C["amp.indicatormanager:indicator-name"]}),(0,B.jsx)("p",{className:Re.value,children:D.name})]})]}),(0,B.jsxs)(L.Row,{className:Re.view_row,children:[(0,B.jsxs)("div",{className:Re.view_item,children:[(0,B.jsx)("h4",{children:C["amp.indicatormanager:indicator-code"]}),(0,B.jsx)("p",{className:Re.value,children:D.code})]}),(0,B.jsxs)("div",{className:Re.view_item,children:[(0,B.jsx)("h4",{className:Re.label,children:C["amp.indicatormanager:indicator-description"]}),(0,B.jsx)("p",{className:Re.value,children:""===D.description?"No Description available":D.description})]})]}),(0,B.jsxs)(L.Row,{className:Re.view_row,children:[(0,B.jsxs)("div",{className:Re.view_item,children:[(0,B.jsx)("h4",{className:Re.label,children:C["amp.indicatormanager:ascending"]}),(0,B.jsx)("p",{className:Re.value,children:D.ascending?"True":"False"})]}),(0,B.jsxs)("div",{className:Re.view_item,children:[(0,B.jsx)("h4",{className:Re.label,children:C["amp.indicatormanager:table-header-creation-date"]}),(0,B.jsx)("p",{className:Re.value,children:D.creationDate})]})]}),(0,B.jsxs)(L.Row,{className:Re.view_row_full,children:[(0,B.jsx)("h4",{className:Re.label,children:C["amp.indicatormanager:sectors"]}),(0,B.jsx)("div",{className:Re.value,children:F.length>0?F.map((function(e){return(0,B.jsx)("p",{style:{backgroundColor:Pe[e.id%10].color},className:Re.array_item,children:e.name},e.id)})):(0,B.jsx)("p",{children:C["amp.indicatormanager:no-data"]})})]}),(0,B.jsxs)(L.Row,{className:Re.view_row_full,children:[(0,B.jsx)("h4",{className:Re.label,children:C["amp.indicatormanager:programs"]}),T.length>0?T.map((function(e){return(0,B.jsx)("p",{className:Re.array_item,children:e.name},e.id)})):(0,B.jsx)("p",{children:C["amp.indicatormanager:no-data"]})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)("h4",{className:Re.header_text,children:C["amp.indicatormanager:base-values"]}),(0,B.jsxs)(L.Row,{className:Re.view_row,children:[(0,B.jsxs)("div",{className:Re.view_item,children:[(0,B.jsx)("h5",{children:C["amp.indicatormanager:original-base-value"]}),(0,B.jsx)("p",{className:Re.value,children:null!==(a=null===(r=D.base)||void 0===r?void 0:r.originalValue)&&void 0!==a?a:C["amp.indicatormanager:no-data"]})]}),(0,B.jsxs)("div",{className:Re.view_item,children:[(0,B.jsx)("h5",{children:C["amp.indicatormanager:original-value-date"]}),(0,B.jsx)("p",{className:Re.value,children:null!==(o=null===(l=D.base)||void 0===l?void 0:l.originalValueDate)&&void 0!==o?o:C["amp.indicatormanager:no-data"]})]})]}),(0,B.jsxs)(L.Row,{className:Re.view_row,children:[(0,B.jsxs)("div",{className:Re.view_item,children:[(0,B.jsx)("h5",{children:C["amp.indicatormanager:revised-value"]}),(0,B.jsx)("p",{className:Re.value,children:null!==(s=null===(d=D.base)||void 0===d?void 0:d.revisedValue)&&void 0!==s?s:C["amp.indicatormanager:no-data"]})]}),(0,B.jsxs)("div",{className:Re.view_item,children:[(0,B.jsx)("h5",{children:C["amp.indicatormanager:revised-value-date"]}),(0,B.jsx)("p",{className:Re.value,children:null!==(c=null===(u=D.base)||void 0===u?void 0:u.revisedValueDate)&&void 0!==c?c:C["amp.indicatormanager:no-data"]})]})]})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)("h4",{className:Re.header_text,children:C["amp.indicatormanager:target-values"]}),(0,B.jsxs)(L.Row,{className:Re.view_row,children:[(0,B.jsxs)("div",{className:Re.view_item,children:[(0,B.jsx)("h5",{children:C["amp.indicatormanager:target-value"]}),(0,B.jsx)("p",{className:Re.value,children:null!==(m=null===(g=D.target)||void 0===g?void 0:g.originalValue)&&void 0!==m?m:C["amp.indicatormanager:no-data"]})]}),(0,B.jsxs)("div",{className:Re.view_item,children:[(0,B.jsx)("h5",{children:C["amp.indicatormanager:target-value-date"]}),(0,B.jsx)("p",{className:Re.value,children:null!==(v=null===(p=D.target)||void 0===p?void 0:p.originalValueDate)&&void 0!==v?v:C["amp.indicatormanager:no-data"]})]})]}),(0,B.jsxs)(L.Row,{className:Re.view_row,children:[(0,B.jsxs)("div",{className:Re.view_item,children:[(0,B.jsx)("h5",{children:C["amp.indicatormanager:revised-value"]}),(0,B.jsx)("p",{className:Re.value,children:null!==(h=null===(b=D.target)||void 0===b?void 0:b.revisedValue)&&void 0!==h?h:C["amp.indicatormanager:no-data"]})]}),(0,B.jsxs)("div",{className:Re.view_item,children:[(0,B.jsx)("h5",{children:C["amp.indicatormanager:revised-value-date"]}),(0,B.jsx)("p",{className:Re.value,children:null!==(x=null===(j=D.target)||void 0===j?void 0:j.revisedValueDate)&&void 0!==x?x:C["amp.indicatormanager:no-data"]})]})]})]})]})}):(0,B.jsx)(L.Modal.Body,{children:(0,B.jsx)("h3",{children:C["amp.indicatormanager:view-error"]})})]})},Be=(0,m.createAsyncThunk)("indicators/updateIndicator",function(){var e=(0,c.Z)((0,d.Z)().mark((function e(a,r){var n,t,i;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.next=3,fetch("/rest/indicatorManager/indicators/".concat(a.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:return t=e.sent,e.next=6,t.json();case 6:if(i=e.sent,200===t.status){e.next=9;break}return e.abrupt("return",n(i));case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(a,r){return e.apply(this,arguments)}}()),ke=(0,m.createSlice)({name:"updateIndicator",initialState:{indicator:null,loading:!1,error:null},reducers:{},extraReducers:function(e){e.addCase(Be.pending,(function(e){e.loading=!0})),e.addCase(Be.fulfilled,(function(e,a){e.loading=!1,e.indicator=a.payload})),e.addCase(Be.rejected,(function(e,a){e.loading=!1,e.error=(0,u.J)(a.payload)}))}}).reducer,Ze=be()(he()),Ae=[{value:!0,label:"True"},{value:!1,label:"False"}],Ee=function(e){var a,r,t,o,l,s,d,c,u,m=e.show,g=e.setShow,v=e.indicator,p=e.translations,h=(0,i.useDispatch)(),x=(0,n.useRef)(null),j=(0,n.useRef)(null),V=(0,n.useRef)(null),N=(0,n.useRef)(null),D=(0,n.useRef)(null),C=(0,n.useRef)(null),S=(0,i.useSelector)((function(e){return e.fetchSettingsReducer.settings})),_=function(e){var a;return ce.formatJavascriptDate(e,null===(a=S["default-date-format"])||void 0===a?void 0:a.toUpperCase())},w=function(){return g(!1)},F=(0,i.useSelector)((function(e){return e.fetchSectorsReducer})),I=(0,i.useSelector)((function(e){return e.fetchAmpCategoryReducer})),R=(0,i.useSelector)((function(e){return e.fetchProgramsReducer})),P=(0,i.useSelector)((function(e){return e.updateIndicatorReducer})),T=(0,n.useState)(!1),k=(0,E.Z)(T,2),Z=k[0],A=k[1],M=(0,n.useState)(null),G=(0,E.Z)(M,2),O=G[0],q=G[1],J=(0,n.useState)([]),z=(0,E.Z)(J,2),H=z[0],U=z[1],W=(0,n.useState)([]),X=(0,E.Z)(W,2),K=X[0],oe=X[1],le=(0,n.useState)([]),se=(0,E.Z)(le,2),de=se[0],ue=se[1],ge=(0,n.useState)([]),ve=(0,E.Z)(ge,2),pe=ve[0],he=ve[1],fe=(0,n.useState)(null),be=(0,E.Z)(fe,2),je=be[0],Ve=be[1],De=(0,n.useState)(),Se=(0,E.Z)(De,2),ye=Se[0],_e=Se[1],we=(0,n.useState)(null),Fe=(0,E.Z)(we,2),Ie=Fe[0],Re=Fe[1],Pe=(0,n.useState)(null),Te=(0,E.Z)(Pe,2),ke=Te[0],Ee=Te[1],Le=(0,n.useState)(!1),Me=(0,E.Z)(Le,2),Ge=Me[0],Oe=Me[1],qe=(0,n.useState)(!1),Je=(0,E.Z)(qe,2),ze=Je[0],He=Je[1],Ue=(0,n.useRef)(null);(0,n.useEffect)((function(){!function(){if(O){A(!1),Oe(!1),He(!1);var e=R.programSchemes.find((function(e){return e.ampProgramSettingsId.toString()===O.toString()}));if(e){var a,r,n=f(e).map((function(e){return{value:e.id.toString(),label:e.name}}));he([]),he(n),A(!0),e.startDate&&(null===Ue||void 0===Ue||null===(a=Ue.current)||void 0===a||a.setFieldValue("base.originalValueDate",ce.formatJavascriptDate(e.startDate||"")),Oe(!0)),e.endDate&&(null===Ue||void 0===Ue||null===(r=Ue.current)||void 0===r||r.setFieldValue("target.originalValueDate",ce.formatJavascriptDate(e.endDate||"")),He(!0))}}}()}),[O]);var We=function(){if(null!==v&&void 0!==v&&v.programId){var e=function(e,a){var r;return e.forEach((function(e){f(e).find((function(e){return e.id.toString()===a.toString()}))&&(r=e)})),r}(R.programSchemes,null===v||void 0===v?void 0:v.programId);if(e){var a,r;if(Ee({value:e.ampProgramSettingsId.toString(),label:e.name}),e.startDate)null===Ue||void 0===Ue||null===(a=Ue.current)||void 0===a||a.setFieldValue("base.originalValueDate",ce.formatJavascriptDate(e.startDate||"")),Oe(!0);if(e.endDate)null===Ue||void 0===Ue||null===(r=Ue.current)||void 0===r||r.setFieldValue("target.originalValueDate",ce.formatJavascriptDate(e.endDate||"")),He(!0)}}};(0,n.useLayoutEffect)((function(){!function(){var e=F.sectors.map((function(e){return{value:e.id.toString(),label:e.name}}));U(e)}(),function(){var e=I.categories.map((function(e){return{value:e.id,label:e.value}}));oe(e)}(),function(){var e=R.programSchemes.map((function(e){return{value:e.ampProgramSettingsId,label:e.name}}));ue(e)}(),function(){var e=R.programs.map((function(e){return{value:e.id,label:e.name}}));he(e)}()}),[]),(0,n.useEffect)((function(){!function(){null!==(null===v||void 0===v?void 0:v.sectors)&&0!==(null===v||void 0===v?void 0:v.sectors.length)||_e([]);var e=null===v||void 0===v?void 0:v.sectors.map((function(e){var a=!F.loading&&F.sectors.find((function(a){return a.id===e}));return a?{value:e.toString(),label:a.name}:{value:e.toString(),label:"Sector not found"}}));_e(e)}(),function(){if(null!==v&&void 0!==v&&v.indicatorsCategory){var e,a=I.categories.find((function(e){return e.id===(null===v||void 0===v?void 0:v.indicatorsCategory)}));a&&(Ve({value:a.id,label:a.value}),null===Ue||void 0===Ue||null===(e=Ue.current)||void 0===e||e.setFieldValue("indicatorsCategory",a.id))}}(),function(){if(null!==(null===v||void 0===v?void 0:v.programId)){var e,a=R.programs.find((function(e){return e.id===(null===v||void 0===v?void 0:v.programId)}));a&&(null===Ue||void 0===Ue||null===(e=Ue.current)||void 0===e||e.setFieldValue("programId",a.id.toString()),A(!0),Re({value:a.id.toString(),label:a.name}))}}(),We()}),[v]),xe((function(){var e;P.loading?Ze.fire({icon:"info",title:"Updating Indicator...",timer:18e3}):P.loading||P.error||null===P||void 0===P||null===(e=P.indicator)||void 0===e||!e.id?Ze.fire({icon:"error",title:"Oops...",text:P.loading?p["amp.indicatormanager:save-failed"]:P.error}):Ze.fire({icon:"success",title:"Indicator updated successfully",timer:3e3}).then((function(){w(),h(y())}))}),[P]);var Xe={name:(null===v||void 0===v?void 0:v.name)||"",description:(null===v||void 0===v?void 0:v.description)||"",code:(null===v||void 0===v?void 0:v.code)||"",sectors:(null===v||void 0===v?void 0:v.sectors)||[],programId:"",ascending:(null===v||void 0===v?void 0:v.ascending)||!1,creationDate:null===v||void 0===v?void 0:v.creationDate,base:{originalValue:null===v||void 0===v||null===(a=v.base)||void 0===a?void 0:a.originalValue,originalValueDate:null===v||void 0===v||null===(r=v.base)||void 0===r?void 0:r.originalValueDate,revisedValue:null===v||void 0===v||null===(t=v.base)||void 0===t?void 0:t.revisedValue,revisedValueDate:null===v||void 0===v||null===(o=v.base)||void 0===o?void 0:o.revisedValueDate},target:{originalValue:null===v||void 0===v||null===(l=v.target)||void 0===l?void 0:l.originalValue,originalValueDate:null===v||void 0===v||null===(s=v.target)||void 0===s?void 0:s.originalValueDate,revisedValue:null===v||void 0===v||null===(d=v.target)||void 0===d?void 0:d.revisedValue,revisedValueDate:null===v||void 0===v||null===(c=v.target)||void 0===c?void 0:c.revisedValueDate},indicatorsCategory:(null===v||void 0===v||null===(u=v.indicatorsCategory)||void 0===u?void 0:u.toString())||""};return(0,B.jsxs)(L.Modal,{show:m,onHide:w,centered:!0,ref:x,backdropClassName:$,animation:!1,backdrop:"static",keyboard:!1,size:"lg",children:[(0,B.jsx)(L.Modal.Header,{closeButton:!0,children:(0,B.jsx)(L.Modal.Title,{children:p["amp.indicatormanager:edit-indicator"]})}),(0,B.jsx)(Y.J9,{initialValues:Xe,validationSchema:me(p),innerRef:Ue,onSubmit:function(e){var a,r=e.name,n=e.description,t=e.code,i=e.sectors,o=e.ascending,l=e.programId,s=e.creationDate,d=e.base,c=e.target,u=e.indicatorsCategory,m={id:v.id,name:r,description:n,code:t,sectors:(a=i,0===a.length?[]:"number"===typeof a[0]?a:a.map((function(e){return Number(e.value)}))),programId:l?parseInt(l):null,ascending:o,creationDate:s&&_(s),base:b(d)?null:{originalValue:d.originalValue?Ce().toNumber(d.originalValue):null,originalValueDate:d.originalValueDate?_(d.originalValueDate):null,revisedValue:d.revisedValue?Ce().toNumber(d.revisedValue):null,revisedValueDate:d.revisedValueDate?_(d.revisedValueDate):null},target:b(c)?null:{originalValue:c.originalValue?Ce().toNumber(c.originalValue):null,originalValueDate:c.originalValueDate?_(c.originalValueDate):null,revisedValue:c.revisedValue?Ce().toNumber(c.revisedValue):null,revisedValueDate:c.revisedValueDate?_(c.revisedValueDate):null},indicatorsCategory:u?parseInt(u):null};h(Be(m))},children:function(e){var a,r,n,t,i,o,l,s,d,c,u,m,g,v,h,f,b,x,S,y,_,F,I,R,P;return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(L.Form,{noValidate:!0,onSubmit:e.handleSubmit,children:[(0,B.jsx)(L.Modal.Body,{children:(0,B.jsxs)("div",{className:ae,children:[(0,B.jsxs)(L.Row,{className:re,children:[(0,B.jsxs)(L.Form.Group,{as:L.Col,className:te,controlId:"formBasicName",children:[(0,B.jsx)(L.Form.Label,{children:p["amp.indicatormanager:indicator-name"]}),(0,B.jsx)(L.Form.Control,{defaultValue:e.values.name,onChange:e.handleChange,onBlur:e.handleBlur,name:"name",className:"".concat(ie," ").concat(e.errors.name&&e.touched.name&&ee),isInvalid:!!e.errors.name,required:!0,"aria-required":!0,type:"text",placeholder:p["amp.indicatormanager:enter-indicator-name"]}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:e.errors.name})]}),(0,B.jsxs)(L.Form.Group,{className:te,controlId:"formIndicatorCode",children:[(0,B.jsx)(L.Form.Label,{children:p["amp.indicatormanager:indicator-code"]}),(0,B.jsx)(L.Form.Control,{defaultValue:e.values.code,onChange:e.handleChange,onBlur:e.handleBlur,name:"code",required:!0,type:"text",className:"".concat(ie," ").concat(e.errors.code&&e.touched.code&&ee),placeholder:p["amp.indicatormanager:enter-indicator-code"]}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:e.errors.code})]})]}),(0,B.jsx)(L.Row,{className:re,children:(0,B.jsxs)(L.Form.Group,{className:ne,controlId:"formBasicDescription",children:[(0,B.jsx)(L.Form.Label,{children:p["amp.indicatormanager:indicator-description"]}),(0,B.jsx)(L.Form.Control,{defaultValue:e.values.description,onChange:e.handleChange,onBlur:e.handleBlur,name:"description",type:"text",className:"".concat(ie," ").concat(e.errors.description&&e.touched.description&&ee),placeholder:p["amp.indicatormanager:enter-indicator-description"]}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:e.errors.description})]})}),(0,B.jsxs)(L.Row,{className:re,children:[(0,B.jsxs)(L.Form.Group,{className:te,controlId:"Ascending",children:[(0,B.jsx)(L.Form.Label,{children:p["amp.indicatormanager:ascending"]}),(0,B.jsx)(Q(),{name:"ascending",options:Ae,className:"basic-multi-select",classNamePrefix:"select",onBlur:e.handleBlur,onChange:function(a){e.setFieldValue("ascending",null===a||void 0===a?void 0:a.value)},defaultValue:{value:e.values.ascending,label:e.values.ascending?"True":"False"}})]}),(0,B.jsxs)(L.Form.Group,{className:te,controlId:"formCreationDate",children:[(0,B.jsx)(L.Form.Label,{children:p["amp.indicatormanager:table-header-creation-date"]}),(0,B.jsx)(Ne,{name:"creationDate",value:e.values.creationDate,disabled:!0,defaultValue:new Date,clearIcon:null,calendarIcon:null,className:ie,id:"creationDate",inputRef:j})]})]}),(0,B.jsx)(L.Row,{className:re,children:(0,B.jsxs)(L.Form.Group,{className:ne,controlId:"formIndicatorSectors",children:[(0,B.jsx)(L.Form.Label,{children:p["amp.indicatormanager:sectors"]}),H.length>0&&void 0!==ye?(0,B.jsx)(Q(),{isMulti:!0,name:"sectors",options:H,onChange:function(a){var r=a.map((function(e){return parseInt(e.value)}));_e(a),e.setFieldValue("sectors",r)},onBlur:e.handleBlur,className:"basic-multi-select ".concat(e.errors.sectors&&e.touched.sectors&&ee),classNamePrefix:"select",value:ye}):(0,B.jsx)(Q(),{isDisabled:!0})]})}),(0,B.jsx)(L.Row,{className:re,children:(0,B.jsxs)(L.Form.Group,{className:ne,controlId:"formIndicatorCategories",children:[(0,B.jsx)(L.Form.Label,{children:p["amp.indicatormanager:indicators-category"]}),K.length>0?(0,B.jsx)(Q(),{name:"indicatorsCategory",options:K,onChange:function(a){a&&(Ve(a),e.setFieldValue("indicatorsCategory",null===a||void 0===a?void 0:a.value))},isClearable:!0,getOptionValue:function(e){return e.value},onBlur:e.handleBlur,className:"basic-multi-select ".concat(e.errors.indicatorsCategory&&e.touched.indicatorsCategory&&ee),classNamePrefix:"select",value:je}):(0,B.jsx)(Q(),{name:"categories",isDisabled:!0})]})}),(0,B.jsx)(L.Row,{className:re,children:(0,B.jsxs)(L.Form.Group,{className:ne,controlId:"programScheme",children:[(0,B.jsx)(L.Form.Label,{children:p["amp.indicatormanager:program-scheme"]}),de.length>0?(0,B.jsx)(Q(),{name:"programScheme",options:de,onChange:function(a){a&&(Ee(a),function(e,a){q(e),a.setFieldValue("programId",null),A(!1)}(a.value,e))},isClearable:!0,getOptionValue:function(e){return e.value},onBlur:e.handleBlur,className:"basic-multi-select ".concat(ie),classNamePrefix:"select",value:ke}):(0,B.jsx)(Q(),{isDisabled:!0,defaultValue:{value:0,label:p["amp.indicatormanager:no-data"]}})]})}),Z&&(0,B.jsx)(L.Row,{className:re,children:(0,B.jsxs)(L.Form.Group,{className:ne,controlId:"programs",children:[(0,B.jsx)(L.Form.Label,{children:p["amp.indicatormanager:programs"]}),pe.length>0&&Ie?(0,B.jsx)(Q(),{name:"programs",options:pe,onChange:function(a){e.setFieldValue("programId",null===a||void 0===a?void 0:a.value)},isClearable:!0,getOptionValue:function(e){return e.value},onBlur:e.handleBlur,className:"basic-multi-select ".concat(ie," ").concat(e.errors.programId&&e.touched.programId&&ee),classNamePrefix:"select",defaultValue:Ie}):(0,B.jsx)(Q(),{name:"programs",isDisabled:!0,defaultValue:{value:0,label:p["amp.indicatormanager:no-data"]}})]})}),(0,B.jsxs)(L.Form.Group,{as:L.Col,children:[(0,B.jsx)(L.Row,{className:re,children:(0,B.jsx)(L.Form.Label,{className:ne,children:(0,B.jsx)("h4",{children:p["amp.indicatormanager:base-values"]})})}),(0,B.jsxs)(L.Row,{className:re,children:[(0,B.jsxs)(L.Form.Group,{className:te,children:[(0,B.jsx)(L.Form.Label,{children:p["amp.indicatormanager:original-value"]}),(0,B.jsx)(L.Form.Control,{defaultValue:null===(a=e.values.base)||void 0===a?void 0:a.originalValue,onChange:e.handleChange,onBlur:e.handleBlur,name:"base.originalValue",type:"number",className:"".concat(ie," ").concat((null===(r=e.errors.base)||void 0===r?void 0:r.originalValue)&&(null===(n=e.touched.base)||void 0===n?void 0:n.originalValue)&&ee),placeholder:p["amp.indicatormanager:enter-original-value"]}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:null===(t=e.errors.base)||void 0===t?void 0:t.originalValue})]}),(0,B.jsxs)(L.Form.Group,{className:te,children:[(0,B.jsx)(L.Form.Label,{children:p["amp.indicatormanager:original-value-date"]}),(0,B.jsx)(Ne,{value:null===(i=e.values.base)||void 0===i?void 0:i.originalValueDate,onChange:function(a){a&&e.setFieldValue("base.originalValueDate",a)},onClear:function(){e.setFieldValue("base.originalValueDate",null)},onBlur:e.handleBlur,name:"base.originalValueDate",disabled:Ge,className:"".concat(ie," ").concat((null===(o=e.errors.base)||void 0===o?void 0:o.originalValueDate)&&(null===(l=e.touched.base)||void 0===l?void 0:l.originalValueDate)&&ee),id:"baseOriginalValueDate",inputRef:V}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:null===(s=e.errors.base)||void 0===s?void 0:s.originalValueDate})]})]}),(0,B.jsxs)(L.Row,{className:re,children:[(0,B.jsxs)(L.Form.Group,{className:te,children:[(0,B.jsx)(L.Form.Label,{children:p["amp.indicatormanager:revised-value"]}),(0,B.jsx)(L.Form.Control,{defaultValue:e.values.base.revisedValue,onChange:e.handleChange,onBlur:e.handleBlur,name:"base.revisedValue",type:"number",className:"".concat(ie," ").concat((null===(d=e.errors.base)||void 0===d?void 0:d.revisedValue)&&(null===(c=e.touched.base)||void 0===c?void 0:c.revisedValue)&&ee),placeholder:p["amp.indicatormanager:enter-revised-value"]}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:null===(u=e.errors.base)||void 0===u?void 0:u.revisedValue})]}),(0,B.jsxs)(L.Form.Group,{className:te,children:[(0,B.jsx)(L.Form.Label,{children:p["amp.indicatormanager:revised-value-date"]}),(0,B.jsx)(Ne,{value:e.values.base.revisedValueDate,onChange:function(a){a&&e.setFieldValue("base.revisedValueDate",a)},onClear:function(){e.setFieldValue("base.revisedValueDate",null)},onBlur:e.handleBlur,name:"base.revisedValueDate",className:"".concat(ie," ").concat((null===(m=e.errors.base)||void 0===m?void 0:m.revisedValueDate)&&(null===(g=e.touched.base)||void 0===g?void 0:g.revisedValueDate)&&ee),id:"baseRevisedValueDate",inputRef:N}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:null===(v=e.errors.base)||void 0===v?void 0:v.revisedValueDate})]})]})]}),(0,B.jsxs)(L.Form.Group,{as:L.Col,children:[(0,B.jsx)(L.Form.Label,{children:(0,B.jsx)("h4",{children:p["amp.indicatormanager:target-values"]})}),(0,B.jsxs)(L.Row,{className:re,children:[(0,B.jsxs)(L.Form.Group,{className:te,children:[(0,B.jsx)(L.Form.Label,{children:p["amp.indicatormanager:target-value"]}),(0,B.jsx)(L.Form.Control,{defaultValue:e.values.target.originalValue,onChange:e.handleChange,onBlur:e.handleBlur,name:"target.originalValue",type:"number",className:"".concat(ie," ").concat((null===(h=e.errors.target)||void 0===h?void 0:h.originalValue)&&(null===(f=e.touched.target)||void 0===f?void 0:f.originalValue)&&ee),placeholder:p["amp.indicatormanager:enter-target-value"]}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:null===(b=e.errors.target)||void 0===b?void 0:b.originalValue})]}),(0,B.jsxs)(L.Form.Group,{className:te,children:[(0,B.jsx)(L.Form.Label,{children:p["amp.indicatormanager:target-value-date"]}),(0,B.jsx)(Ne,{value:e.values.target.originalValueDate,onChange:function(a){a&&e.setFieldValue("target.originalValueDate",a)},onClear:function(){e.setFieldValue("target.originalValueDate",null)},disabled:ze,onBlur:e.handleBlur,name:"target.originalValueDate",className:"".concat(ie," ").concat((null===(x=e.errors.target)||void 0===x?void 0:x.originalValueDate)&&(null===(S=e.touched.target)||void 0===S?void 0:S.originalValueDate)&&ee),id:"targetOriginalValueDate",inputRef:D})]})]}),(0,B.jsxs)(L.Row,{className:re,children:[(0,B.jsxs)(L.Form.Group,{className:te,children:[(0,B.jsx)(L.Form.Label,{children:p["amp.indicatormanager:revised-value"]}),(0,B.jsx)(L.Form.Control,{defaultValue:e.values.target.revisedValue,onChange:e.handleChange,onBlur:e.handleBlur,name:"target.revisedValue",type:"number",className:"".concat(ie," ").concat((null===(y=e.errors.target)||void 0===y?void 0:y.revisedValue)&&(null===(_=e.touched.target)||void 0===_?void 0:_.revisedValue)&&ee),placeholder:p["amp.indicatormanager:enter-revised-value"]}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:null===(F=e.errors.target)||void 0===F?void 0:F.revisedValue})]}),(0,B.jsxs)(L.Form.Group,{className:te,children:[(0,B.jsx)(L.Form.Label,{children:p["amp.indicatormanager:revised-value-date"]}),(0,B.jsx)(Ne,{value:e.values.target.revisedValueDate,onChange:function(a){a&&e.setFieldValue("target.revisedValueDate",a)},onClear:function(){e.setFieldValue("target.revisedValueDate",null)},onBlur:e.handleBlur,name:"target.revisedValueDate",className:"".concat(ie," ").concat((null===(I=e.errors.target)||void 0===I?void 0:I.revisedValueDate)&&(null===(R=e.touched.target)||void 0===R?void 0:R.revisedValueDate)&&ee),id:"targetRevisedValueDate",inputRef:C}),(0,B.jsx)(L.Form.Control.Feedback,{type:"invalid",className:ee,children:null===(P=e.errors.target)||void 0===P?void 0:P.revisedValueDate})]})]})]})]})}),(0,B.jsxs)(L.Modal.Footer,{children:[(0,B.jsx)(L.Button,{variant:"secondary",onClick:w,children:p["amp.indicatormanager:close"]}),(0,B.jsx)(L.Button,{type:"submit",variant:"success",children:p["amp.indicatormanager:save"]})]})]})})}})]})},Le=(0,m.createAsyncThunk)("indicators/deleteIndicator",function(){var e=(0,c.Z)((0,d.Z)().mark((function e(a,r){var n,t,i;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.next=3,fetch("/rest/indicatorManager/indicators/".concat(a),{method:"DELETE"});case 3:return t=e.sent,e.next=6,t.json();case 6:if(i=e.sent,200!==t.status&&204!==t.status){e.next=9;break}return e.abrupt("return",i);case 9:return e.abrupt("return",n(i));case 10:case"end":return e.stop()}}),e)})));return function(a,r){return e.apply(this,arguments)}}()),Me=(0,m.createSlice)({name:"deleteIndicator",initialState:{indicator:null,loading:!1,error:null},reducers:{},extraReducers:function(e){e.addCase(Le.pending,(function(e){e.loading=!0})),e.addCase(Le.fulfilled,(function(e,a){e.loading=!1,e.indicator=a.payload})),e.addCase(Le.rejected,(function(e,a){e.loading=!1,e.error=(0,u.J)(a.payload)}))}}).reducer,Ge=be()(he()),Oe=function(e){var a=e.show,r=e.setShow,n=e.indicator,t=e.translations,o=(0,i.useDispatch)(),l=(0,i.useSelector)((function(e){return e.deleteIndicatorReducer})),s=function(){return r(!1)};xe((function(){var e;null!==l&&void 0!==l&&l.loading||null===l||void 0===l||!l.error||(Ge.fire({title:(0,B.jsx)("p",{children:t["amp.indicatormanager:table-title"]}),text:null!==(e=null===l||void 0===l?void 0:l.error)&&void 0!==e?e:t["amp.indicatormanager:delete-failed"],icon:"error",timer:3e3,timerProgressBar:!0}),s());if((null===l||void 0===l||!l.loading)&&(null===l||void 0===l||!l.error))return Ge.fire({title:(0,B.jsx)("p",{children:t["amp.indicatormanager:table-title"]}),text:t["amp.indicatormanager:delete-success"],icon:"success",timer:3e3,timerProgressBar:!0}),s(),void o(y())}),[l]);return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(L.Modal,{show:a,onHide:s,centered:!0,backdropClassName:$,animation:!1,children:[(0,B.jsx)(L.Modal.Header,{closeButton:!0,children:(0,B.jsx)(L.Modal.Title,{children:t["amp.indicatormanager:delete-indicator"]})}),(0,B.jsx)(L.Modal.Body,{children:(0,B.jsx)("p",{children:t["amp.indicatormanager:delete-confirm"]})}),(0,B.jsxs)(L.Modal.Footer,{children:[(0,B.jsx)(L.Button,{variant:"secondary",onClick:s,children:t["amp.indicatormanager:cancel"]}),(0,B.jsx)(L.Button,{variant:"danger",onClick:function(){o(Le(null===n||void 0===n?void 0:n.id))},children:t["amp.indicatormanager:delete"]})]})]})})},qe=function(e){var a=e.translations,r=(0,i.useDispatch)(),t=(0,i.useSelector)((function(e){return e.fetchIndicatorsReducer})),o=t.indicators,l=t.loading,d=(0,i.useSelector)((function(e){return e.fetchSettingsReducer.settings})),c=(0,i.useSelector)((function(e){return e.fetchSectorsReducer})),u=(0,i.useSelector)((function(e){return e.fetchProgramsReducer}));(0,n.useLayoutEffect)((function(){r(y())}),[]);var m=(0,n.useState)(null),g=(0,E.Z)(m,2),v=g[0],h=g[1],f=(0,n.useState)(!1),b=(0,E.Z)(f,2),x=b[0],j=b[1],V=(0,n.useState)(!1),N=(0,E.Z)(V,2),D=N[0],C=N[1],S=(0,n.useState)(!1),_=(0,E.Z)(S,2),w=_[0],F=_[1],I=(0,n.useState)(0),R=(0,E.Z)(I,2),P=R[0],T=R[1],k=(0,n.useState)(0),Z=(0,E.Z)(k,2),A=Z[0],M=Z[1],G=(0,n.useState)(o),O=(0,E.Z)(G,2),q=O[0],J=O[1];(0,n.useEffect)((function(){o&&J(o)}),[o]);var z=(0,n.useMemo)((function(){return[{dataField:"id",text:a["amp.indicatormanager:table-header-id"],sort:!0,headerStyle:{width:"10%"}},{dataField:"code",text:a["amp.indicatormanager:table-header-code"],sort:!0,headerStyle:{width:"10%"}},{dataField:"name",text:a["amp.indicatormanager:table-header-indicator-name"],sort:!0,headerStyle:{width:"35%"}}].concat((0,p.Z)(d["indicator-filter-by-sector"]?[{dataField:"sectors",text:a["amp.indicatormanager:sectors"],sort:!0,headerStyle:{width:"30%"},formatter:function(e,a){return(0,B.jsx)("div",{children:e.map((function(e){var a=!c.loading&&c.sectors.find((function(a){return a.id===e}));return a?(0,B.jsxs)("span",{children:[a.name,(0,B.jsx)("br",{})]},e):(0,B.jsxs)("span",{children:[e,(0,B.jsx)("br",{})]},e)}))})}}]:[]),(0,p.Z)(d["indicator-filter-by-program"]?[{dataField:"programs",text:a["amp.indicatormanager:programs"],sort:!0,headerStyle:{width:"40%"},formatter:function(e,a){var r=a.programId,n=!u.loading&&u.programs.find((function(e){return e.id===r}));return n?(0,B.jsxs)("span",{children:[n.name,(0,B.jsx)("br",{})]},r):(0,B.jsxs)("span",{children:[r,(0,B.jsx)("br",{})]},r)}}]:[]),[{dataField:"creationDate",text:a["amp.indicatormanager:table-header-creation-date"],sort:!0,headerStyle:{width:"10%"}},{dataField:"action",text:a["amp.indicatormanager:table-header-action"],headerStyle:{width:"30%"},csvExport:!1,formatter:function(e,a){return(0,B.jsxs)(L.Row,{sm:8,className:Fe,children:[(0,B.jsx)("div",{className:Ie,children:(0,B.jsx)("i",{style:{fontSize:20,color:"#007bff"},className:"fa fa-eye","aria-hidden":"true",onClick:function(){return function(e){h(e),j(!0)}(a)}})}),(0,B.jsx)("div",{className:Ie,children:(0,B.jsx)("i",{style:{fontSize:20,color:"#198754"},className:"fa fa-pencil","aria-hidden":"true",onClick:function(){return function(e){h(e),C(!0)}(a)}})}),(0,B.jsx)("div",{className:Ie,children:(0,B.jsx)("i",{style:{fontSize:20,color:"#dc3545"},className:"fa fa-trash","aria-hidden":"true",onClick:function(){return function(e){h(e),F(!0)}(a)}})})]})}}])}),[]);return(0,n.useEffect)((function(){!function(){if(0!==Number(P)){var e=o.filter((function(e){return e.sectors.includes(Number(P))}));J([]),J(e)}else J(o)}()}),[P]),(0,n.useEffect)((function(){!function(){if(0!==Number(A)){var e=o.filter((function(e){return e.programId===Number(A)}));J([]),J(e)}else J(o)}()}),[A]),(0,B.jsxs)(B.Fragment,{children:[x&&(0,B.jsx)(Te,{show:x,setShow:j,indicator:v,translations:a}),D&&(0,B.jsx)(Ee,{show:D,setShow:C,indicator:v,translations:a}),w&&(0,B.jsx)(Oe,{show:w,setShow:F,indicator:v,translations:a}),l?(0,B.jsx)(s.g,{}):(0,B.jsx)(we,{title:a["amp.indicatormanager:table-title"],data:q,columns:z,sectors:c.sectors,programs:u.programs,setSelectedSector:T,setSelectedProgram:M,translations:a,filterBySector:d["indicator-filter-by-sector"],filterByProgram:d["indicator-filter-by-program"]})]})},Je=t().memo(qe),ze=(0,i.connect)((function(e){return{translations:e.translationsReducer.translations}}),(function(e){return(0,o.bindActionCreators)({},e)}))(Je),He=r(10941),Ue=r.n(He),We="FETCH_AMP_SETTINGS_PENDING",Xe="FETCH_AMP_SETTINGS_SUCCESS",Ye="FETCH_AMP_SETTINGS_ERROR";var Ke={settingsLoaded:!1,settingsPending:!1,settings:{},error:null},Qe=r(50840),$e="FETCH_SHARE_LINK_PENDING",ea="FETCH_SHARE_LINK_SUCCESS",aa=" FETCH_SHARE_LINK_ERROR",ra="GET_SHARED_DATA_PENDING",na="GET_SHARED_DATA_SUCCESS",ta=" GET_SHARED_DATA_ERROR";var ia={shareLinkLoaded:!1,shareLinkPending:!1,error:null},oa={sharedDataLoaded:!1,sharedDataPending:!1,error:null},la=(0,o.combineReducers)({startupReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case We:return(0,M.Z)((0,M.Z)({},e),{},{settingsPending:!0});case Xe:return(0,M.Z)((0,M.Z)({},e),{},{settingsPending:!1,settingsLoaded:!0,settings:a.payload});case Ye:return(0,M.Z)((0,M.Z)({},e),{},{settingsPending:!1,settingsLoaded:!1,error:a.payload.error});default:return e}},translationsReducer:Qe.Z,shareLinkReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case $e:return(0,M.Z)((0,M.Z)({},e),{},{shareLinkPending:!0});case ea:return(0,M.Z)((0,M.Z)({},e),{},{shareLinkPending:!1,shareLinkLoaded:!0,shareLink:a.payload});case aa:return(0,M.Z)((0,M.Z)({},e),{},{shareLinkLoaded:!1,shareLinkPending:!1,error:a.error});default:return e}},sharedDataReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case ra:return(0,M.Z)((0,M.Z)({},e),{},{sharedDataPending:!0});case na:return(0,M.Z)((0,M.Z)({},e),{},{sharedDataPending:!1,sharedDataLoaded:!0,sharedData:a.payload});case ta:return(0,M.Z)((0,M.Z)({},e),{},{sharedDataLoaded:!1,sharedDataPending:!1,error:a.error});default:return e}},fetchIndicatorsReducer:R,fetchSectorsReducer:v,fetchProgramsReducer:N,createIndicatorReducer:ve,updateIndicatorReducer:ke,deleteIndicatorReducer:Me,fetchSettingsReducer:C,fetchAmpCategoryReducer:T}),sa="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];if(0!==a.length)return a.some((function(e){return"object"===typeof e}))?o.compose:o.compose.apply(void 0,a)},da=(0,o.legacy_createStore)(la,sa((0,o.applyMiddleware)(Ue()))),ca=function(){return(0,B.jsx)(i.Provider,{store:da,children:(0,B.jsx)(Z,{defaultTrnPack:A,children:(0,B.jsx)(ze,{})})})}},71937:function(e,a,r){r.d(a,{J:function(){return n}});var n=function(e){if(null===e)return"No error";if("string"===typeof e)return e;var a=e;if(a){var r=Object.keys(a.error)[0],n=a.error[r][0];return n?"(Not authenticated)"===n?(window.location.href="/","Auth Error"):n:"An error occurred."}}},1342:function(e,a,r){r.d(a,{BB:function(){return v},ET:function(){return p},Ez:function(){return u},IN:function(){return O},Ic:function(){return s},JP:function(){return q},LM:function(){return y},O:function(){return g},PU:function(){return h},S9:function(){return b},SJ:function(){return j},Sw:function(){return w},TM:function(){return E},Vs:function(){return d},WP:function(){return Z},_G:function(){return V},aD:function(){return T},ah:function(){return k},bm:function(){return U},cE:function(){return m},eM:function(){return S},e_:function(){return c},fz:function(){return x},g1:function(){return F},gW:function(){return C},ij:function(){return A},io:function(){return R},pj:function(){return I},qp:function(){return l},rF:function(){return o},rP:function(){return _},ry:function(){return t},sC:function(){return G},sK:function(){return L},tU:function(){return P},um:function(){return f},vW:function(){return D},wU:function(){return M},wt:function(){return N},xE:function(){return n},xg:function(){return H},yr:function(){return B},z7:function(){return i}});var n=0,t=1,i=-1,o="/assets/img/flags/",l="dashboard-default-min-year-range",s="dashboard-default-max-year-range",d="/rest/filters/sectors",c="/rest/filters/locations?firstLevelOnly=true&showAllCountries=true",u="/rest/amp/settings",m="/rest/filters/modalities?sscWorkspace=true",g="/rest/gis/sscdashboard",v="/rest/gis/sscdashboard/xsl",p="/rest/gis/activities",h=12,f="#fd8f00",b="#fd8f00",x="#007236",j="#007236",V="png",N=50,D=-999999999,C=9,S=6,y=1766,_=5,w="-1",F=1920,I=145,R=2,P="0",T="SSC_",B="home",k="sector",Z="modality",A="download",E="country-column",L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAbCAQAAACkGQXlAAAAI0lEQVR42mP8L8lAVcA4auCogaMGjho4auCogaMGjhpINAAAOBcdpLw/CDsAAAAASUVORK5CYII=",M="000",G="primary-sector",O="ssc-modalities",q="donor-agency-country",J=new Map([["110","#d46453"],["120","#f5a15d"],["130","#ffcf8e"],["140","#ff7a7d"],["150","#ff417d"],["160","#d61a88"],["210","#fff540"],["220","#28c074"],["230","#429058"],["240","#bd4035"],["250","#b0fff1"],["311","#144491"],["312","#9b0e3e"],["313","#10908e"],["321","#8f5765"],["322","#c7d4e1"],["323","#77b02a"],["331","#488bd4"],["332","#928fb8"],["400","#c6d831"],["500","#d41e3c"],["600","#cf968c"],["700","#78d7ff"],["910","#94007a"],["920","#ffb84a"],["930","#ed7b39"],["998","#ed4c40"],["000","#8f5765"]]),z=new Map([[M,"#8f5765"]]),H=new Map([[Z,["#00429d","#3761ab","#5681b9","#73a2c6","#93c4d2","#b9e5dd","#ffffe0","#ffd3bf","#ffa59e","#f4777f","#dd4c65","#be214d","#93003a"]]]),U=new Map([[k,J],[Z,z]])},35209:function(e,a,r){var n=r(64454),t=r(58234);a.Z=function(e){return function(a){return a((0,n.M0)(e)),(0,t.X)(e).then((function(e){return a((0,n.sq)(e))})).catch((function(e){return a((0,n.nW)(e))}))}}},64454:function(e,a,r){r.d(a,{M0:function(){return o},b5:function(){return n},k_:function(){return t},nW:function(){return s},pv:function(){return i},sq:function(){return l}});var n="FETCH_TRANSLATIONS_PENDING",t="FETCH_TRANSLATIONS_SUCCESS",i="FETCH_TRANSLATIONS_ERROR";function o(e){return{type:n,payload:e}}function l(e){return{type:t,payload:e}}function s(e){return{type:i,error:e}}},47371:function(e,a,r){r.d(a,{g:function(){return t}});r(50383);var n=r(59653),t=function(){return(0,n.jsx)("div",{className:"jumbotron",children:(0,n.jsx)("div",{className:"progress",children:(0,n.jsx)("div",{className:"progress-bar progress-bar-striped bg-info",role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100",style:{width:"100%"},children:"..."})})})}},58234:function(e,a,r){r.d(a,{X:function(){return s},a:function(){return l}});var n=r(1342),t="POST",i="GET";function o(e,a){var r={method:e?t:i,headers:a||{"Content-Type":"application/json",Accept:"application/json","ws-prefix":n.aD}};return e&&(r.body=JSON.stringify(e)),r}var l=function(e){var a=e.body,r=e.url,n=e.headers;return new Promise((function(e,t){return fetch(r,o(a,n)).then((function(e){return n&&"text/html"===n.Accept?e.text():e.headers&&e.headers.get("Content-Type")&&e.headers.get("Content-Type").indexOf("application/json")>-1?e.json():e})).then((function(a){return a.error?t(a.error):e(a)}))}))};function s(e){return new Promise((function(a){return fetch("/rest/translations/label-translations",o(e)).then((function(e){var r=e.headers.get("content-type");if(r&&-1!==r.indexOf("application/json"))return e.json().then((function(e){if(e.error)throw new Error(e.error);return a(e)}))}))}))}},50840:function(e,a,r){r.d(a,{Z:function(){return o}});var n=r(33028),t=r(64454),i={pending:!0,translations:{},error:null};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case t.b5:return(0,n.Z)((0,n.Z)({},e),{},{pending:!0,translations:a.payload});case t.k_:return(0,n.Z)((0,n.Z)({},e),{},{pending:!1,translations:a.payload});case t.pv:return(0,n.Z)((0,n.Z)({},e),{},{pending:!1,error:a.error});default:return e}}},16843:function(){}}]);
//# sourceMappingURL=8607.bundle.js.map