{"version":3,"file":"nivo-arcs.umd.js","sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../src/utils.ts","../src/arcTransitionMode.ts","../src/centers.ts","../src/arc_labels/ArcLabel.tsx","../src/arc_labels/ArcLabelsLayer.tsx","../src/arc_labels/canvas.ts","../src/arc_labels/useArcLabels.ts","../src/arc_link_labels/compute.ts","../src/arc_link_labels/useArcLinkLabelsTransition.ts","../src/arc_link_labels/ArcLinkLabel.tsx","../src/arc_link_labels/ArcLinkLabelsLayer.tsx","../src/arc_link_labels/canvas.ts","../src/arc_link_labels/useArcLinks.ts","../src/arc_link_labels/useArcLinkLabels.ts","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../src/ArcLine.tsx","../src/ArcShape.tsx","../src/interpolateArc.ts","../src/useArcsTransition.ts","../src/ArcsLayer.tsx","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../src/boundingBox.ts","../src/interactivity.ts","../src/useAnimatedArc.ts","../src/useArcGenerator.ts"],"sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { useMemo } from 'react'\nimport { radiansToDegrees, positionFromAngle, degreesToRadians } from '@nivo/core'\nimport { DatumWithArc } from './types'\n\n/**\n * Make sure an angle (expressed in radians)\n * always falls in the range 0~2*PI.\n */\nexport const getNormalizedAngle = (angle: number) => {\n    let normalizedAngle = angle % (Math.PI * 2)\n    if (normalizedAngle < 0) {\n        normalizedAngle += Math.PI * 2\n    }\n\n    return normalizedAngle\n}\n\n/**\n * Filter out arcs with a length below `skipAngle`.\n */\nexport const filterDataBySkipAngle = <Datum extends DatumWithArc>(\n    data: Datum[],\n    skipAngle: number\n) =>\n    data.filter(\n        datum => Math.abs(radiansToDegrees(datum.arc.endAngle - datum.arc.startAngle)) >= skipAngle\n    )\n\n/**\n * Memoized version of `filterDataBySkipAngle`.\n */\nexport const useFilteredDataBySkipAngle = <Datum extends DatumWithArc>(\n    data: Datum[],\n    skipAngle: number\n) => useMemo(() => filterDataBySkipAngle(data, skipAngle), [data, skipAngle])\n\nexport const svgEllipticalArcCommand = (\n    radius: number,\n    largeArcFlag: 0 | 1,\n    sweepFlag: 0 | 1,\n    x: number,\n    y: number\n) =>\n    [\n        'A',\n        radius,\n        radius,\n        0, // x-axis-rotation\n        largeArcFlag,\n        sweepFlag,\n        x,\n        y,\n    ].join(' ')\n\nexport const generateSvgArc = (\n    radius: number,\n    originalStartAngle: number,\n    originalEndAngle: number\n): string => {\n    const startAngle = Math.min(originalStartAngle, originalEndAngle)\n    const endAngle = Math.max(originalStartAngle, originalEndAngle)\n\n    const start = positionFromAngle(degreesToRadians(endAngle), radius)\n    const end = positionFromAngle(degreesToRadians(startAngle), radius)\n\n    // we have a full circle, we cannot use a single elliptical arc\n    // to draw it, so we use 2 in that case.\n    if (endAngle - startAngle >= 360) {\n        const mid = positionFromAngle(degreesToRadians(startAngle + 180), radius)\n\n        return [\n            `M ${start.x} ${start.y}`,\n            svgEllipticalArcCommand(radius, 1, 1, mid.x, mid.y),\n            `M ${start.x} ${start.y}`,\n            svgEllipticalArcCommand(radius, 1, 0, mid.x, mid.y),\n        ].join(' ')\n    }\n\n    const largeArcFlag = endAngle - startAngle <= 180 ? 0 : 1\n\n    return [\n        `M ${start.x} ${start.y}`,\n        svgEllipticalArcCommand(radius, largeArcFlag, 0, end.x, end.y),\n    ].join(' ')\n}\n","import { Arc, DatumWithArc } from './types'\nimport { useMemo } from 'react'\n\nexport interface ArcTransitionModeConfig {\n    enter: (arc: Arc) => Arc\n    update: (arc: Arc) => Arc\n    leave: (arc: Arc) => Arc\n}\n\nexport const arcTransitionModes = [\n    'startAngle',\n    'middleAngle',\n    'endAngle',\n    'innerRadius',\n    'centerRadius',\n    'outerRadius',\n    'pushIn',\n    'pushOut',\n] as const\nexport type ArcTransitionMode = typeof arcTransitionModes[number]\n\nexport const arcTransitionModeById: Record<ArcTransitionMode, ArcTransitionModeConfig> = {\n    startAngle: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            endAngle: arc.startAngle,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            startAngle: arc.endAngle,\n        }),\n    },\n    middleAngle: {\n        enter: (arc: Arc) => {\n            const middleAngle = arc.startAngle + (arc.endAngle - arc.startAngle) / 2\n\n            return {\n                ...arc,\n                startAngle: middleAngle,\n                endAngle: middleAngle,\n            }\n        },\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => {\n            const middleAngle = arc.startAngle + (arc.endAngle - arc.startAngle) / 2\n\n            return {\n                ...arc,\n                startAngle: middleAngle,\n                endAngle: middleAngle,\n            }\n        },\n    },\n    endAngle: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            startAngle: arc.endAngle,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            endAngle: arc.startAngle,\n        }),\n    },\n    innerRadius: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            outerRadius: arc.innerRadius,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.outerRadius,\n        }),\n    },\n    centerRadius: {\n        enter: (arc: Arc) => {\n            const centerRadius = arc.innerRadius + (arc.outerRadius - arc.innerRadius) / 2\n\n            return {\n                ...arc,\n                innerRadius: centerRadius,\n                outerRadius: centerRadius,\n            }\n        },\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => {\n            const centerRadius = arc.innerRadius + (arc.outerRadius - arc.innerRadius) / 2\n\n            return {\n                ...arc,\n                innerRadius: centerRadius,\n                outerRadius: centerRadius,\n            }\n        },\n    },\n    outerRadius: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.outerRadius,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            outerRadius: arc.innerRadius,\n        }),\n    },\n    pushIn: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.innerRadius - arc.outerRadius + arc.innerRadius,\n            outerRadius: arc.innerRadius,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.outerRadius,\n            outerRadius: arc.outerRadius + arc.outerRadius - arc.innerRadius,\n        }),\n    },\n    pushOut: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.outerRadius,\n            outerRadius: arc.outerRadius + arc.outerRadius - arc.innerRadius,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.innerRadius - arc.outerRadius + arc.innerRadius,\n            outerRadius: arc.innerRadius,\n        }),\n    },\n}\n\nexport interface TransitionExtra<Datum extends DatumWithArc, ExtraProps> {\n    enter: (datum: Datum) => ExtraProps\n    update: (datum: Datum) => ExtraProps\n    leave: (datum: Datum) => ExtraProps\n}\n\nexport const useArcTransitionMode = <Datum extends DatumWithArc, ExtraProps>(\n    mode: ArcTransitionMode,\n    extraTransition?: TransitionExtra<Datum, ExtraProps>\n) =>\n    useMemo(() => {\n        const transitionMode = arcTransitionModeById[mode]\n\n        return {\n            enter: (datum: Datum) => ({\n                progress: 0,\n                ...transitionMode.enter(datum.arc),\n                ...(extraTransition ? extraTransition.enter(datum) : {}),\n            }),\n            update: (datum: Datum) => ({\n                progress: 1,\n                ...transitionMode.update(datum.arc),\n                ...(extraTransition ? extraTransition.update(datum) : {}),\n            }),\n            leave: (datum: Datum) => ({\n                progress: 0,\n                ...transitionMode.leave(datum.arc),\n                ...(extraTransition ? extraTransition.leave(datum) : {}),\n            }),\n        }\n    }, [mode, extraTransition])\n","import { useMemo } from 'react'\nimport { useTransition, to, SpringValue } from '@react-spring/web'\nimport {\n    // @ts-ignore\n    midAngle,\n    positionFromAngle,\n    useMotionConfig,\n} from '@nivo/core'\nimport { Arc, DatumWithArc, Point } from './types'\nimport { filterDataBySkipAngle } from './utils'\nimport { ArcTransitionMode, TransitionExtra, useArcTransitionMode } from './arcTransitionMode'\n\nexport const computeArcCenter = (arc: Arc, offset: number): Point => {\n    const angle = midAngle(arc) - Math.PI / 2\n    const radius = arc.innerRadius + (arc.outerRadius - arc.innerRadius) * offset\n\n    return positionFromAngle(angle, radius)\n}\n\nexport const interpolateArcCenter = (offset: number) => (\n    startAngleValue: SpringValue<number>,\n    endAngleValue: SpringValue<number>,\n    innerRadiusValue: SpringValue<number>,\n    outerRadiusValue: SpringValue<number>\n) =>\n    to(\n        [startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue],\n        (startAngle, endAngle, innerRadius, outerRadius) => {\n            const centroid = computeArcCenter(\n                { startAngle, endAngle, innerRadius, outerRadius },\n                offset\n            )\n\n            return `translate(${centroid.x},${centroid.y})`\n        }\n    )\n\nexport const useArcCentersTransition = <Datum extends DatumWithArc, ExtraProps = unknown>(\n    data: Datum[],\n    // define where the centers should be placed,\n    // 0.0: inner radius\n    // 0.5: center\n    // 1.0: outer radius\n    offset = 0.5,\n    mode: ArcTransitionMode = 'innerRadius',\n    extra?: TransitionExtra<Datum, ExtraProps>\n) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const phases = useArcTransitionMode<Datum, ExtraProps>(mode, extra)\n\n    const transition = useTransition<\n        Datum,\n        {\n            progress: number\n            startAngle: number\n            endAngle: number\n            innerRadius: number\n            outerRadius: number\n        } & ExtraProps\n    >(data, {\n        keys: datum => datum.id,\n        initial: phases.update,\n        from: phases.enter,\n        enter: phases.update,\n        update: phases.update,\n        leave: phases.leave,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return {\n        transition,\n        interpolate: interpolateArcCenter(offset),\n    }\n}\n\nexport interface ArcCenter<Datum extends DatumWithArc> extends Point {\n    data: Datum\n}\n\n/**\n * Compute an array of arc centers from an array of data containing arcs.\n *\n * If you plan to animate those, you could use `useArcCentersTransition`\n * instead, you could use the returned array with react-spring `useTransition`,\n * but this would lead to cartesian transitions (x/y), while `useArcCentersTransition`\n * will generate proper transitions using radius/angle.\n */\nexport const useArcCenters = <\n    Datum extends DatumWithArc,\n    ExtraProps extends Record<string, any> = Record<string, any>\n>({\n    data,\n    offset = 0.5,\n    skipAngle = 0,\n    computeExtraProps = () => ({} as ExtraProps),\n}: {\n    data: Datum[]\n    // define where the centers should be placed,\n    // 0.0: inner radius\n    // 0.5: center\n    // 1.0: outer radius\n    offset?: number\n    // arcs with a length below this (end angle - start angle in degrees)\n    // are going to be excluded, this can typically be used to avoid having\n    // overlapping labels.\n    skipAngle?: number\n    // this can be used to append extra properties to the centers,\n    // can be used to compute a color/label for example.\n    computeExtraProps?: (datum: Datum) => ExtraProps\n}): (ArcCenter<Datum> & ExtraProps)[] =>\n    useMemo(\n        () =>\n            filterDataBySkipAngle<Datum>(data, skipAngle)\n                // compute position and extra props for each eligible datum\n                .map(datum => {\n                    const position = computeArcCenter(datum.arc, offset)\n\n                    return {\n                        ...computeExtraProps(datum),\n                        x: position.x,\n                        y: position.y,\n                        data: datum,\n                    }\n                }),\n        [data, offset, skipAngle, computeExtraProps]\n    )\n","import { CSSProperties } from 'react'\nimport { SpringValue, Interpolation, animated } from '@react-spring/web'\nimport { useTheme } from '@nivo/core'\nimport { DatumWithArcAndColor } from '../types'\n\nconst staticStyle: CSSProperties = {\n    pointerEvents: 'none',\n}\n\nexport interface ArcLabelProps<Datum extends DatumWithArcAndColor> {\n    datum: Datum\n    label: string\n    style: {\n        progress: SpringValue<number>\n        transform: Interpolation<string>\n        textColor: string\n    }\n}\n\nexport const ArcLabel = <Datum extends DatumWithArcAndColor>({\n    label,\n    style,\n}: ArcLabelProps<Datum>) => {\n    const theme = useTheme()\n\n    return (\n        <animated.g transform={style.transform} opacity={style.progress} style={staticStyle}>\n            <animated.text\n                textAnchor=\"middle\"\n                dominantBaseline=\"central\"\n                style={{\n                    ...theme.labels.text,\n                    fill: style.textColor,\n                }}\n            >\n                {label}\n            </animated.text>\n        </animated.g>\n    )\n}\n","import { createElement, useMemo } from 'react'\nimport { PropertyAccessor, usePropertyAccessor, radiansToDegrees, useTheme } from '@nivo/core'\nimport { useInheritedColor } from '@nivo/colors'\nimport { useArcCentersTransition } from '../centers'\nimport { ArcTransitionMode } from '../arcTransitionMode'\nimport { DatumWithArcAndColor } from '../types'\nimport { ArcLabelsProps } from './props'\nimport { ArcLabel, ArcLabelProps } from './ArcLabel'\n\nexport type ArcLabelComponent<Datum extends DatumWithArcAndColor> = (\n    props: ArcLabelProps<Datum>\n) => JSX.Element\n\ninterface ArcLabelsLayerProps<Datum extends DatumWithArcAndColor> {\n    center: [number, number]\n    data: Datum[]\n    label: PropertyAccessor<Datum, string>\n    radiusOffset: ArcLabelsProps<Datum>['arcLabelsRadiusOffset']\n    skipAngle: ArcLabelsProps<Datum>['arcLabelsSkipAngle']\n    textColor: ArcLabelsProps<Datum>['arcLabelsTextColor']\n    transitionMode: ArcTransitionMode\n    component?: ArcLabelsProps<Datum>['arcLabelsComponent']\n}\n\nexport const ArcLabelsLayer = <Datum extends DatumWithArcAndColor>({\n    center,\n    data,\n    transitionMode,\n    label: labelAccessor,\n    radiusOffset,\n    skipAngle,\n    textColor,\n    component = ArcLabel,\n}: ArcLabelsLayerProps<Datum>) => {\n    const getLabel = usePropertyAccessor<Datum, string>(labelAccessor)\n    const theme = useTheme()\n    const getTextColor = useInheritedColor<Datum>(textColor, theme)\n\n    const filteredData = useMemo(\n        () =>\n            data.filter(datum => {\n                return (\n                    Math.abs(radiansToDegrees(datum.arc.endAngle - datum.arc.startAngle)) >=\n                    skipAngle\n                )\n            }),\n        [data, skipAngle]\n    )\n\n    const { transition, interpolate } = useArcCentersTransition<Datum>(\n        filteredData,\n        radiusOffset,\n        transitionMode\n    )\n\n    const Label: ArcLabelComponent<Datum> = component\n\n    return (\n        <g transform={`translate(${center[0]},${center[1]})`}>\n            {transition((transitionProps, datum) => {\n                return createElement(Label, {\n                    key: datum.id,\n                    datum,\n                    label: getLabel(datum),\n                    style: {\n                        ...transitionProps,\n                        transform: interpolate(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius\n                        ),\n                        textColor: getTextColor(datum),\n                    },\n                })\n            })}\n        </g>\n    )\n}\n","import { CompleteTheme } from '@nivo/core'\nimport { DatumWithArcAndColor } from '../types'\nimport { ArcLabel } from './useArcLabels'\n\nexport const drawCanvasArcLabels = <Datum extends DatumWithArcAndColor>(\n    ctx: CanvasRenderingContext2D,\n    labels: ArcLabel<Datum>[],\n    theme: CompleteTheme\n) => {\n    ctx.textAlign = 'center'\n    ctx.textBaseline = 'middle'\n    ctx.font = `${theme.labels.text.fontSize}px ${theme.labels.text.fontFamily}`\n\n    labels.forEach(label => {\n        ctx.fillStyle = label.textColor\n        ctx.fillText(`${label.label}`, label.x, label.y)\n    })\n}\n","import { useCallback } from 'react'\nimport { PropertyAccessor, usePropertyAccessor, useTheme } from '@nivo/core'\nimport { InheritedColorConfig, useInheritedColor } from '@nivo/colors'\nimport { DatumWithArcAndColor } from '../types'\nimport { useArcCenters, ArcCenter } from '../centers'\n\nexport interface ArcLabel<Datum extends DatumWithArcAndColor> extends ArcCenter<Datum> {\n    label: string\n    textColor: string\n}\n\n/**\n * Compute arc labels, please note that the datum should\n * contain a color in order to be able to compute the label text color.\n *\n * Please see `useArcCenters` for a more detailed explanation\n * about the parameters.\n */\nexport const useArcLabels = <Datum extends DatumWithArcAndColor>({\n    data,\n    offset,\n    skipAngle,\n    label,\n    textColor,\n}: {\n    data: Datum[]\n    offset?: number\n    skipAngle?: number\n    label: PropertyAccessor<Datum, string>\n    textColor: InheritedColorConfig<Datum>\n}) => {\n    const getLabel = usePropertyAccessor<Datum, string>(label)\n\n    const theme = useTheme()\n    const getTextColor = useInheritedColor<Datum>(textColor, theme)\n\n    const computeExtraProps = useCallback(\n        (datum: Datum) => {\n            return {\n                label: getLabel(datum),\n                textColor: getTextColor(datum),\n            }\n        },\n        [getLabel, getTextColor]\n    )\n\n    return useArcCenters<Datum, Omit<ArcLabel<Datum>, keyof ArcCenter<Datum>>>({\n        data,\n        offset,\n        skipAngle,\n        computeExtraProps,\n    })\n}\n","import { positionFromAngle } from '@nivo/core'\nimport { Arc, Point } from '../types'\nimport { getNormalizedAngle } from '../utils'\nimport { ArcLink } from './types'\n\n/**\n * Compute text anchor for a given arc.\n *\n * `computeArcLink` already computes a `side`, but when using\n * `react-spring`, you cannot have a single interpolation\n * returning several output values, so we need to compute\n * them in separate interpolations.\n */\nexport const computeArcLinkTextAnchor = (arc: Arc): 'start' | 'end' => {\n    const centerAngle = getNormalizedAngle(\n        arc.startAngle + (arc.endAngle - arc.startAngle) / 2 - Math.PI / 2\n    )\n\n    if (centerAngle < Math.PI / 2 || centerAngle > Math.PI * 1.5) {\n        return 'start'\n    }\n\n    return 'end'\n}\n\n/**\n * Compute the link of a single arc, returning its points,\n * please note that points coordinates are relative to\n * the center of the arc.\n */\nexport const computeArcLink = (\n    arc: Arc,\n    offset: number,\n    diagonalLength: number,\n    straightLength: number\n): ArcLink => {\n    const centerAngle = getNormalizedAngle(\n        arc.startAngle + (arc.endAngle - arc.startAngle) / 2 - Math.PI / 2\n    )\n    const point0: Point = positionFromAngle(centerAngle, arc.outerRadius + offset)\n    const point1: Point = positionFromAngle(centerAngle, arc.outerRadius + offset + diagonalLength)\n\n    let side: ArcLink['side']\n    let point2: Point\n    if (centerAngle < Math.PI / 2 || centerAngle > Math.PI * 1.5) {\n        side = 'after'\n        point2 = {\n            x: point1.x + straightLength,\n            y: point1.y,\n        }\n    } else {\n        side = 'before'\n        point2 = {\n            x: point1.x - straightLength,\n            y: point1.y,\n        }\n    }\n\n    return {\n        side,\n        points: [point0, point1, point2],\n    }\n}\n","import { useMemo } from 'react'\nimport { SpringValue, useTransition, to } from '@react-spring/web'\nimport { line } from 'd3-shape'\nimport { useMotionConfig, useTheme } from '@nivo/core'\nimport { InheritedColorConfig, useInheritedColor } from '@nivo/colors'\nimport { DatumWithArcAndColor, Point } from '../types'\nimport { useFilteredDataBySkipAngle } from '../utils'\nimport { computeArcLink, computeArcLinkTextAnchor } from './compute'\n\nconst lineGenerator = line<Point>()\n    .x(d => d.x)\n    .y(d => d.y)\n\ntype AnimatedProps = {\n    startAngle: number\n    endAngle: number\n    innerRadius: number\n    outerRadius: number\n    offset: number\n    diagonalLength: number\n    straightLength: number\n    textOffset: number\n    linkColor: string\n    textColor: string\n    opacity: number\n}\n\nconst useTransitionPhases = <Datum extends DatumWithArcAndColor>({\n    offset,\n    diagonalLength,\n    straightLength,\n    textOffset,\n    getLinkColor,\n    getTextColor,\n}: Pick<AnimatedProps, 'offset' | 'diagonalLength' | 'straightLength' | 'textOffset'> & {\n    getLinkColor: (datum: Datum) => string\n    getTextColor: (datum: Datum) => string\n}): Record<'enter' | 'update' | 'leave', (datum: Datum) => AnimatedProps> =>\n    useMemo(\n        () => ({\n            enter: (datum: Datum) => ({\n                startAngle: datum.arc.startAngle,\n                endAngle: datum.arc.endAngle,\n                innerRadius: datum.arc.innerRadius,\n                outerRadius: datum.arc.outerRadius,\n                offset,\n                diagonalLength: 0,\n                straightLength: 0,\n                textOffset,\n                linkColor: getLinkColor(datum),\n                textColor: getTextColor(datum),\n                opacity: 0,\n            }),\n            update: (d: Datum) => ({\n                startAngle: d.arc.startAngle,\n                endAngle: d.arc.endAngle,\n                innerRadius: d.arc.innerRadius,\n                outerRadius: d.arc.outerRadius,\n                offset,\n                diagonalLength,\n                straightLength,\n                textOffset,\n                linkColor: getLinkColor(d),\n                textColor: getTextColor(d),\n                opacity: 1,\n            }),\n            leave: (d: Datum) => ({\n                startAngle: d.arc.startAngle,\n                endAngle: d.arc.endAngle,\n                innerRadius: d.arc.innerRadius,\n                outerRadius: d.arc.outerRadius,\n                offset,\n                diagonalLength: 0,\n                straightLength: 0,\n                textOffset,\n                linkColor: getLinkColor(d),\n                textColor: getTextColor(d),\n                opacity: 0,\n            }),\n        }),\n        [diagonalLength, straightLength, textOffset, getLinkColor, getTextColor]\n    )\n\nconst interpolateLink = (\n    startAngleValue: SpringValue<AnimatedProps['startAngle']>,\n    endAngleValue: SpringValue<AnimatedProps['endAngle']>,\n    innerRadiusValue: SpringValue<AnimatedProps['innerRadius']>,\n    outerRadiusValue: SpringValue<AnimatedProps['outerRadius']>,\n    offsetValue: SpringValue<AnimatedProps['offset']>,\n    diagonalLengthValue: SpringValue<AnimatedProps['diagonalLength']>,\n    straightLengthValue: SpringValue<AnimatedProps['straightLength']>\n) =>\n    to(\n        [\n            startAngleValue,\n            endAngleValue,\n            innerRadiusValue,\n            outerRadiusValue,\n            offsetValue,\n            diagonalLengthValue,\n            straightLengthValue,\n        ],\n        (\n            startAngle,\n            endAngle,\n            innerRadius,\n            outerRadius,\n            offset,\n            diagonalLengthAnimated,\n            straightLengthAnimated\n        ) => {\n            const { points } = computeArcLink(\n                {\n                    startAngle,\n                    endAngle,\n                    innerRadius,\n                    outerRadius,\n                },\n                offset,\n                diagonalLengthAnimated,\n                straightLengthAnimated\n            )\n\n            return lineGenerator(points)\n        }\n    )\n\nconst interpolateTextAnchor = (\n    startAngleValue: SpringValue<AnimatedProps['startAngle']>,\n    endAngleValue: SpringValue<AnimatedProps['endAngle']>,\n    innerRadiusValue: SpringValue<AnimatedProps['innerRadius']>,\n    outerRadiusValue: SpringValue<AnimatedProps['outerRadius']>\n) =>\n    to(\n        [startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue],\n        (startAngle, endAngle, innerRadius, outerRadius) => {\n            return computeArcLinkTextAnchor({\n                startAngle,\n                endAngle,\n                innerRadius,\n                outerRadius,\n            })\n        }\n    )\n\n/**\n * Interpolating the text position involves almost the same computation\n * as `interpolateLink`, unfortunately `react-spring` does not support\n * multiple output values from a single interpolation.\n *\n * We should revise this if `react-spring` adds this feature at some point.\n */\nconst interpolateTextPosition = (\n    startAngleValue: SpringValue<AnimatedProps['startAngle']>,\n    endAngleValue: SpringValue<AnimatedProps['endAngle']>,\n    innerRadiusValue: SpringValue<AnimatedProps['innerRadius']>,\n    outerRadiusValue: SpringValue<AnimatedProps['outerRadius']>,\n    offsetValue: SpringValue<AnimatedProps['offset']>,\n    diagonalLengthValue: SpringValue<AnimatedProps['diagonalLength']>,\n    straightLengthValue: SpringValue<AnimatedProps['straightLength']>,\n    textOffsetValue: SpringValue<AnimatedProps['textOffset']>\n) =>\n    to(\n        [\n            startAngleValue,\n            endAngleValue,\n            innerRadiusValue,\n            outerRadiusValue,\n            offsetValue,\n            diagonalLengthValue,\n            straightLengthValue,\n            textOffsetValue,\n        ],\n        (\n            startAngle,\n            endAngle,\n            innerRadius,\n            outerRadius,\n            offset,\n            diagonalLengthAnimated,\n            straightLengthAnimated,\n            textOffset\n        ) => {\n            const { points, side } = computeArcLink(\n                {\n                    startAngle,\n                    endAngle,\n                    innerRadius,\n                    outerRadius,\n                },\n                offset,\n                diagonalLengthAnimated,\n                straightLengthAnimated\n            )\n\n            const position = points[2]\n            if (side === 'before') {\n                position.x -= textOffset\n            } else {\n                position.x += textOffset\n            }\n\n            return `translate(${position.x},${position.y})`\n        }\n    )\n\n/**\n * This hook can be used to animate a group of arc link labels,\n * if you just want to compute the labels, please use `useArcLinkLabels`.\n */\nexport const useArcLinkLabelsTransition = <Datum extends DatumWithArcAndColor>({\n    data,\n    offset = 0,\n    diagonalLength,\n    straightLength,\n    skipAngle = 0,\n    textOffset,\n    linkColor,\n    textColor,\n}: {\n    data: Datum[]\n    offset?: number\n    diagonalLength: number\n    straightLength: number\n    skipAngle?: number\n    textOffset: number\n    linkColor: InheritedColorConfig<Datum>\n    textColor: InheritedColorConfig<Datum>\n}) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const theme = useTheme()\n    const getLinkColor = useInheritedColor<Datum>(linkColor, theme)\n    const getTextColor = useInheritedColor<Datum>(textColor, theme)\n\n    const filteredData = useFilteredDataBySkipAngle<Datum>(data, skipAngle)\n    const transitionPhases = useTransitionPhases<Datum>({\n        offset,\n        diagonalLength,\n        straightLength,\n        textOffset,\n        getLinkColor,\n        getTextColor,\n    })\n\n    const transition = useTransition<Datum, AnimatedProps>(filteredData, {\n        keys: datum => datum.id,\n        initial: transitionPhases.update,\n        from: transitionPhases.enter,\n        enter: transitionPhases.update,\n        update: transitionPhases.update,\n        leave: transitionPhases.leave,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return {\n        transition,\n        interpolateLink,\n        interpolateTextAnchor,\n        interpolateTextPosition,\n    }\n}\n","import { useTheme } from '@nivo/core'\nimport { SpringValue, Interpolation, animated } from '@react-spring/web'\nimport { DatumWithArcAndColor } from '../types'\n\nexport interface ArcLinkLabelProps<Datum extends DatumWithArcAndColor> {\n    datum: Datum\n    label: string\n    style: {\n        path: Interpolation<string>\n        thickness: number\n        textPosition: Interpolation<string>\n        textAnchor: Interpolation<'start' | 'end'>\n        linkColor: SpringValue<string>\n        opacity: SpringValue<number>\n        textColor: SpringValue<string>\n    }\n}\n\nexport const ArcLinkLabel = <Datum extends DatumWithArcAndColor>({\n    label,\n    style,\n}: ArcLinkLabelProps<Datum>) => {\n    const theme = useTheme()\n\n    return (\n        <animated.g opacity={style.opacity}>\n            <animated.path\n                fill=\"none\"\n                stroke={style.linkColor}\n                strokeWidth={style.thickness}\n                d={style.path}\n            />\n            <animated.text\n                transform={style.textPosition}\n                textAnchor={style.textAnchor}\n                dominantBaseline=\"central\"\n                style={{\n                    ...theme.labels.text,\n                    fill: style.textColor,\n                }}\n            >\n                {label}\n            </animated.text>\n        </animated.g>\n    )\n}\n","import { createElement } from 'react'\nimport { usePropertyAccessor } from '@nivo/core'\nimport { DatumWithArcAndColor } from '../types'\nimport { useArcLinkLabelsTransition } from './useArcLinkLabelsTransition'\nimport { ArcLinkLabelsProps } from './props'\nimport { ArcLinkLabel, ArcLinkLabelProps } from './ArcLinkLabel'\n\nexport type ArcLinkLabelComponent<Datum extends DatumWithArcAndColor> = (\n    props: ArcLinkLabelProps<Datum>\n) => JSX.Element\n\ninterface ArcLinkLabelsLayerProps<Datum extends DatumWithArcAndColor> {\n    center: [number, number]\n    data: Datum[]\n    label: ArcLinkLabelsProps<Datum>['arcLinkLabel']\n    skipAngle: ArcLinkLabelsProps<Datum>['arcLinkLabelsSkipAngle']\n    offset: ArcLinkLabelsProps<Datum>['arcLinkLabelsOffset']\n    diagonalLength: ArcLinkLabelsProps<Datum>['arcLinkLabelsDiagonalLength']\n    straightLength: ArcLinkLabelsProps<Datum>['arcLinkLabelsStraightLength']\n    strokeWidth: ArcLinkLabelsProps<Datum>['arcLinkLabelsThickness']\n    textOffset: ArcLinkLabelsProps<Datum>['arcLinkLabelsTextOffset']\n    textColor: ArcLinkLabelsProps<Datum>['arcLinkLabelsTextColor']\n    linkColor: ArcLinkLabelsProps<Datum>['arcLinkLabelsColor']\n    component?: ArcLinkLabelComponent<Datum>\n}\n\nexport const ArcLinkLabelsLayer = <Datum extends DatumWithArcAndColor>({\n    center,\n    data,\n    label: labelAccessor,\n    skipAngle,\n    offset,\n    diagonalLength,\n    straightLength,\n    strokeWidth,\n    textOffset,\n    textColor,\n    linkColor,\n    component = ArcLinkLabel,\n}: ArcLinkLabelsLayerProps<Datum>) => {\n    const getLabel = usePropertyAccessor<Datum, string>(labelAccessor)\n\n    const {\n        transition,\n        interpolateLink,\n        interpolateTextAnchor,\n        interpolateTextPosition,\n    } = useArcLinkLabelsTransition<Datum>({\n        data,\n        skipAngle,\n        offset,\n        diagonalLength,\n        straightLength,\n        textOffset,\n        linkColor,\n        textColor,\n    })\n\n    const Label: ArcLinkLabelComponent<Datum> = component\n\n    return (\n        <g transform={`translate(${center[0]},${center[1]})`}>\n            {transition((transitionProps, datum) => {\n                return createElement(Label, {\n                    key: datum.id,\n                    datum,\n                    label: getLabel(datum),\n                    style: {\n                        ...transitionProps,\n                        thickness: strokeWidth,\n                        path: interpolateLink(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius,\n                            transitionProps.offset,\n                            transitionProps.diagonalLength,\n                            transitionProps.straightLength\n                        ),\n                        textAnchor: interpolateTextAnchor(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius\n                        ),\n                        textPosition: interpolateTextPosition(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius,\n                            transitionProps.offset,\n                            transitionProps.diagonalLength,\n                            transitionProps.straightLength,\n                            transitionProps.textOffset\n                        ),\n                    },\n                })\n            })}\n        </g>\n    )\n}\n","import {\n    // @ts-ignore\n    textPropsByEngine,\n    CompleteTheme,\n} from '@nivo/core'\nimport { DatumWithArcAndColor } from '../types'\nimport { ArcLinkLabel } from './types'\n\nexport const drawCanvasArcLinkLabels = <Datum extends DatumWithArcAndColor>(\n    ctx: CanvasRenderingContext2D,\n    labels: ArcLinkLabel<Datum>[],\n    theme: CompleteTheme,\n    strokeWidth: number\n) => {\n    ctx.textBaseline = 'middle'\n    ctx.font = `${theme.labels.text.fontSize}px ${theme.labels.text.fontFamily}`\n\n    labels.forEach(label => {\n        ctx.fillStyle = label.textColor\n        ctx.textAlign = textPropsByEngine.canvas.align[label.textAnchor]\n        ctx.fillText(`${label.label}`, label.x, label.y)\n\n        ctx.beginPath()\n        ctx.strokeStyle = label.linkColor\n        ctx.lineWidth = strokeWidth\n        label.points.forEach((point, index) => {\n            if (index === 0) ctx.moveTo(point.x, point.y)\n            else ctx.lineTo(point.x, point.y)\n        })\n        ctx.stroke()\n    })\n}\n","import { useMemo } from 'react'\nimport { radiansToDegrees } from '@nivo/core'\nimport { DatumWithArc } from '../types'\nimport { ArcLinkWithDatum } from './types'\nimport { computeArcLink } from './compute'\n\n/**\n * Compute links for an array of data containing arcs.\n *\n * This is typically used to create labels for arcs,\n * and it's used for the `useArcLinkLabels` hook.\n */\nexport const useArcLinks = <\n    Datum extends DatumWithArc,\n    ExtraProps extends Record<string, any> = Record<string, any>\n>({\n    data,\n    skipAngle = 0,\n    offset = 0.5,\n    diagonalLength,\n    straightLength,\n    computeExtraProps = () => ({} as ExtraProps),\n}: {\n    data: Datum[]\n    // arcs with a length below this (end angle - start angle in degrees)\n    // are going to be excluded, this can typically be used to avoid having\n    // overlapping labels.\n    skipAngle?: number\n    // offset from arc outer radius in pixels\n    offset?: number\n    // length of the diagonal segment of the link\n    diagonalLength: number\n    // length of the straight segment of the link\n    straightLength: number\n    // this can be used to append extra properties to the links,\n    // can be used to compute a color/label for example.\n    computeExtraProps?: (datum: ArcLinkWithDatum<Datum>) => ExtraProps\n}): (ArcLinkWithDatum<Datum> & ExtraProps)[] => {\n    const links = useMemo(\n        () =>\n            data\n                // filter out arcs with a length below `skipAngle`\n                .filter(\n                    datum =>\n                        Math.abs(radiansToDegrees(datum.arc.endAngle - datum.arc.startAngle)) >=\n                        skipAngle\n                )\n                // compute the link for each eligible arc\n                .map(datum => ({\n                    ...computeArcLink(datum.arc, offset, diagonalLength, straightLength),\n                    data: datum,\n                })),\n        [data, skipAngle, offset, diagonalLength, straightLength]\n    )\n\n    // splitting memoization of links and extra props can be more efficient,\n    // this way if only `computeExtraProps` changes, we skip links computation.\n    return useMemo(\n        () =>\n            links.map(link => ({\n                ...computeExtraProps(link),\n                ...link,\n            })),\n        [links, computeExtraProps]\n    )\n}\n","import { useCallback } from 'react'\nimport { PropertyAccessor, usePropertyAccessor, useTheme } from '@nivo/core'\nimport { InheritedColorConfig, useInheritedColor } from '@nivo/colors'\nimport { DatumWithArcAndColor } from '../types'\nimport { ArcLinkWithDatum, ArcLinkLabel } from './types'\nimport { useArcLinks } from './useArcLinks'\n\n/**\n * Compute arc link labels, please note that the datum should\n * contain a color in order to be able to compute the link/label text color.\n *\n * Please see `useArcLinks` for a more detailed explanation\n * about the parameters.\n */\nexport const useArcLinkLabels = <Datum extends DatumWithArcAndColor>({\n    data,\n    skipAngle,\n    offset,\n    diagonalLength,\n    straightLength,\n    textOffset = 0,\n    label,\n    linkColor,\n    textColor,\n}: {\n    data: Datum[]\n    skipAngle?: number\n    offset?: number\n    diagonalLength: number\n    straightLength: number\n    textOffset: number\n    label: PropertyAccessor<Datum, string>\n    linkColor: InheritedColorConfig<Datum>\n    textColor: InheritedColorConfig<Datum>\n}) => {\n    const getLabel = usePropertyAccessor<Datum, string>(label)\n\n    const theme = useTheme()\n    const getLinkColor = useInheritedColor<Datum>(linkColor, theme)\n    const getTextColor = useInheritedColor<Datum>(textColor, theme)\n\n    const computeExtraProps = useCallback(\n        (link: ArcLinkWithDatum<Datum>) => {\n            const position = {\n                x: link.points[2].x,\n                y: link.points[2].y,\n            }\n            let textAnchor: ArcLinkLabel<Datum>['textAnchor']\n            if (link.side === 'before') {\n                position.x -= textOffset\n                textAnchor = 'end'\n            } else {\n                position.x += textOffset\n                textAnchor = 'start'\n            }\n\n            return {\n                ...position,\n                label: getLabel(link.data),\n                linkColor: getLinkColor(link.data),\n                textAnchor,\n                textColor: getTextColor(link.data),\n            }\n        },\n        [getLabel, getLinkColor, getTextColor, textOffset]\n    )\n\n    return useArcLinks<Datum, Omit<ArcLinkLabel<Datum>, keyof ArcLinkWithDatum<Datum>>>({\n        data,\n        skipAngle,\n        offset,\n        diagonalLength,\n        straightLength,\n        computeExtraProps,\n    })\n}\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import { animated, to, AnimatedProps } from '@react-spring/web'\nimport { ExtractProps } from '@nivo/core'\nimport { generateSvgArc } from './utils'\n\ntype ArcLineProps = {\n    animated: AnimatedProps<{\n        radius: number\n        startAngle: number\n        endAngle: number\n        opacity: number\n    }>\n} & ExtractProps<typeof animated.path>\n\nexport const ArcLine = ({ animated: animatedProps, ...rest }: ArcLineProps) => (\n    <animated.path\n        d={to(\n            [animatedProps.radius, animatedProps.startAngle, animatedProps.endAngle],\n            (radius, start, end) => generateSvgArc(radius, start, end)\n        )}\n        {...rest}\n    />\n)\n","import { useCallback } from 'react'\nimport * as React from 'react'\nimport { SpringValue, Interpolation, animated } from '@react-spring/web'\nimport { DatumWithArcAndColor } from './types'\n\nexport type ArcMouseHandler<Datum extends DatumWithArcAndColor> = (\n    datum: Datum,\n    event: React.MouseEvent<SVGPathElement>\n) => void\n\nexport interface ArcShapeProps<Datum extends DatumWithArcAndColor> {\n    datum: Datum\n    style: {\n        opacity: SpringValue<number>\n        color: SpringValue<string>\n        borderWidth: number\n        borderColor: SpringValue<string>\n        path: Interpolation<string>\n    }\n    onClick?: ArcMouseHandler<Datum>\n    onMouseEnter?: ArcMouseHandler<Datum>\n    onMouseMove?: ArcMouseHandler<Datum>\n    onMouseLeave?: ArcMouseHandler<Datum>\n}\n\n/**\n * A simple arc component to be used typically with an `ArcsLayer`.\n *\n * Please note that the component accepts `SpringValue`s instead of\n * regular values to support animations.\n */\nexport const ArcShape = <Datum extends DatumWithArcAndColor>({\n    datum,\n    style,\n    onClick,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n}: ArcShapeProps<Datum>) => {\n    const handleClick = useCallback(event => onClick?.(datum, event), [onClick, datum])\n\n    const handleMouseEnter = useCallback(event => onMouseEnter?.(datum, event), [\n        onMouseEnter,\n        datum,\n    ])\n\n    const handleMouseMove = useCallback(event => onMouseMove?.(datum, event), [onMouseMove, datum])\n\n    const handleMouseLeave = useCallback(event => onMouseLeave?.(datum, event), [\n        onMouseLeave,\n        datum,\n    ])\n\n    return (\n        <animated.path\n            d={style.path}\n            opacity={style.opacity}\n            fill={datum.fill || style.color}\n            stroke={style.borderColor}\n            strokeWidth={style.borderWidth}\n            onClick={onClick ? handleClick : undefined}\n            onMouseEnter={onMouseEnter ? handleMouseEnter : undefined}\n            onMouseMove={onMouseMove ? handleMouseMove : undefined}\n            onMouseLeave={onMouseLeave ? handleMouseLeave : undefined}\n        />\n    )\n}\n","import { to, SpringValue } from '@react-spring/web'\nimport { ArcGenerator } from './types'\n\n/**\n * Directly animating paths for arcs leads to sub-optimal results\n * as the interpolation is going to be linear while we deal with polar coordinates,\n * this interpolator is going to generate proper arc transitions.\n * It should be used with the `useAnimatedArc` or `useArcsTransition` hooks.\n */\nexport const interpolateArc = (\n    startAngleValue: SpringValue<number>,\n    endAngleValue: SpringValue<number>,\n    innerRadiusValue: SpringValue<number>,\n    outerRadiusValue: SpringValue<number>,\n    arcGenerator: ArcGenerator\n) =>\n    to(\n        [startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue],\n        (startAngle, endAngle, innerRadius, outerRadius) => {\n            return arcGenerator({\n                startAngle,\n                endAngle,\n                innerRadius: Math.max(0, innerRadius),\n                outerRadius: Math.max(0, outerRadius),\n            })\n        }\n    )\n","import { useTransition } from '@react-spring/web'\nimport { useMotionConfig } from '@nivo/core'\nimport { DatumWithArc } from './types'\nimport { ArcTransitionMode, useArcTransitionMode, TransitionExtra } from './arcTransitionMode'\nimport { interpolateArc } from './interpolateArc'\n\n/**\n * This hook can be used to animate a group of arcs,\n * if you want to animate a single arc,\n * please have a look at the `useAnimatedArc` hook.\n */\nexport const useArcsTransition = <Datum extends DatumWithArc, ExtraProps = unknown>(\n    data: Datum[],\n    mode: ArcTransitionMode = 'innerRadius',\n    extra?: TransitionExtra<Datum, ExtraProps>\n) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const phases = useArcTransitionMode<Datum, ExtraProps>(mode, extra)\n\n    const transition = useTransition<\n        Datum,\n        {\n            progress: number\n            startAngle: number\n            endAngle: number\n            innerRadius: number\n            outerRadius: number\n        } & ExtraProps\n    >(data, {\n        keys: datum => datum.id,\n        initial: phases.update,\n        from: phases.enter,\n        enter: phases.update,\n        update: phases.update,\n        leave: phases.leave,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return {\n        transition,\n        interpolate: interpolateArc,\n    }\n}\n","import { createElement } from 'react'\nimport { useTheme } from '@nivo/core'\nimport { InheritedColorConfig, useInheritedColor } from '@nivo/colors'\nimport { DatumWithArcAndColor, ArcGenerator } from './types'\nimport { useArcsTransition } from './useArcsTransition'\nimport { ArcTransitionMode } from './arcTransitionMode'\nimport { ArcMouseHandler, ArcShape, ArcShapeProps } from './ArcShape'\n\nexport type ArcComponent<Datum extends DatumWithArcAndColor> = (\n    props: ArcShapeProps<Datum>\n) => JSX.Element\n\ninterface ArcsLayerProps<Datum extends DatumWithArcAndColor> {\n    center: [number, number]\n    data: Datum[]\n    arcGenerator: ArcGenerator\n    borderWidth: number\n    borderColor: InheritedColorConfig<Datum>\n    onClick?: ArcMouseHandler<Datum>\n    onMouseEnter?: ArcMouseHandler<Datum>\n    onMouseMove?: ArcMouseHandler<Datum>\n    onMouseLeave?: ArcMouseHandler<Datum>\n    transitionMode: ArcTransitionMode\n    component?: ArcComponent<Datum>\n}\n\nexport const ArcsLayer = <Datum extends DatumWithArcAndColor>({\n    center,\n    data,\n    arcGenerator,\n    borderWidth,\n    borderColor,\n    onClick,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    transitionMode,\n    component = ArcShape,\n}: ArcsLayerProps<Datum>) => {\n    const theme = useTheme()\n    const getBorderColor = useInheritedColor<Datum>(borderColor, theme)\n\n    const { transition, interpolate } = useArcsTransition<\n        Datum,\n        {\n            opacity: number\n            color: string\n            borderColor: string\n        }\n    >(data, transitionMode, {\n        enter: datum => ({\n            opacity: 0,\n            color: datum.color,\n            borderColor: getBorderColor(datum),\n        }),\n        update: datum => ({\n            opacity: 1,\n            color: datum.color,\n            borderColor: getBorderColor(datum),\n        }),\n        leave: datum => ({\n            opacity: 0,\n            color: datum.color,\n            borderColor: getBorderColor(datum),\n        }),\n    })\n\n    const Arc: ArcComponent<Datum> = component\n\n    return (\n        <g transform={`translate(${center[0]},${center[1]})`}>\n            {transition((transitionProps, datum) => {\n                return createElement(Arc, {\n                    key: datum.id,\n                    datum,\n                    style: {\n                        ...transitionProps,\n                        borderWidth,\n                        path: interpolate(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius,\n                            arcGenerator\n                        ),\n                    },\n                    onClick,\n                    onMouseEnter,\n                    onMouseMove,\n                    onMouseLeave,\n                })\n            })}\n        </g>\n    )\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import { positionFromAngle, degreesToRadians } from '@nivo/core'\n\n/**\n * Computes the bounding box for a circle arc.\n *\n * Assumptions:\n *   - Anywhere the arc intersects an axis will be a max or a min.\n *   - If the arc doesn't intersect an axis, then the center\n *     will be one corner of the bounding rectangle,\n *     and this is the only case when it will be.\n *   - The only other possible extreme points of the sector to consider\n *     are the endpoints of the radii.\n *\n * This script was built within the help of this answer on stackoverflow:\n *   https://stackoverflow.com/questions/1336663/2d-bounding-box-of-a-sector\n */\nexport const computeArcBoundingBox = (\n    centerX: number,\n    centerY: number,\n    radius: number,\n    // in degrees\n    startAngle: number,\n    // in degrees\n    endAngle: number,\n    includeCenter = true\n) => {\n    let points: [number, number][] = []\n\n    const p0 = positionFromAngle(degreesToRadians(startAngle), radius)\n    points.push([p0.x, p0.y])\n\n    const p1 = positionFromAngle(degreesToRadians(endAngle), radius)\n    points.push([p1.x, p1.y])\n\n    for (\n        let angle = Math.round(Math.min(startAngle, endAngle));\n        angle <= Math.round(Math.max(startAngle, endAngle));\n        angle++\n    ) {\n        if (angle % 90 === 0) {\n            const p = positionFromAngle(degreesToRadians(angle), radius)\n            points.push([p.x, p.y])\n        }\n    }\n\n    points = points.map(([x, y]) => [centerX + x, centerY + y])\n    if (includeCenter) {\n        points.push([centerX, centerY])\n    }\n\n    const xs = points.map(([x]) => x)\n    const ys = points.map(([, y]) => y)\n\n    const x0 = Math.min(...xs)\n    const x1 = Math.max(...xs)\n\n    const y0 = Math.min(...ys)\n    const y1 = Math.max(...ys)\n\n    return {\n        points,\n        x: x0,\n        y: y0,\n        width: x1 - x0,\n        height: y1 - y0,\n    }\n}\n","import { getDistance, getAngle } from '@nivo/core'\nimport { Arc } from './types'\n\n/**\n * Check if cursor is in given ring.\n */\nexport const isCursorInRing = (\n    centerX: number,\n    centerY: number,\n    radius: number,\n    innerRadius: number,\n    cursorX: number,\n    cursorY: number\n) => {\n    const distance = getDistance(cursorX, cursorY, centerX, centerY)\n\n    return distance < radius && distance > innerRadius\n}\n\n/**\n * Search for an arc being under cursor.\n */\nexport const findArcUnderCursor = <A extends Arc = Arc>(\n    centerX: number,\n    centerY: number,\n    radius: number,\n    innerRadius: number,\n    arcs: A[],\n    cursorX: number,\n    cursorY: number\n): A | undefined => {\n    if (!isCursorInRing(centerX, centerY, radius, innerRadius, cursorX, cursorY)) {\n        return undefined\n    }\n\n    const cursorAngle = getAngle(cursorX, cursorY, centerX, centerY)\n\n    return arcs.find(\n        ({ startAngle, endAngle }) => cursorAngle >= startAngle && cursorAngle < endAngle\n    )\n}\n","import { useSpring } from '@react-spring/web'\nimport { useMotionConfig } from '@nivo/core'\nimport { Arc, ArcGenerator } from './types'\nimport { interpolateArc } from './interpolateArc'\n\n/**\n * This hook can be used to animate a single arc,\n * if you want to animate a group of arcs,\n * please have a look at the `useArcsTransition` hook.\n */\nexport const useAnimatedArc = (datumWithArc: { arc: Arc }, arcGenerator: ArcGenerator) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedValues = useSpring({\n        startAngle: datumWithArc.arc.startAngle,\n        endAngle: datumWithArc.arc.endAngle,\n        innerRadius: datumWithArc.arc.innerRadius,\n        outerRadius: datumWithArc.arc.outerRadius,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return {\n        ...animatedValues,\n        path: interpolateArc(\n            animatedValues.startAngle,\n            animatedValues.endAngle,\n            animatedValues.innerRadius,\n            animatedValues.outerRadius,\n            arcGenerator\n        ),\n    }\n}\n","import { useMemo } from 'react'\nimport { arc as d3Arc } from 'd3-shape'\nimport { ArcGenerator, Arc } from './types'\n\n/**\n * Memoize a d3 arc generator.\n *\n * Please note that both inner/outer radius aren't static\n * and should come from the arc itself, while it requires\n * more props on the arcs, it provides more flexibility\n * because it's not limited to pie then but can also work\n * with charts such as sunbursts.\n */\nexport const useArcGenerator = ({\n    cornerRadius = 0,\n    padAngle = 0,\n}: {\n    cornerRadius?: number\n    padAngle?: number\n} = {}): ArcGenerator =>\n    useMemo(\n        () =>\n            d3Arc<Arc>()\n                .innerRadius(arc => arc.innerRadius)\n                .outerRadius(arc => arc.outerRadius)\n                .cornerRadius(cornerRadius)\n                .padAngle(padAngle),\n        [cornerRadius, padAngle]\n    )\n"],"names":["defineProperty","getNormalizedAngle","angle","normalizedAngle","Math","PI","filterDataBySkipAngle","data","skipAngle","filter","datum","abs","radiansToDegrees","arc","endAngle","startAngle","useFilteredDataBySkipAngle","useMemo","svgEllipticalArcCommand","radius","largeArcFlag","sweepFlag","x","y","join","generateSvgArc","originalStartAngle","originalEndAngle","min","max","start","positionFromAngle","degreesToRadians","end","mid","arcTransitionModes","arcTransitionModeById","enter","update","leave","middleAngle","innerRadius","outerRadius","centerRadius","pushIn","pushOut","useArcTransitionMode","mode","extraTransition","transitionMode","progress","computeArcCenter","offset","midAngle","interpolateArcCenter","startAngleValue","endAngleValue","innerRadiusValue","outerRadiusValue","to","centroid","useArcCentersTransition","extra","useMotionConfig","animate","springConfig","config","phases","transition","useTransition","keys","id","initial","from","immediate","interpolate","useArcCenters","computeExtraProps","map","position","staticStyle","pointerEvents","ArcLabel","label","style","theme","useTheme","_jsx","animated","transform","labels","text","fill","textColor","ArcLabelsLayer","center","labelAccessor","radiusOffset","component","getLabel","usePropertyAccessor","getTextColor","useInheritedColor","filteredData","Label","transitionProps","createElement","key","drawCanvasArcLabels","ctx","textAlign","textBaseline","font","fontSize","fontFamily","forEach","fillStyle","fillText","useArcLabels","useCallback","computeArcLinkTextAnchor","centerAngle","computeArcLink","diagonalLength","straightLength","point0","point1","side","point2","points","lineGenerator","line","d","useTransitionPhases","textOffset","getLinkColor","linkColor","opacity","interpolateLink","offsetValue","diagonalLengthValue","straightLengthValue","diagonalLengthAnimated","straightLengthAnimated","interpolateTextAnchor","interpolateTextPosition","textOffsetValue","useArcLinkLabelsTransition","transitionPhases","ArcLinkLabel","_jsxs","thickness","path","textPosition","textAnchor","ArcLinkLabelsLayer","strokeWidth","drawCanvasArcLinkLabels","textPropsByEngine","canvas","align","beginPath","strokeStyle","lineWidth","point","index","moveTo","lineTo","stroke","useArcLinks","links","link","useArcLinkLabels","objectWithoutPropertiesLoose","ArcLine","animatedProps","rest","ArcShape","onClick","onMouseEnter","onMouseMove","onMouseLeave","handleClick","event","handleMouseEnter","handleMouseMove","handleMouseLeave","color","borderColor","borderWidth","undefined","interpolateArc","arcGenerator","useArcsTransition","ArcsLayer","getBorderColor","Arc","arrayLikeToArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","arrayWithHoles","iterableToArrayLimit","nonIterableRest","computeArcBoundingBox","centerX","centerY","includeCenter","p0","push","p1","round","p","xs","ys","x0","x1","y0","y1","width","height","isCursorInRing","cursorX","cursorY","distance","getDistance","findArcUnderCursor","arcs","cursorAngle","getAngle","find","useAnimatedArc","datumWithArc","animatedValues","useSpring","useArcGenerator","cornerRadius","padAngle","d3Arc"],"mappings":"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"}