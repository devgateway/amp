{"version":3,"file":"nivo-voronoi.cjs.js","sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../src/props.ts","../src/computeMesh.ts","../src/hooks.ts","../src/Voronoi.tsx","../src/ResponsiveVoronoi.tsx","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../src/Mesh.tsx","../src/meshCanvas.ts"],"sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import { VoronoiDomain, VoronoiLayer } from './types'\n\nexport const defaultVoronoiProps = {\n    xDomain: [0, 1] as VoronoiDomain,\n    yDomain: [0, 1] as VoronoiDomain,\n    layers: ['links', 'cells', 'points', 'bounds'] as VoronoiLayer[],\n    enableLinks: false,\n    linkLineWidth: 1,\n    linkLineColor: '#bbbbbb',\n    enableCells: true,\n    cellLineWidth: 2,\n    cellLineColor: '#000000',\n    enablePoints: true,\n    pointSize: 4,\n    pointColor: '#666666',\n    role: 'img',\n}\n","import { Delaunay } from 'd3-delaunay'\n\ntype NumberPropertyNames<T> = {\n    [K in keyof T]: T[K] extends number ? K : never\n}[keyof T]\n\nexport type XYAccessor<Datum> = NumberPropertyNames<Datum> | ((datum: Datum) => number)\n\nconst getAccessor = <Datum>(directive: XYAccessor<Datum>) =>\n    typeof directive === 'function' ? directive : (datum: Datum) => datum[directive]\n\n/**\n * The delaunay generator requires an array\n * where each point is defined as an array\n * of 2 elements: [x: number, y: number].\n *\n * Points represent the raw input data\n * and x/y represent accessors to x & y.\n */\nexport const computeMeshPoints = <Datum>({\n    points,\n    x = 'x' as NumberPropertyNames<Datum>,\n    y = 'y' as NumberPropertyNames<Datum>,\n}: {\n    points: Datum[]\n    x?: XYAccessor<Datum>\n    y?: XYAccessor<Datum>\n}): [number, number][] => {\n    const getX = getAccessor<Datum>(x)\n    const getY = getAccessor<Datum>(y)\n\n    return points.map(point => [getX(point) as number, getY(point) as number])\n}\n\nexport const computeMesh = ({\n    points,\n    width,\n    height,\n    debug,\n}: {\n    points: [number, number][]\n    width: number\n    height: number\n    debug?: boolean\n}) => {\n    const delaunay = Delaunay.from(points)\n    const voronoi = debug ? delaunay.voronoi([0, 0, width, height]) : undefined\n\n    return { delaunay, voronoi }\n}\n","import { useMemo } from 'react'\nimport { scaleLinear } from 'd3-scale'\nimport { Delaunay } from 'd3-delaunay'\nimport { computeMeshPoints, computeMesh, XYAccessor } from './computeMesh'\nimport { VoronoiCommonProps, VoronoiDatum, VoronoiCustomLayerProps } from './types'\n\nexport const useVoronoiMesh = <Datum>({\n    points,\n    x,\n    y,\n    width,\n    height,\n    debug,\n}: {\n    points: Datum[]\n    x?: XYAccessor<Datum>\n    y?: XYAccessor<Datum>\n    width: number\n    height: number\n    debug?: boolean\n}) => {\n    const points2d = useMemo(\n        () => computeMeshPoints<Datum>({ points, x, y }),\n        [points, x, y]\n    )\n\n    return useMemo(() => computeMesh({ points: points2d, width, height, debug }), [\n        points2d,\n        width,\n        height,\n        debug,\n    ])\n}\n\nexport const useVoronoi = ({\n    data,\n    width,\n    height,\n    xDomain,\n    yDomain,\n}: {\n    data: VoronoiDatum[]\n    width: number\n    height: number\n    xDomain: VoronoiCommonProps['xDomain']\n    yDomain: VoronoiCommonProps['yDomain']\n}) => {\n    const xScale = useMemo(() => scaleLinear().domain(xDomain).range([0, width]), [xDomain, width])\n    const yScale = useMemo(() => scaleLinear().domain(yDomain).range([0, height]), [\n        yDomain,\n        height,\n    ])\n\n    const points = useMemo(\n        () =>\n            data.map(d => ({\n                x: xScale(d.x),\n                y: yScale(d.y),\n                data: d,\n            })),\n        [data, xScale, yScale]\n    )\n\n    return useMemo(() => {\n        const delaunay = Delaunay.from(points.map(p => [p.x, p.y]))\n        const voronoi = delaunay.voronoi([0, 0, width, height])\n\n        return {\n            points,\n            delaunay,\n            voronoi,\n        }\n    }, [points, width, height])\n}\n\n/**\n * Memoize the context to pass to custom layers.\n */\nexport const useVoronoiLayerContext = ({\n    points,\n    delaunay,\n    voronoi,\n}: VoronoiCustomLayerProps): VoronoiCustomLayerProps =>\n    useMemo(\n        () => ({\n            points,\n            delaunay,\n            voronoi,\n        }),\n        [points, delaunay, voronoi]\n    )\n","import { createElement, Fragment, ReactNode } from 'react'\nimport { Container, SvgWrapper, useDimensions } from '@nivo/core'\nimport { VoronoiSvgProps, VoronoiLayerId } from './types'\nimport { defaultVoronoiProps } from './props'\nimport { useVoronoi, useVoronoiLayerContext } from './hooks'\n\ntype InnerVoronoiProps = Partial<Omit<VoronoiSvgProps, 'data' | 'width' | 'height'>> &\n    Pick<VoronoiSvgProps, 'data' | 'width' | 'height'>\n\nconst InnerVoronoi = ({\n    data,\n    width,\n    height,\n    margin: partialMargin,\n    layers = defaultVoronoiProps.layers,\n    xDomain = defaultVoronoiProps.xDomain,\n    yDomain = defaultVoronoiProps.yDomain,\n    enableLinks = defaultVoronoiProps.enableLinks,\n    linkLineWidth = defaultVoronoiProps.linkLineWidth,\n    linkLineColor = defaultVoronoiProps.linkLineColor,\n    enableCells = defaultVoronoiProps.enableCells,\n    cellLineWidth = defaultVoronoiProps.cellLineWidth,\n    cellLineColor = defaultVoronoiProps.cellLineColor,\n    enablePoints = defaultVoronoiProps.enableCells,\n    pointSize = defaultVoronoiProps.pointSize,\n    pointColor = defaultVoronoiProps.pointColor,\n    role = defaultVoronoiProps.role,\n}: InnerVoronoiProps) => {\n    const { outerWidth, outerHeight, margin, innerWidth, innerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const { points, delaunay, voronoi } = useVoronoi({\n        data,\n        width: innerWidth,\n        height: innerHeight,\n        xDomain,\n        yDomain,\n    })\n\n    const layerById: Record<VoronoiLayerId, ReactNode> = {\n        links: null,\n        cells: null,\n        points: null,\n        bounds: null,\n    }\n\n    if (enableLinks && layers.includes('links')) {\n        layerById.links = (\n            <path\n                key=\"links\"\n                stroke={linkLineColor}\n                strokeWidth={linkLineWidth}\n                fill=\"none\"\n                d={delaunay.render()}\n            />\n        )\n    }\n\n    if (enableCells && layers.includes('cells')) {\n        layerById.cells = (\n            <path\n                key=\"cells\"\n                d={voronoi.render()}\n                fill=\"none\"\n                stroke={cellLineColor}\n                strokeWidth={cellLineWidth}\n            />\n        )\n    }\n\n    if (enablePoints && layers.includes('points')) {\n        layerById.points = (\n            <path\n                key=\"points\"\n                stroke=\"none\"\n                fill={pointColor}\n                d={delaunay.renderPoints(undefined, pointSize / 2)}\n            />\n        )\n    }\n\n    if (layers.includes('bounds')) {\n        layerById.bounds = (\n            <path\n                key=\"bounds\"\n                fill=\"none\"\n                stroke={cellLineColor}\n                strokeWidth={cellLineWidth}\n                d={voronoi.renderBounds()}\n            />\n        )\n    }\n\n    const layerContext = useVoronoiLayerContext({\n        points,\n        delaunay,\n        voronoi,\n    })\n\n    return (\n        <SvgWrapper width={outerWidth} height={outerHeight} margin={margin} role={role}>\n            {layers.map((layer, i) => {\n                if (layerById[layer as VoronoiLayerId] !== undefined) {\n                    return layerById[layer as VoronoiLayerId]\n                }\n\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{createElement(layer, layerContext)}</Fragment>\n                }\n\n                return null\n            })}\n        </SvgWrapper>\n    )\n}\n\nexport const Voronoi = ({\n    theme,\n    ...otherProps\n}: Partial<Omit<VoronoiSvgProps, 'data' | 'width' | 'height'>> &\n    Pick<VoronoiSvgProps, 'data' | 'width' | 'height'>) => (\n    <Container isInteractive={false} animate={false} theme={theme}>\n        <InnerVoronoi {...otherProps} />\n    </Container>\n)\n","import { ResponsiveWrapper } from '@nivo/core'\nimport { VoronoiSvgProps } from './types'\nimport { Voronoi } from './Voronoi'\n\ntype ResponsiveVoronoiProps = Partial<Omit<VoronoiSvgProps, 'data' | 'width' | 'height'>> &\n    Pick<VoronoiSvgProps, 'data'>\n\nexport const ResponsiveVoronoi = (props: ResponsiveVoronoiProps) => (\n    <ResponsiveWrapper>\n        {({ width, height }: { width: number; height: number }) => (\n            <Voronoi width={width} height={height} {...props} />\n        )}\n    </ResponsiveWrapper>\n)\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import { useRef, useState, useCallback, useMemo } from 'react'\nimport * as React from 'react'\nimport { getRelativeCursor } from '@nivo/core'\nimport { useVoronoiMesh } from './hooks'\nimport { XYAccessor } from './computeMesh'\n\ntype MouseHandler<Datum> = (datum: Datum, event: React.MouseEvent) => void\n\ninterface MeshProps<Datum> {\n    nodes: Datum[]\n    width: number\n    height: number\n    x?: XYAccessor<Datum>\n    y?: XYAccessor<Datum>\n    onMouseEnter?: MouseHandler<Datum>\n    onMouseMove?: MouseHandler<Datum>\n    onMouseLeave?: MouseHandler<Datum>\n    onClick?: MouseHandler<Datum>\n    debug?: boolean\n}\n\nexport const Mesh = <Datum,>({\n    nodes,\n    width,\n    height,\n    x,\n    y,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    debug,\n}: MeshProps<Datum>) => {\n    const elementRef = useRef<SVGGElement>(null)\n    const [currentIndex, setCurrentIndex] = useState<number | null>(null)\n\n    const { delaunay, voronoi } = useVoronoiMesh({\n        points: nodes,\n        x,\n        y,\n        width,\n        height,\n        debug,\n    })\n\n    const voronoiPath = useMemo(() => {\n        if (debug && voronoi) {\n            return voronoi.render()\n        }\n\n        return undefined\n    }, [debug, voronoi])\n\n    const getIndexAndNodeFromEvent = useCallback(\n        event => {\n            if (!elementRef.current) {\n                return [null, null]\n            }\n\n            const [x, y] = getRelativeCursor(elementRef.current, event)\n            const index = delaunay.find(x, y)\n\n            return [index, index !== undefined ? nodes[index] : null] as [number, Datum | null]\n        },\n        [elementRef, delaunay]\n    )\n\n    const handleMouseEnter = useCallback(\n        (event: React.MouseEvent) => {\n            const [index, node] = getIndexAndNodeFromEvent(event)\n            setCurrentIndex(index)\n            if (node) {\n                onMouseEnter?.(node, event)\n            }\n        },\n        [getIndexAndNodeFromEvent, setCurrentIndex, onMouseEnter]\n    )\n\n    const handleMouseMove = useCallback(\n        (event: React.MouseEvent) => {\n            const [index, node] = getIndexAndNodeFromEvent(event)\n            setCurrentIndex(index)\n            if (node) {\n                onMouseMove?.(node, event)\n            }\n        },\n        [getIndexAndNodeFromEvent, setCurrentIndex, onMouseMove]\n    )\n\n    const handleMouseLeave = useCallback(\n        (event: React.MouseEvent) => {\n            setCurrentIndex(null)\n            if (onMouseLeave) {\n                let previousNode: Datum | undefined = undefined\n                if (currentIndex !== null) {\n                    previousNode = nodes[currentIndex]\n                }\n                previousNode && onMouseLeave(previousNode, event)\n            }\n        },\n        [setCurrentIndex, currentIndex, onMouseLeave, nodes]\n    )\n\n    const handleClick = useCallback(\n        (event: React.MouseEvent) => {\n            const [index, node] = getIndexAndNodeFromEvent(event)\n            setCurrentIndex(index)\n            if (node) {\n                onClick?.(node, event)\n            }\n        },\n        [getIndexAndNodeFromEvent, setCurrentIndex, onClick]\n    )\n\n    return (\n        <g ref={elementRef}>\n            {debug && voronoi && (\n                <>\n                    <path d={voronoiPath} stroke=\"red\" strokeWidth={1} opacity={0.75} />\n                    {/* highlight current cell */}\n                    {currentIndex !== null && (\n                        <path fill=\"pink\" opacity={0.35} d={voronoi.renderCell(currentIndex)} />\n                    )}\n                </>\n            )}\n            {/* transparent rect to intercept mouse events */}\n            <rect\n                width={width}\n                height={height}\n                fill=\"red\"\n                opacity={0}\n                style={{ cursor: 'auto' }}\n                onMouseEnter={handleMouseEnter}\n                onMouseMove={handleMouseMove}\n                onMouseLeave={handleMouseLeave}\n                onClick={handleClick}\n            />\n        </g>\n    )\n}\n","import { Delaunay, Voronoi } from 'd3-delaunay'\n\nexport const renderVoronoiToCanvas = (\n    ctx: CanvasRenderingContext2D,\n    voronoi: Voronoi<Delaunay.Point>\n) => {\n    ctx.save()\n\n    ctx.globalAlpha = 0.75\n    ctx.beginPath()\n    voronoi.render(ctx)\n    ctx.strokeStyle = 'red'\n    ctx.lineWidth = 1\n    ctx.stroke()\n\n    ctx.restore()\n}\n\nexport const renderVoronoiCellToCanvas = (\n    ctx: CanvasRenderingContext2D,\n    voronoi: Voronoi<Delaunay.Point>,\n    index: number\n) => {\n    ctx.save()\n\n    ctx.globalAlpha = 0.35\n    ctx.beginPath()\n    voronoi.renderCell(index, ctx)\n    ctx.fillStyle = 'red'\n    ctx.fill()\n\n    ctx.restore()\n}\n"],"names":["defineProperty","objectWithoutPropertiesLoose","defaultVoronoiProps","xDomain","yDomain","layers","enableLinks","linkLineWidth","linkLineColor","enableCells","cellLineWidth","cellLineColor","enablePoints","pointSize","pointColor","role","getAccessor","directive","datum","computeMeshPoints","points","x","y","getX","getY","map","point","computeMesh","width","height","debug","delaunay","Delaunay","from","voronoi","undefined","useVoronoiMesh","points2d","useMemo","useVoronoi","data","xScale","scaleLinear","domain","range","yScale","d","p","useVoronoiLayerContext","InnerVoronoi","partialMargin","margin","useDimensions","outerWidth","outerHeight","innerWidth","innerHeight","layerById","links","cells","bounds","includes","_jsx","render","renderPoints","renderBounds","layerContext","SvgWrapper","layer","i","Fragment","createElement","Voronoi","theme","otherProps","Container","ResponsiveVoronoi","props","ResponsiveWrapper","arrayLikeToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","Mesh","nodes","onMouseEnter","onMouseMove","onMouseLeave","onClick","elementRef","useRef","useState","currentIndex","setCurrentIndex","voronoiPath","getIndexAndNodeFromEvent","useCallback","event","current","getRelativeCursor","index","find","handleMouseEnter","node","handleMouseMove","handleMouseLeave","previousNode","handleClick","_jsxs","renderCell","cursor","renderVoronoiToCanvas","ctx","save","globalAlpha","beginPath","strokeStyle","lineWidth","stroke","restore","renderVoronoiCellToCanvas","fillStyle","fill"],"mappings":"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"}