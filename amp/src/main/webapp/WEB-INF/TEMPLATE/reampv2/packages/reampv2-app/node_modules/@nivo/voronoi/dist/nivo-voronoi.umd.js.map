{"version":3,"file":"nivo-voronoi.umd.js","sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../src/props.ts","../src/computeMesh.ts","../src/hooks.ts","../src/Voronoi.tsx","../src/ResponsiveVoronoi.tsx","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../src/Mesh.tsx","../src/meshCanvas.ts"],"sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import { VoronoiDomain, VoronoiLayer } from './types'\n\nexport const defaultVoronoiProps = {\n    xDomain: [0, 1] as VoronoiDomain,\n    yDomain: [0, 1] as VoronoiDomain,\n    layers: ['links', 'cells', 'points', 'bounds'] as VoronoiLayer[],\n    enableLinks: false,\n    linkLineWidth: 1,\n    linkLineColor: '#bbbbbb',\n    enableCells: true,\n    cellLineWidth: 2,\n    cellLineColor: '#000000',\n    enablePoints: true,\n    pointSize: 4,\n    pointColor: '#666666',\n    role: 'img',\n}\n","import { Delaunay } from 'd3-delaunay'\n\ntype NumberPropertyNames<T> = {\n    [K in keyof T]: T[K] extends number ? K : never\n}[keyof T]\n\nexport type XYAccessor<Datum> = NumberPropertyNames<Datum> | ((datum: Datum) => number)\n\nconst getAccessor = <Datum>(directive: XYAccessor<Datum>) =>\n    typeof directive === 'function' ? directive : (datum: Datum) => datum[directive]\n\n/**\n * The delaunay generator requires an array\n * where each point is defined as an array\n * of 2 elements: [x: number, y: number].\n *\n * Points represent the raw input data\n * and x/y represent accessors to x & y.\n */\nexport const computeMeshPoints = <Datum>({\n    points,\n    x = 'x' as NumberPropertyNames<Datum>,\n    y = 'y' as NumberPropertyNames<Datum>,\n}: {\n    points: Datum[]\n    x?: XYAccessor<Datum>\n    y?: XYAccessor<Datum>\n}): [number, number][] => {\n    const getX = getAccessor<Datum>(x)\n    const getY = getAccessor<Datum>(y)\n\n    return points.map(point => [getX(point) as number, getY(point) as number])\n}\n\nexport const computeMesh = ({\n    points,\n    width,\n    height,\n    debug,\n}: {\n    points: [number, number][]\n    width: number\n    height: number\n    debug?: boolean\n}) => {\n    const delaunay = Delaunay.from(points)\n    const voronoi = debug ? delaunay.voronoi([0, 0, width, height]) : undefined\n\n    return { delaunay, voronoi }\n}\n","import { useMemo } from 'react'\nimport { scaleLinear } from 'd3-scale'\nimport { Delaunay } from 'd3-delaunay'\nimport { computeMeshPoints, computeMesh, XYAccessor } from './computeMesh'\nimport { VoronoiCommonProps, VoronoiDatum, VoronoiCustomLayerProps } from './types'\n\nexport const useVoronoiMesh = <Datum>({\n    points,\n    x,\n    y,\n    width,\n    height,\n    debug,\n}: {\n    points: Datum[]\n    x?: XYAccessor<Datum>\n    y?: XYAccessor<Datum>\n    width: number\n    height: number\n    debug?: boolean\n}) => {\n    const points2d = useMemo(\n        () => computeMeshPoints<Datum>({ points, x, y }),\n        [points, x, y]\n    )\n\n    return useMemo(() => computeMesh({ points: points2d, width, height, debug }), [\n        points2d,\n        width,\n        height,\n        debug,\n    ])\n}\n\nexport const useVoronoi = ({\n    data,\n    width,\n    height,\n    xDomain,\n    yDomain,\n}: {\n    data: VoronoiDatum[]\n    width: number\n    height: number\n    xDomain: VoronoiCommonProps['xDomain']\n    yDomain: VoronoiCommonProps['yDomain']\n}) => {\n    const xScale = useMemo(() => scaleLinear().domain(xDomain).range([0, width]), [xDomain, width])\n    const yScale = useMemo(() => scaleLinear().domain(yDomain).range([0, height]), [\n        yDomain,\n        height,\n    ])\n\n    const points = useMemo(\n        () =>\n            data.map(d => ({\n                x: xScale(d.x),\n                y: yScale(d.y),\n                data: d,\n            })),\n        [data, xScale, yScale]\n    )\n\n    return useMemo(() => {\n        const delaunay = Delaunay.from(points.map(p => [p.x, p.y]))\n        const voronoi = delaunay.voronoi([0, 0, width, height])\n\n        return {\n            points,\n            delaunay,\n            voronoi,\n        }\n    }, [points, width, height])\n}\n\n/**\n * Memoize the context to pass to custom layers.\n */\nexport const useVoronoiLayerContext = ({\n    points,\n    delaunay,\n    voronoi,\n}: VoronoiCustomLayerProps): VoronoiCustomLayerProps =>\n    useMemo(\n        () => ({\n            points,\n            delaunay,\n            voronoi,\n        }),\n        [points, delaunay, voronoi]\n    )\n","import { createElement, Fragment, ReactNode } from 'react'\nimport { Container, SvgWrapper, useDimensions } from '@nivo/core'\nimport { VoronoiSvgProps, VoronoiLayerId } from './types'\nimport { defaultVoronoiProps } from './props'\nimport { useVoronoi, useVoronoiLayerContext } from './hooks'\n\ntype InnerVoronoiProps = Partial<Omit<VoronoiSvgProps, 'data' | 'width' | 'height'>> &\n    Pick<VoronoiSvgProps, 'data' | 'width' | 'height'>\n\nconst InnerVoronoi = ({\n    data,\n    width,\n    height,\n    margin: partialMargin,\n    layers = defaultVoronoiProps.layers,\n    xDomain = defaultVoronoiProps.xDomain,\n    yDomain = defaultVoronoiProps.yDomain,\n    enableLinks = defaultVoronoiProps.enableLinks,\n    linkLineWidth = defaultVoronoiProps.linkLineWidth,\n    linkLineColor = defaultVoronoiProps.linkLineColor,\n    enableCells = defaultVoronoiProps.enableCells,\n    cellLineWidth = defaultVoronoiProps.cellLineWidth,\n    cellLineColor = defaultVoronoiProps.cellLineColor,\n    enablePoints = defaultVoronoiProps.enableCells,\n    pointSize = defaultVoronoiProps.pointSize,\n    pointColor = defaultVoronoiProps.pointColor,\n    role = defaultVoronoiProps.role,\n}: InnerVoronoiProps) => {\n    const { outerWidth, outerHeight, margin, innerWidth, innerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const { points, delaunay, voronoi } = useVoronoi({\n        data,\n        width: innerWidth,\n        height: innerHeight,\n        xDomain,\n        yDomain,\n    })\n\n    const layerById: Record<VoronoiLayerId, ReactNode> = {\n        links: null,\n        cells: null,\n        points: null,\n        bounds: null,\n    }\n\n    if (enableLinks && layers.includes('links')) {\n        layerById.links = (\n            <path\n                key=\"links\"\n                stroke={linkLineColor}\n                strokeWidth={linkLineWidth}\n                fill=\"none\"\n                d={delaunay.render()}\n            />\n        )\n    }\n\n    if (enableCells && layers.includes('cells')) {\n        layerById.cells = (\n            <path\n                key=\"cells\"\n                d={voronoi.render()}\n                fill=\"none\"\n                stroke={cellLineColor}\n                strokeWidth={cellLineWidth}\n            />\n        )\n    }\n\n    if (enablePoints && layers.includes('points')) {\n        layerById.points = (\n            <path\n                key=\"points\"\n                stroke=\"none\"\n                fill={pointColor}\n                d={delaunay.renderPoints(undefined, pointSize / 2)}\n            />\n        )\n    }\n\n    if (layers.includes('bounds')) {\n        layerById.bounds = (\n            <path\n                key=\"bounds\"\n                fill=\"none\"\n                stroke={cellLineColor}\n                strokeWidth={cellLineWidth}\n                d={voronoi.renderBounds()}\n            />\n        )\n    }\n\n    const layerContext = useVoronoiLayerContext({\n        points,\n        delaunay,\n        voronoi,\n    })\n\n    return (\n        <SvgWrapper width={outerWidth} height={outerHeight} margin={margin} role={role}>\n            {layers.map((layer, i) => {\n                if (layerById[layer as VoronoiLayerId] !== undefined) {\n                    return layerById[layer as VoronoiLayerId]\n                }\n\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{createElement(layer, layerContext)}</Fragment>\n                }\n\n                return null\n            })}\n        </SvgWrapper>\n    )\n}\n\nexport const Voronoi = ({\n    theme,\n    ...otherProps\n}: Partial<Omit<VoronoiSvgProps, 'data' | 'width' | 'height'>> &\n    Pick<VoronoiSvgProps, 'data' | 'width' | 'height'>) => (\n    <Container isInteractive={false} animate={false} theme={theme}>\n        <InnerVoronoi {...otherProps} />\n    </Container>\n)\n","import { ResponsiveWrapper } from '@nivo/core'\nimport { VoronoiSvgProps } from './types'\nimport { Voronoi } from './Voronoi'\n\ntype ResponsiveVoronoiProps = Partial<Omit<VoronoiSvgProps, 'data' | 'width' | 'height'>> &\n    Pick<VoronoiSvgProps, 'data'>\n\nexport const ResponsiveVoronoi = (props: ResponsiveVoronoiProps) => (\n    <ResponsiveWrapper>\n        {({ width, height }: { width: number; height: number }) => (\n            <Voronoi width={width} height={height} {...props} />\n        )}\n    </ResponsiveWrapper>\n)\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import { useRef, useState, useCallback, useMemo } from 'react'\nimport * as React from 'react'\nimport { getRelativeCursor } from '@nivo/core'\nimport { useVoronoiMesh } from './hooks'\nimport { XYAccessor } from './computeMesh'\n\ntype MouseHandler<Datum> = (datum: Datum, event: React.MouseEvent) => void\n\ninterface MeshProps<Datum> {\n    nodes: Datum[]\n    width: number\n    height: number\n    x?: XYAccessor<Datum>\n    y?: XYAccessor<Datum>\n    onMouseEnter?: MouseHandler<Datum>\n    onMouseMove?: MouseHandler<Datum>\n    onMouseLeave?: MouseHandler<Datum>\n    onClick?: MouseHandler<Datum>\n    debug?: boolean\n}\n\nexport const Mesh = <Datum,>({\n    nodes,\n    width,\n    height,\n    x,\n    y,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    debug,\n}: MeshProps<Datum>) => {\n    const elementRef = useRef<SVGGElement>(null)\n    const [currentIndex, setCurrentIndex] = useState<number | null>(null)\n\n    const { delaunay, voronoi } = useVoronoiMesh({\n        points: nodes,\n        x,\n        y,\n        width,\n        height,\n        debug,\n    })\n\n    const voronoiPath = useMemo(() => {\n        if (debug && voronoi) {\n            return voronoi.render()\n        }\n\n        return undefined\n    }, [debug, voronoi])\n\n    const getIndexAndNodeFromEvent = useCallback(\n        event => {\n            if (!elementRef.current) {\n                return [null, null]\n            }\n\n            const [x, y] = getRelativeCursor(elementRef.current, event)\n            const index = delaunay.find(x, y)\n\n            return [index, index !== undefined ? nodes[index] : null] as [number, Datum | null]\n        },\n        [elementRef, delaunay]\n    )\n\n    const handleMouseEnter = useCallback(\n        (event: React.MouseEvent) => {\n            const [index, node] = getIndexAndNodeFromEvent(event)\n            setCurrentIndex(index)\n            if (node) {\n                onMouseEnter?.(node, event)\n            }\n        },\n        [getIndexAndNodeFromEvent, setCurrentIndex, onMouseEnter]\n    )\n\n    const handleMouseMove = useCallback(\n        (event: React.MouseEvent) => {\n            const [index, node] = getIndexAndNodeFromEvent(event)\n            setCurrentIndex(index)\n            if (node) {\n                onMouseMove?.(node, event)\n            }\n        },\n        [getIndexAndNodeFromEvent, setCurrentIndex, onMouseMove]\n    )\n\n    const handleMouseLeave = useCallback(\n        (event: React.MouseEvent) => {\n            setCurrentIndex(null)\n            if (onMouseLeave) {\n                let previousNode: Datum | undefined = undefined\n                if (currentIndex !== null) {\n                    previousNode = nodes[currentIndex]\n                }\n                previousNode && onMouseLeave(previousNode, event)\n            }\n        },\n        [setCurrentIndex, currentIndex, onMouseLeave, nodes]\n    )\n\n    const handleClick = useCallback(\n        (event: React.MouseEvent) => {\n            const [index, node] = getIndexAndNodeFromEvent(event)\n            setCurrentIndex(index)\n            if (node) {\n                onClick?.(node, event)\n            }\n        },\n        [getIndexAndNodeFromEvent, setCurrentIndex, onClick]\n    )\n\n    return (\n        <g ref={elementRef}>\n            {debug && voronoi && (\n                <>\n                    <path d={voronoiPath} stroke=\"red\" strokeWidth={1} opacity={0.75} />\n                    {/* highlight current cell */}\n                    {currentIndex !== null && (\n                        <path fill=\"pink\" opacity={0.35} d={voronoi.renderCell(currentIndex)} />\n                    )}\n                </>\n            )}\n            {/* transparent rect to intercept mouse events */}\n            <rect\n                width={width}\n                height={height}\n                fill=\"red\"\n                opacity={0}\n                style={{ cursor: 'auto' }}\n                onMouseEnter={handleMouseEnter}\n                onMouseMove={handleMouseMove}\n                onMouseLeave={handleMouseLeave}\n                onClick={handleClick}\n            />\n        </g>\n    )\n}\n","import { Delaunay, Voronoi } from 'd3-delaunay'\n\nexport const renderVoronoiToCanvas = (\n    ctx: CanvasRenderingContext2D,\n    voronoi: Voronoi<Delaunay.Point>\n) => {\n    ctx.save()\n\n    ctx.globalAlpha = 0.75\n    ctx.beginPath()\n    voronoi.render(ctx)\n    ctx.strokeStyle = 'red'\n    ctx.lineWidth = 1\n    ctx.stroke()\n\n    ctx.restore()\n}\n\nexport const renderVoronoiCellToCanvas = (\n    ctx: CanvasRenderingContext2D,\n    voronoi: Voronoi<Delaunay.Point>,\n    index: number\n) => {\n    ctx.save()\n\n    ctx.globalAlpha = 0.35\n    ctx.beginPath()\n    voronoi.renderCell(index, ctx)\n    ctx.fillStyle = 'red'\n    ctx.fill()\n\n    ctx.restore()\n}\n"],"names":["defineProperty","objectWithoutPropertiesLoose","defaultVoronoiProps","xDomain","yDomain","layers","enableLinks","linkLineWidth","linkLineColor","enableCells","cellLineWidth","cellLineColor","enablePoints","pointSize","pointColor","role","getAccessor","directive","datum","computeMeshPoints","points","x","y","getX","getY","map","point","computeMesh","width","height","debug","delaunay","Delaunay","from","voronoi","undefined","useVoronoiMesh","points2d","useMemo","useVoronoi","data","xScale","scaleLinear","domain","range","yScale","d","p","useVoronoiLayerContext","InnerVoronoi","partialMargin","margin","useDimensions","outerWidth","outerHeight","innerWidth","innerHeight","layerById","links","cells","bounds","includes","_jsx","render","renderPoints","renderBounds","layerContext","SvgWrapper","layer","i","Fragment","createElement","Voronoi","theme","otherProps","Container","ResponsiveVoronoi","props","ResponsiveWrapper","arrayLikeToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","Mesh","nodes","onMouseEnter","onMouseMove","onMouseLeave","onClick","elementRef","useRef","useState","currentIndex","setCurrentIndex","voronoiPath","getIndexAndNodeFromEvent","useCallback","event","current","getRelativeCursor","index","find","handleMouseEnter","node","handleMouseMove","handleMouseLeave","previousNode","handleClick","_jsxs","renderCell","cursor","renderVoronoiToCanvas","ctx","save","globalAlpha","beginPath","strokeStyle","lineWidth","stroke","restore","renderVoronoiCellToCanvas","fillStyle","fill"],"mappings":"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"}