{"version":3,"file":"dhtmlxscheduler_limit.js","sources":["dhtmlxscheduler_limit.js"],"names":["scheduler","config","limit_start","limit_end","limit_view","check_limits","mark_now","display_marked_timespans","_temp_limit_scope","getZones","ev","timespans","day_index","day_value","timespan_type","s","zones","containers","_props","matrix","container","property","view","view_config","linker","_add_timespan_zones","_get_blocked_zones","before","dhx_time_block","default_timespan_type","fix_options","options","days","Date","start_date","end_date","get_resulting_options","sections","type","css","blockTime","addMarkedTimespan","unblockTime","deleteMarkedTimespan","attachEvent","om","od","nm","nd","isBlocked","date","mode","date_end","add","valueOf","setTimeout","resetDate","setCurrentView","checkInMarkedTimespan","on_overlap","res","temp_start_date","temp_end_date","_marked_timespans","date_part","getDay","i","length","sm","_get_zone_minutes","em","getDate","sz","ez","blocker","checkLimitViolation","event","c","evs","rec_type","dates","getRecDates","_copy_event","_lame_copy","push","complete_res","p","_timed","isOneDayEvent","allow","_drag_id","_drag_mode","setHours","setMinutes","checkEvent","callEvent","id","timeline_zones","blocked_timeline_zones","this","_get_relevant_blocked_zones","relevant_zones","classname","getEvent","event_id","data","data_copy","_lame_clone","_roll_back_dates","event_duration","time_step","getActionData","_mark_now","window","_mark_now_timer","setInterval","_is_initialized","hide","dhx_now_time","_els","now","_currentDate","cfg","_remove_mark_now","_max_date","_min_date","getHours","first_hour","last_hour","locate_holder_day","_append_mark_now","zone_start","_table_view","_mode","units_l","start_index","end_index","r_divs","childNodes","t_day","t_div","_render_marked_timespan","els","div","parent","parentNode","removeChild","global","getMinutes","_prepare_timespan_options","r_configs","temp_configs","Array","t_days","slice","cloned_config","apply","undefined","min","max","invert_zones","invertZones","uid","view_key","hasOwnProperty","ids","t_config","k","c_config","t_sd","t_ed","zone_end","_get_dates_by_index","index","start","end","start_day","delta","t_date","_get_css_classes_by_config","css_classes","join","_get_block_by_config","block","document","createElement","html","innerHTML","appendChild","area","day","blocks","min_date","max_date","date_to_display","min_day","areas","_scales","sweek","Math","floor","_correct_shift","_cols","sday","_ignores","block_proto","height","offsetHeight","width","offsetWidth","left","_colsS","top","heights","xy","month_scale_height","className","style","lineHeight","cloneNode","round","order","inner_index","size","position","locate_holder","all_hours_height","hour_size_px","hour_ms","markTimespan","configuration","configs","divs","unmarkTimespan","_marked_timespans_ids","unit_id","timespans_view","_marked_timespans_types","day_configs","_array","current_zones","resulting_zones","c_zone_start","c_zone_end","isLast","offset","splice","_subtract_timespan_zones","is_modified","_delete_marked_timespan_by_id","parent_array","_delete_marked_timespan_by_config","day_timespans","d_t","related_zones","timeline","j","arguments","types","t","typedConfig","_get_types_to_render","common","specific","types_to_render","_get_configs_to_render","units","_get_unit_index","unit","dx","day_ind","_date","key","unit_zones","unit_types","global_data","day_types","dblclick_dhx_marked_timespan","e","src","dblclick_create","addEventNow"],"mappings":"AAAAA,UAAUC,OAAOC,YAAc,KAC/BF,UAAUC,OAAOE,UAAc,KAC/BH,UAAUC,OAAOG,YAAc,EAC/BJ,UAAUC,OAAOI,cAAe,EAChCL,UAAUC,OAAOK,UAAW,EAC5BN,UAAUC,OAAOM,0BAA2B,EAE5CP,UAAUQ,kBAAoB,WAmL7B,QAASC,GAASC,EAAIC,EAAWC,EAAWC,EAAWC,GACtD,GAAIC,GAAIf,UAEJgB,KACAC,GACHC,OAAS,SACTC,OAAS,aAEV,KAAI,GAAIC,KAAaH,GAAW,CAC/B,GAAII,GAAWJ,EAAWG,EAC1B,IAAGL,EAAEK,GACJ,IAAI,GAAIE,KAAQP,GAAEK,GAAW,CAC5B,GAAIG,GAAcR,EAAEK,GAAWE,GAC3BE,EAASD,EAAYF,EACrBX,GAAGc,KACPR,EAASD,EAAEU,oBAAoBT,EAC9BhB,UAAU0B,mBAAmBf,EAAUW,GAAOZ,EAAGc,GAASZ,EAAWC,EAAWC,MAMpF,MADAE,GAAQD,EAAEU,oBAAoBT,EAAOhB,UAAU0B,mBAAmBf,EAAW,SAAUC,EAAWC,EAAWC;CAvM9G,GAAIa,GAAS,KACTC,EAAiB,iBACjBC,EAAwB,UACxBC,EAAc,SAASC,EAASC,EAAMhB,GAQzC,MAPIgB,aAAgBC,OAAQjB,YAAiBiB,OAC5CF,EAAQG,WAAaF,EACrBD,EAAQI,SAAWnB,IAEnBe,EAAQC,KAAOA,EACfD,EAAQf,MAAQA,GAEVe,GAEJK,EAAwB,SAASJ,EAAMhB,EAAOqB,GACjD,GAAIN,GAA0B,gBAARC,GAAoBA,GAASA,KAAMA,EAQzD,OAPAD,GAAQO,KAAOV,EACfG,EAAQQ,IAAM,GACVvB,IACCqB,IACHN,EAAQM,SAAWA,GACpBN,EAAUD,EAAYC,EAASC,EAAMhB,IAE/Be,EAER/B,WAAUwC,UAAY,SAASR,EAAMhB,EAAOqB,GAC3C,GAAIN,GAAUK,EAAsBJ,EAAMhB,EAAOqB,EACjD,OAAOrC,WAAUyC,kBAAkBV,IAEpC/B,UAAU0C,YAAc,SAASV,EAAMhB,EAAOqB,GAC7CrB,EAAQA,GAAS,SACjB,IAAIe,GAAUK,EAAsBJ,EAAMhB,EAAOqB,EACjD,OAAOrC,WAAU2C,qBAAqBZ,IAEvC/B,UAAU4C,YAAY,qBAAqB,SAASC,EAAGC,EAAGC,EAAGC,GAE5D,QAASC,GAAUC,EAAMC,GACxB,GAAIjD,GAAcF,UAAUC,OAAOC,YAClCC,EAAYH,UAAUC,OAAOE,UAC7BiD,EAAYpD,UAAUkD,KAAKG,IAAIH,EAAK,EAAEC,EAEvC;MAAQD,GAAKI,UAAYnD,EAAUmD,WAAaF,GAAYlD,EAAYoD,UAGzE,MAAItD,WAAUC,OAAOG,aACpB4C,EAAKA,GAAIF,EAAIC,EAAKA,GAAIF,EAClBI,EAAUD,EAAID,IAASD,EAAGQ,WAAaN,EAAGM,YAC7CC,WAAW,WACV,GAAIC,GAAaP,EAAUH,EAAIC,GAAW/C,UAAUC,OAAOC,YAAtB4C,CAErC9C,WAAUyD,eAAgBR,EAAUO,EAAWT,GAAkB,KAAZS,EAAkBT,IACtE,IACK,IAGF,IAER/C,UAAU0D,sBAAwB,SAAShD,EAAII,EAAe6C,GAC7D7C,EAAgBA,GAAiBe,CAMjC,KAJA,GAAI+B,IAAM,EACNC,EAAkB,GAAI5B,MAAKvB,EAAGwB,WAAWoB,WACzCQ,EAAgB9D,UAAUkD,KAAKG,IAAIQ,EAAiB,EAAG,OACvDlD,EAAYX,UAAU+D,kBACnBF,EAAkBnD,EAAGyB,SAAU0B,EAAkB7D,UAAUkD,KAAKc,UAAUF,GAAgBA,EAAgB9D,UAAUkD,KAAKG,IAAIQ,EAAiB,EAAG,OAAS,CAChK,GAAIhD,IAAab,UAAUkD,KAAKc,UAAW,GAAI/B,MAAK4B,IAChDjD,EAAYiD,EAAgBI,SAE5BjD,EAAQP,EAASC,EAAIC,EAAWC,EAAWC,EAAWC,EAC1D;GAAIE,EACH,IAAK,GAAIkD,GAAI,EAAGA,EAAIlD,EAAMmD,OAAQD,GAAG,EAAG,CAGvC,GAAIE,GAAKpE,UAAUqE,kBAAkBR,GACjCS,EAAO5D,EAAGyB,SAAS2B,GAAiBpD,EAAGyB,SAASoC,WAAaV,EAAgBU,UAAc,KAAOvE,UAAUqE,kBAAkB3D,EAAGyB,UAEjIqC,EAAKxD,EAAMkD,GACXO,EAAKzD,EAAMkD,EAAE,EACjB,IAAOI,EAAHE,GAASC,EAAGL,IAIdR,EAHuB,kBAAdD,GAGHA,EAAWjD,EAAI0D,EAAIE,EAAIE,EAAIC,IAE3B,GAEHb,GACH,OAKL,OAAQA,EAET,IAAIc,GAAU1E,UAAU2E,oBAAsB,SAASC,GACtD,IAAIA,EACH,OAAO,CACR,KAAK5E,UAAUC,OAAOI,aACrB,OAAO,CACR,IAAIU,GAAIf,UACJ6E,EAAI9D,EAAEd,OACN6E,IACJ,IAAIF,EAAMG,SAET,IAAI,GADAC,GAAQhF,UAAUiF,YAAYL,GAC1BV,EAAE,EAAGA,EAAIc,EAAMb,OAAQD,IAAI,CAClC,GAAIxD,GAAKV,UAAUkF,YAAYN,EAC/B5E,WAAUmF,WAAWzE,EAAIsE,EAAMd,IAC/BY,EAAIM,KAAK1E;KAIVoE,IAAOF,EAIR,KAAK,GADDS,IAAe,EACVC,EAAE,EAAGA,EAAER,EAAIX,OAAQmB,IAAK,CAChC,GAAI1B,IAAM,EACNlD,EAAKoE,EAAIQ,EAEb5E,GAAG6E,OAASvF,UAAUwF,cAAc9E,GAEpCkD,EAAOiB,EAAE3E,aAAe2E,EAAE1E,UAAcO,EAAGwB,WAAWoB,WAAauB,EAAE3E,YAAYoD,WAAa5C,EAAGyB,SAASmB,WAAauB,EAAE1E,UAAUmD,WAAa,EAC5IM,IACHA,GAAO5D,UAAU0D,sBAAsBhD,EAAIkB,EAAgB,SAASlB,EAAI0D,EAAIE,EAAIE,EAAIC,GAEnF,GAAIgB,IAAQ,CAsBZ,OArBQhB,IAAJL,GAAUA,GAAKI,KACR,MAANC,GAAkBA,EAAHH,KAClBmB,GAAQ,GAEN/E,EAAG6E,QAAUxE,EAAE2E,UAA4B,YAAhB3E,EAAE4E,YAC/BjF,EAAGwB,WAAW0D,SAAS,GACvBlF,EAAGwB,WAAW2D,WAAWpB,IAGzBgB,GAAQ,IAGLnB,GAAIE,GAASC,EAAHH,GAAgBE,EAALJ,GAAWE,EAAKG,KACtC/D,EAAG6E,QAAUxE,EAAE2E,UAA4B,YAAhB3E,EAAE4E,YAC/BjF,EAAGyB,SAASyD,SAAS,GACrBlF,EAAGyB,SAAS0D,WAAWrB,IAGvBiB,GAAQ,GAGHA;IAGJ7B,IACJA,EAAO7C,EAAE+E,WAAW,oBAAuB/E,EAAEgF,UAAU,oBAAoBrF,EAAGsF,GAAItF,IAAOkD,GAE1FyB,EAAeA,GAAgBzB,EAMhC,MAJIyB,KACHtE,EAAE2E,SAAW,KACb3E,EAAE4E,WAAa,MAETN,EAIRrF,WAAU0B,mBAAqB,SAASf,EAAWU,EAAUT,EAAWC,EAAWC,GAClF,GAAIE,KACJ,IAAIL,GAAaA,EAAUU,GAG1B,IAAK,GAFD4E,GAAiBtF,EAAUU,GAC3B6E,EAAyBC,KAAKC,4BAA4BxF,EAAWC,EAAWoF,EAAgBnF,GAC3FoD,EAAE,EAAGA,EAAEgC,EAAuB/B,OAAQD,IAC9ClD,EAAQmF,KAAK1E,oBAAoBT,EAAOkF,EAAuBhC,GAAGlD,MAGpE,OAAOA,IAERhB,UAAUoG,4BAA8B,SAASxF,EAAWC,EAAWG,EAAOF,GAC7E,GAAIuF,GAAkBrF,EAAMH,IAAcG,EAAMH,GAAWC,GAAkBE,EAAMH,GAAWC,GAC5FE,EAAMJ,IAAcI,EAAMJ,GAAWE,GAAkBE,EAAMJ,GAAWE,KAC1E,OAAOuF,IA2BRrG,UAAU4C,YAAY,cAAe,SAAS0D,GAC7C,QAASA,GAAa1E;GAEvB5B,UAAU4C,YAAY,eAAe,SAASoD,GAC7C,MAAKA,GACEtB,EAAQ1E,UAAUuG,SAASP,KADlB,IAGjBhG,UAAU4C,YAAY,UAAW,SAAU4D,GAC1C,MAAO9B,GAAQ1E,UAAUuG,SAASC,MAEnCxG,UAAU4C,YAAY,mBAAmB,SAASoD,GAEjD,GAAItF,GAAKV,UAAUuG,SAASP,EAE5B,OADArE,IAAUjB,EAAGwB,WAAYxB,EAAGyB,UACrBuC,EAAQhE,KAEhBV,UAAU4C,YAAY,cAAe,SAASoD,EAAIS,GAGjD,IAAKA,EAAKvE,aAAcuE,EAAKtE,SAAU,CACtC,GAAIzB,GAAKV,UAAUuG,SAASP,EAC5BS,GAAKvE,WAAa,GAAID,MAAKvB,EAAGwB,YAC9BuE,EAAKtE,SAAW,GAAIF,MAAKvB,EAAGyB,UAG7B,GAAGsE,EAAK1B,SAAS,CAGhB,GAAI2B,GAAY1G,UAAU2G,YAAYF,EAEtC;MADAzG,WAAU4G,iBAAiBF,GACpBhC,EAAQgC,GAEhB,MAAOhC,GAAQ+B,KAEhBzG,UAAU4C,YAAY,eAAe,SAASoD,GAC7C,IAAKA,EAAI,OAAO,CAChB,IAAItF,GAAKV,UAAUuG,SAASP,EAoB5B,QAnBKtB,EAAQhE,IAAOV,UAAUC,OAAOC,aAAeF,UAAUC,OAAOE,YAEhEO,EAAGwB,WAAalC,UAAUC,OAAOC,cACpCQ,EAAGwB,WAAa,GAAID,MAAKjC,UAAUC,OAAOC,cAEvCQ,EAAGwB,WAAWoB,WAAatD,UAAUC,OAAOE,UAAUmD,YACzD5C,EAAGwB,WAAaiE,KAAKjD,KAAKG,IAAIrD,UAAUC,OAAOE,UAAW,GAAI,QAE3DO,EAAGyB,SAAWnC,UAAUC,OAAOC,cAClCQ,EAAGyB,SAAW,GAAIF,MAAKjC,UAAUC,OAAOC,cAErCQ,EAAGyB,SAASmB,WAAatD,UAAUC,OAAOE,UAAUmD,YACvD5C,EAAGyB,SAAWgE,KAAKjD,KAAKG,IAAIrD,UAAUC,OAAOE,UAAW,GAAI,QAEzDO,EAAGwB,WAAWoB,WAAa5C,EAAGyB,SAASmB,YAC1C5C,EAAGyB,SAAWgE,KAAKjD,KAAKG,IAAI3C,EAAGwB,WAAaiE,KAAKlG,OAAO4G,gBAAgBV,KAAKlG,OAAO6G,UAAY,WAEjGpG,EAAG6E,OAAOY,KAAKX,cAAc9E,KAEvB;GAERV,UAAU4C,YAAY,iBAAiB,SAASoD,GAC/C,IAAKA,EAAI,OAAO,CAChB,IAAItF,GAAKV,UAAUuG,SAASP,EAC5B,KAAKtB,EAAQhE,GAAI,CAChB,IAAKiB,EAAQ,OAAO,CACpBjB,GAAGwB,WAAaP,EAAO,GACvBjB,EAAGyB,SAAWR,EAAO,GACrBjB,EAAG6E,OAAOY,KAAKX,cAAc9E,GAE9B,OAAO,IAERV,UAAU4C,YAAY,uBAAuB,SAASlC,GACrD,MAAOgE,GAAQhE,KAEhBV,UAAU4C,YAAY,uBAAwB,SAASlC,GACtD,GAAIwB,GAAalC,UAAU+G,cAAcrG,GAAIwC,KACzC0B,GACHW,QAAQ,EACRrD,WAAYA,EACZC,SAAUnC,UAAUkD,KAAKG,IAAInB,EAAYlC,UAAUC,OAAO6G,UAAW,UAEtE,OAAOpC,GAAQE,KAGhB5E,UAAU4C,YAAY,eAAgB,WACrC5C,UAAUgH;GAEXhH,UAAU4C,YAAY,oBAAqB,WAE1C,MADAqE,QAAO1D,WAAW,WAAYvD,UAAUgH,aAAgB,IACjD,IAERhH,UAAU4C,YAAY,mBAAoB,WACzC5C,UAAUkH,gBAAkBD,OAAOE,YAAY,WAC1CnH,UAAUoH,mBAEdpH,UAAUgH,aACR,OAEJhH,UAAUgH,UAAY,SAASK,GAE9B,GAAIC,GAAe,cACdnB,MAAKoB,KAAKD,KACdnB,KAAKoB,KAAKD,MAEX,IAAIE,GAAMxH,UAAUyH,eAChBC,EAAMvB,KAAKlG,MAEf,IADAD,UAAU2H,oBACLN,GAAQK,EAAIpH,UAAYkH,EAAMrB,KAAKyB,WAAaJ,EAAMrB,KAAK0B,WAAaL,EAAIM,YAAcJ,EAAIK,YAAcP,EAAIM,WAAWJ,EAAIM,UAAW,CAC9I,GAAIpH,GAAYuF,KAAK8B,kBAAkBT,EACvCrB;KAAKoB,KAAKD,GAAgBtH,UAAUkI,iBAAiBtH,EAAW4G,KAGlExH,UAAUkI,iBAAmB,SAAStH,EAAW4G,GAChD,GAAIF,GAAe,eACfa,EAAYnI,UAAUqE,kBAAkBmD,GACxCzF,GACHf,OAAQmH,EAAYA,EAAW,GAC/B5F,IAAK+E,EACLhF,KAAMgF,EAEP,KAAKnB,KAAKiC,YAAa,CACtB,GAAIjC,KAAKjF,QAAUiF,KAAKjF,OAAOiF,KAAKkC,OAAQ,CAU3C,IAAK,GARD/G,GAAO6E,KAAKjF,OAAOiF,KAAKkC,OACxBC,EAAUhH,EAAKS,QAAQoC,OACvBoE,EAAc3H,EAAU0H,EACxBE,GAAa5H,EAAU,GAAG0H,EAG1BG,GADWtC,KAAKoB,KAAmB,aAAE,GAAGmB,eAGnCxE,EAAEqE,EAAeC,EAAFtE,EAAaA,IAAK,CACzC,GAAIyE,GAAQzE,CACZnC,GAAQC,KAAO2G,CACf,IAAIC,GAAQ5I,UAAU6I,wBAAwB9G,EAAS,KAAM4G,GAAO,EACpEF,GAAOrD,KAAKwD,GAEb,MAAOH,GAGP,MADA1G,GAAQC,KAAOpB,EACRZ,UAAU6I,wBAAwB9G,EAAS,KAAMnB;CAGzD,MAAkB,SAAduF,KAAKkC,OACRtG,EAAQC,MAAQhC,UAAUkD,KAAKc,UAAUwD,GAClCxH,UAAU6I,wBAAwB9G,EAAS,KAAM,OAFzD,QAMF/B,UAAU2H,iBAAmB,WAG5B,IAAK,GAFDL,GAAe,eACfwB,EAAM3C,KAAKoB,KAAKD,GACXpD,EAAE,EAAGA,EAAE4E,EAAI3E,OAAQD,IAAK,CAChC,GAAI6E,GAAMD,EAAI5E,GACV8E,EAASD,EAAIE,UACbD,IACHA,EAAOE,YAAYH,GAGrB5C,KAAKoB,KAAKD,OA6CXtH,UAAU+D,mBAAsBoF,WAEhCnJ,UAAUqE,kBAAoB,SAASnB,GACtC,MAAuB,IAAhBA,EAAK4E,WAAgB5E,EAAKkG,cAElCpJ,UAAUqJ,0BAA4B,SAASpJ,GAC9C,GAAIqJ,MACAC,IAKJ,IAHmB,YAAftJ,EAAO+B,OACV/B,EAAO+B,MAAQ,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAExB/B,EAAO+B,eAAgBwH,OAAO,CAEjC,IAAK,GADDC,GAASxJ,EAAO+B,KAAK0H,QAChBxF,EAAE,EAAGA,EAAEuF,EAAOtF,OAAQD,IAAK,CACnC,GAAIyF,GAAgB3J,UAAU2G,YAAY1G,EAC1C0J;EAAc3H,KAAOyH,EAAOvF,GAC5BoF,EAAUlE,KAAKwE,MAAMN,EAAWtJ,UAAUqJ,0BAA0BM,IAErE,MAAOL,GAGR,IAAMrJ,KAAaA,EAAOiC,YAAcjC,EAAOkC,UAAYlC,EAAOkC,SAAWlC,EAAOiC,YAAgC2H,SAAhB5J,EAAO+B,MAAsB/B,EAAOe,OACvI,MAAOsI,EAER,IAAIQ,GAAM,EACNC,EAAM,IACU,YAAhB9J,EAAOe,QACVf,EAAOe,OAAS8I,EAAKC,IAClB9J,EAAOe,OAASf,EAAO+J,eAC1B/J,EAAOe,MAAQhB,UAAUiK,YAAYhK,EAAOe,QAG7Cf,EAAO+F,GAAKhG,UAAUkK,MACtBjK,EAAOsC,IAAMtC,EAAOsC,KAAK,GACzBtC,EAAOqC,KAAOrC,EAAOqC,MAAMT,CAE3B,IAAIQ,GAAWpC,EAAOoC,QACtB,IAAIA,GACH,IAAK,GAAI8H,KAAY9H,GACpB,GAAIA,EAAS+H,eAAeD,GAAW,CACtC,GAAIE,GAAMhI,EAAS8H,EACbE,aAAeb,SACpBa,GAAOA,GACR,KAAK,GAAInG,GAAE,EAAGA,EAAEmG,EAAIlG,OAAQD,IAAK,CAChC,GAAIoG,GAAWtK,UAAUmF,cAAelF,EACxCqK;EAASjI,YACTiI,EAASjI,SAAS8H,GAAYE,EAAInG,GAClCqF,EAAanE,KAAKkF,SAKrBf,GAAanE,KAAKnF,EAGnB,KAAK,GAAIsK,GAAE,EAAGA,EAAEhB,EAAapF,OAAQoG,IAAK,CACzC,GAAIC,GAAWjB,EAAagB,GAExBrI,EAAasI,EAAStI,WACtBC,EAAWqI,EAASrI,QAExB,IAAID,GAAcC,EAIjB,IAHA,GAAIsI,GAAOzK,UAAUkD,KAAKc,UAAU,GAAI/B,MAAKC,IACzCwI,EAAM1K,UAAUkD,KAAKG,IAAIoH,EAAM,EAAG,OAExBtI,EAAPsI,GAAiB,CACvB,GAAIH,GAAWtK,UAAUmF,cAAeqF,SACjCF,GAASpI,iBACToI,GAASnI,SAChBmI,EAAStI,KAAOyI,EAAKnH,SACrB,IAAI6E,GAAcjG,EAAauI,EAAQzK,UAAUqE,kBAAkBnC,GAAc4H,EAC7Ea,EAAaxI,EAASuI,GAAQvI,EAASoC,WAAakG,EAAKlG,UAAcwF,EAAM/J,UAAUqE,kBAAkBlC,EAC7GmI,GAAStJ,OAASmH,EAAYwC,GAC9BrB,EAAUlE,KAAKkF,GAEfG,EAAOC,EACPA,EAAO1K,UAAUkD,KAAKG,IAAIqH,EAAM,EAAG,WAGhCF,GAASxI,eAAgBC,QAC5BuI,EAASxI,KAAQhC,UAAUkD,KAAKc,UAAUwG,EAASxI,MAAOsB,WAC3DkH,EAASxJ,MAAQf,EAAOe,MAAM0I,QAC9BJ,EAAUlE,KAAKoF;CAGjB,MAAOlB,IAERtJ,UAAU4K,oBAAsB,SAASC,EAAOC,EAAOC,GACtD,GAAI/F,KACJ8F,GAAQ9K,UAAUkD,KAAKc,UAAU,GAAI/B,MAAK6I,GAAO9K,UAAU6H,YAC3DkD,EAAM,GAAI9I,MAAK8I,GAAK/K,UAAU4H,UAI9B,KAHA,GAAIoD,GAAYF,EAAM7G,SAClBgH,EAASJ,EAAMG,GAAa,EAAMH,EAAMG,EAAc,EAAEF,EAAM7G,SAAS4G,EACvEK,EAASlL,UAAUkD,KAAKG,IAAIyH,EAAOG,EAAO,OAC9BF,EAATG,EAAcA,EAASlL,UAAUkD,KAAKG,IAAI6H,EAAQ,EAAG,QAC3DlG,EAAMI,KAAK8F,EAEZ,OAAOlG,IAERhF,UAAUmL,2BAA6B,SAASlL,GAC/C,GAAImL,KAOJ,OANInL,GAAOqC,MAAQV,IAClBwJ,EAAYhG,KAAKxD,GACb3B,EAAOsC,KACV6I,EAAYhG,KAAKxD,EAAe,WAElCwJ,EAAYhG,KAAK,sBAAuBnF,EAAOsC,KACxC6I,EAAYC,KAAK,MAEzBrL,UAAUsL,qBAAuB,SAASrL,GACzC,GAAIsL,GAASC,SAASC,cAAc,MAOpC;MANIxL,GAAOyL,OACgB,gBAAfzL,GAAOyL,KACjBH,EAAMI,UAAY1L,EAAOyL,KAEzBH,EAAMK,YAAY3L,EAAOyL,OAEpBH,GAERvL,UAAU6I,wBAA0B,SAAS9G,EAAS8J,EAAMC,GAC3D,GAAIC,MACAlH,EAAI7E,UAAUC,OACd+L,EAAW7F,KAAK0B,UAChBoE,EAAW9F,KAAKyB,UAChB/G,GAAY,CAEhB,KAAKgE,EAAEtE,yBACN,MAAOwL,EAGR,KAAKD,GAAe,IAARA,EAAW,CACtB,GAAI/J,EAAQC,KAAO,EAClB8J,EAAM/J,EAAQC,SACV,CACJ,GAAIkK,GAAkB,GAAIjK,MAAKF,EAAQC,KAIvC,IAHAnB,GAAaqL,KAGLD,GAAYC,IAAiCA,IAAbF,GACvC,MAAOD,EAERD,GAAMI,EAAgBjI,SAIvB,GAAIkI,GAAUH,EAAS/H,QACnBkI,GAAUL,EACbA,EAAM,GAAKK,EAAQL,GAEnBA,GAAYK,EAGd,GAAInL,GAAQe,EAAQf,MAChBoK,EAAcpL,UAAUmL,2BAA2BpJ,EAEvD,IAAI/B,UAAUoI,aAAkC,SAAnBpI,UAAUqI,MAAkB,CACxD,GAAI+D,MACApK,IAGJ;GAAK6J,EAMJO,EAAMhH,KAAKyG,GACX7J,EAAKoD,KAAK0G,OAPA,CACV9J,EAAO,GAAenB,GAAab,UAAU4K,oBAAoBkB,EACjE,KAAK,GAAI5H,GAAE,EAAGA,EAAIlC,EAAKmC,OAAQD,IAC9BkI,EAAMhH,KAAMe,KAAKkG,QAAQrK,EAAKkC,KAOhC,IAAK,GAAIA,GAAE,EAAGA,EAAIkI,EAAMjI,OAAQD,IAAK,CACpC2H,EAAOO,EAAMlI,GACb4H,EAAM9J,EAAKkC,EAEX,IAAIoI,GAAQC,KAAKC,OAAOrG,KAAKsG,eAAeX,EAAI,GAAGE,EAAS1I,YAAY,MAAc6C,KAAKuG,MAAMvI,SAChGwI,EAAOxG,KAAK8B,kBAAkB6D,GAAK,GAAS3F,KAAKuG,MAAMvI,MAExD,KAAGgC,KAAKyG,SAASD,GAAjB,CAEA,GAAIE,GAAc7M,UAAUsL,qBAAqBvJ,GAChD+K,EAASP,KAAKxC,IAAI8B,EAAKkB,aAAe,EAAG,GACzCC,EAAQT,KAAKxC,IAAI8B,EAAKoB,YAAc,EAAG,GACvCC,EAAO/G,KAAKgH,OAAOR,GACnBS,EAAMjH,KAAKgH,OAAOE,QAAQf,IAAQnG,KAAKgH,OAAOL,OAAQ3G,KAAKmH,GAAGC,mBAAmB,EAAG,GAAG,CAExFV;EAAYW,UAAYpC,EACxByB,EAAYY,MAAML,IAAMA,EAAM,KAC9BP,EAAYY,MAAMC,WAAab,EAAYY,MAAMX,OAASA,EAAS,IAEnE,KAAK,GAAIvC,GAAE,EAAGA,EAAIvJ,EAAMmD,OAAQoG,GAAG,EAAG,CACrC,GAAIO,GAAQ9J,EAAMkD,GACd6G,EAAM/J,EAAMkD,EAAE,EAClB,IAAW4G,GAAPC,EACH,QAED,IAAIQ,GAAQsB,EAAYc,WAAU,EAElCpC,GAAMkC,MAAMP,KAAQA,EAAOX,KAAKqB,MAAO,EAAQ,KAAUZ,GAAU,KACnEzB,EAAMkC,MAAMT,MAAQT,KAAKqB,OAAQ7C,EAAID,GAAO,KAAUkC,GAAS,KAE/DnB,EAAKD,YAAYL,GACjBQ,EAAO3G,KAAKmG,UAGR,CACN,GAAIV,GAAQiB,CAEZ,IAAG3F,KAAKyG,SAASzG,KAAK8B,kBAAkB6D,GAAK,IAAS,MAAOC,EAE7D,IAAI5F,KAAKjF,QAAUiF,KAAKjF,OAAOiF,KAAKkC,QAAUtG,EAAQM,UAAYN,EAAQM,SAAS8D,KAAKkC,OAAQ,CAC/F,GAAI/G,GAAO6E,KAAKjF,OAAOiF,KAAKkC,MAC5BwC,GAAQvJ,EAAKuM,MAAM9L,EAAQM,SAAS8D,KAAKkC,OAEzC,IAAIyF,GAAcxM,EAAKuM,MAAM9L,EAAQM,SAAS8D,KAAKkC,OACnD;GAAK/G,EAAKU,KAAO,EAKZ,CACJ,GAAIsG,GAAShH,EAAKS,QAAQoC,MAC1B0G,GAAQA,EAAMvC,EAAUwF,MANxBjD,GAAQiD,EACJxM,EAAKyM,MAASlD,EAAQvJ,EAAK0M,SAAS1M,EAAKyM,OAC5ClD,EAAQ,GAOXgB,EAAOA,EAAOA,EAAO7L,UAAUiO,cAAcpD,EAE7C,KAAK,GAAI3G,GAAI,EAAGA,EAAIlD,EAAMmD,OAAQD,GAAG,EAAE,CACtC,GAAI4G,GAAQyB,KAAKxC,IAAI/I,EAAMkD,GAAiB,GAAbW,EAAEkD,YAC7BgD,EAAMwB,KAAKzC,IAAI9I,EAAMkD,EAAE,GAAgB,GAAZW,EAAEmD,UACjC,IAAW8C,GAAPC,EAAc,CACjB,GAAI7G,EAAE,EAAIlD,EAAMmD,OACf,QAEA,UAGF,GAAIoH,GAAQvL,UAAUsL,qBAAqBvJ,EAC3CwJ,GAAMiC,UAAYpC,CAGlB,IAAI8C,GAA4C,GAAzB/H,KAAKlG,OAAOkO,aAAkB,EACjDC,EAAU,IACd7C,GAAMkC,MAAML,IAAOb,KAAKqB,OAAa,GAAN9C,EAAS,IAAK3E,KAAKlG,OAAO8H,WAAWqG,GAASjI,KAAKlG,OAAOkO,aAAaC,GAAWF,EAAoB,KACrI3C,EAAMkC,MAAMC,WAAanC,EAAMkC,MAAMX,OAASP,KAAKxC,IAAKwC,KAAKqB,MAAmB,IAAX7C,EAAID,GAAU,IAAM3E,KAAKlG,OAAOkO,aAAaC,GAAYF,EAAkB,GAAG,KAEnJrC,EAAKD,YAAYL,GACjBQ,EAAO3G,KAAKmG;EAId,MAAOQ,IAGR/L,UAAUqO,aAAe,SAASC,GACjC,GAAIC,GAAUvO,UAAUqJ,0BAA0BiF,EAClD,IAAKC,EAAQpK,OAAb,CAGA,IAAK,GADDqK,MACKtK,EAAE,EAAGA,EAAEqK,EAAQpK,OAAQD,IAAK,CACpC,GAAIjE,GAASsO,EAAQrK,GACjB6H,EAAS/L,UAAU6I,wBAAwB5I,EAAQ,KAAM,KAC1D8L,GAAO5H,QACTqK,EAAKpJ,KAAKwE,MAAM4E,EAAMzC,GAExB,MAAOyC,KAERxO,UAAUyO,eAAiB,SAASD,GACnC,GAAKA,EAEL,IAAK,GAAItK,GAAE,EAAGA,EAAEsK,EAAKrK,OAAQD,IAAK,CACjC,GAAI6E,GAAMyF,EAAKtK,EAEX6E,GAAIE,YACPF,EAAIE,WAAWC,YAAYH,KAK9B/I,UAAU0O,yBAEV1O,UAAUyC,kBAAoB,SAAS6L,GACtC,GAAIC,GAAUvO,UAAUqJ,0BAA0BiF,GAC9CnF,EAAS,QAEb,IAAKoF,EAAQpK,OAAb,CAGA,GAAI6B,GAAKuI,EAAQ,GAAGvI,GAChBrF,EAAYX,UAAU+D,kBACtBsG,EAAMrK,UAAU0O,qBACfrE;EAAIrE,KACRqE,EAAIrE,MAEL,KAAK,GAAI9B,GAAE,EAAGA,EAAEqK,EAAQpK,OAAQD,IAAK,CACpC,GAAIjE,GAASsO,EAAQrK,GACjB4H,EAAM7L,EAAO+B,KAGbK,GAFQpC,EAAOe,MACTf,EAAOsC,IACFtC,EAAOoC,UAClBC,EAAOrC,EAAOqC,IAGlB,IAFArC,EAAO+F,GAAKA,EAER3D,GACH,IAAK,GAAI8H,KAAY9H,GACpB,GAAIA,EAAS+H,eAAeD,GAAW,CACjCxJ,EAAUwJ,KACdxJ,EAAUwJ,MACX,IAAIwE,GAAUtM,EAAS8H,GACnByE,EAAiBjO,EAAUwJ,EAC1ByE,GAAeD,KACnBC,EAAeD,OACXC,EAAeD,GAAS7C,KAC5B8C,EAAeD,GAAS7C,OACpB8C,EAAeD,GAAS7C,GAAKxJ,KACjCsM,EAAeD,GAAS7C,GAAKxJ,MACzBtC,UAAU6O,0BACb7O,UAAU6O,4BACP7O,UAAU6O,wBAAwBvM,KACrCtC,UAAU6O,wBAAwBvM,IAAQ,GAE5C,IAAIwM,GAAcF,EAAeD,GAAS7C,GAAKxJ,EAC/CrC,GAAO8O,OAASD,EAChBA,EAAY1J,KAAKnF,GACjBoK,EAAIrE,GAAIZ,KAAKnF,QAGT,CACDU,EAAUwI,GAAQ2C,KACtBnL,EAAUwI,GAAQ2C,OACdnL,EAAUwI,GAAQ2C,GAAKxJ,KAC3B3B,EAAUwI,GAAQ2C,GAAKxJ,OAEpBtC,UAAU6O,0BACb7O,UAAU6O,4BACP7O,UAAU6O,wBAAwBvM,KACrCtC,UAAU6O,wBAAwBvM,IAAQ,EAG3C;GAAIwM,GAAcnO,EAAUwI,GAAQ2C,GAAKxJ,EACzCrC,GAAO8O,OAASD,EAChBA,EAAY1J,KAAKnF,GACjBoK,EAAIrE,GAAIZ,KAAKnF,IAGf,MAAO+F,KAGRhG,UAAUyB,oBAAsB,SAASuN,EAAehO,GACvD,GAAIiO,GAAkBD,EAActF,OAGpC,IAFA1I,EAAQA,EAAM0I,SAETuF,EAAgB9K,OACpB,MAAOnD,EAER,KAAK,GAAIkD,GAAE,EAAGA,EAAE+K,EAAgB9K,OAAQD,GAAG,EAK1C,IAAK,GAJDgL,GAAeD,EAAgB/K,GAC/BiL,EAAaF,EAAgB/K,EAAE,GAC/BkL,EAAUlL,EAAE,GAAK+K,EAAgB9K,OAE5BoG,EAAE,EAAGA,EAAEvJ,EAAMmD,OAAQoG,GAAG,EAAG,CACnC,GAAIpC,GAAanH,EAAMuJ,GACnBI,EAAW3J,EAAMuJ,EAAE,EACvB,IAAKI,EAAWwE,GAA4BA,GAAdhH,GAA2C+G,EAAb/G,GAA6BwC,GAAYuE,EACpGD,EAAgB/K,GAAKqI,KAAKzC,IAAIoF,EAAc/G,GAC5C8G,EAAgB/K,EAAE,GAAKqI,KAAKxC,IAAIoF,EAAYxE,GAC5CzG,GAAK,MACC,CACN,IAAKkL,EACJ,QAED,IAAIC,GAAUH,EAAe/G,EAAY,EAAE,CAC3C8G,GAAgBK,OAAOpL,EAAEmL,EAAQ,EAAGlH,EAAYwC,GAEjD3J,EAAMsO,OAAO/E,IAAI,EACjB,OAGF,MAAO0E,IAERjP,UAAUuP,yBAA2B,SAASP,EAAehO,GAE5D,IAAK,GADDiO,GAAkBD,EAActF,QAC3BxF,EAAE,EAAGA,EAAE+K,EAAgB9K,OAAQD,GAAG,EAG1C,IAAK,GAFDgL,GAAeD,EAAgB/K,GAC/BiL,EAAaF,EAAgB/K,EAAE,GAC1BqG,EAAE,EAAGA,EAAEvJ,EAAMmD,OAAQoG,GAAG,EAAG,CACnC,GAAIpC,GAAanH,EAAMuJ,GACnBI,EAAW3J,EAAMuJ,EAAE,EACvB;GAAII,EAAWuE,GAA6BC,EAAbhH,EAAyB,CACvD,GAAIqH,IAAc,CACdN,IAAgB/G,GAA4BwC,GAAdwE,GACjCF,EAAgBK,OAAOpL,EAAG,GAERiE,EAAf+G,IACHD,EAAgBK,OAAOpL,EAAG,EAAGgL,EAAc/G,GAC3CqH,GAAc,GAEXL,EAAaxE,GAChBsE,EAAgBK,OAAQ,EAAepL,EAAE,EAAGA,EAAG,EAAc,EAAE,EAAGyG,EAAUwE,GAE7EjL,GAAK,CACL,QAMH,MAAO+K,IAERjP,UAAUiK,YAAc,SAASjJ,GAChC,MAAOhB,WAAUuP,0BAA0B,EAAG,MAAOvO,EAAM0I,UAE5D1J,UAAUyP,8BAAgC,SAASzJ,GAClD,GAAIuI,GAAUvO,UAAU0O,sBAAsB1I,EAC9C,IAAIuI,EACH,IAAK,GAAIrK,GAAE,EAAGA,EAAEqK,EAAQpK,OAAQD,IAG/B,IAAK,GAFDjE,GAASsO,EAAQrK,GACjBwL,EAAezP,EAAO8O,OACjBxE,EAAE,EAAGA,EAAEmF,EAAavL,OAAQoG,IACpC,GAAImF,EAAanF,IAAMtK,EAAQ,CAC9ByP,EAAaJ,OAAO/E,EAAG,EACvB,SAMLvK,UAAU2P,kCAAoC,SAAS1P,GACtD,GAAIU,GAAYX,UAAU+D,kBACtB1B,EAAWpC,EAAOoC,SAClByJ,EAAM7L,EAAO+B,KACbM,EAAOrC,EAAOqC,MAAMT,EACpB+N,IACJ;GAAIvN,GACH,IAAK,GAAI8H,KAAY9H,GACpB,GAAIA,EAAS+H,eAAeD,IAAaxJ,EAAUwJ,GAAW,CAC7D,GAAIwE,GAAUtM,EAAS8H,EACnBxJ,GAAUwJ,GAAUwE,IAAYhO,EAAUwJ,GAAUwE,GAAS7C,IAAQnL,EAAUwJ,GAAUwE,GAAS7C,GAAKxJ,KAC1GsN,EAAgBjP,EAAUwJ,GAAUwE,GAAS7C,GAAKxJ,SAIjD3B,GAAUwI,OAAO2C,IAAQnL,EAAUwI,OAAO2C,GAAKxJ,KAClDsN,EAAgBjP,EAAUwI,OAAO2C,GAAKxJ,GAExC,KAAK,GAAI4B,GAAE,EAAGA,EAAE0L,EAAczL,OAAQD,IAAK,CAC1C,GAAI2L,GAAMD,EAAc1L,GACpBlD,EAAQhB,UAAUuP,yBAAyBM,EAAI7O,MAAOf,EAAOe,MACjE,IAAIA,EAAMmD,OACT0L,EAAI7O,MAAQA,MACR,CACJ4O,EAAcN,OAAOpL,EAAE,GACvBA,GAGA,KAAK,GADD4L,GAAgB9P,UAAU0O,sBAAsBmB,EAAI7J,IAC/CuE,EAAE,EAAGA,EAAEuF,EAAc3L,OAAQoG,IACrC,GAAIuF,EAAcvF,IAAMsF,EAAK,CAC5BC,EAAcR,OAAO/E,EAAG,EACxB,SAMJ,IAAK,GAAIrG,KAAKlE,WAAU+D,kBAAkBgM,SACzC,IAAK,GAAIC,KAAKhQ,WAAU+D,kBAAkBgM,SAAS7L,GAClD,IAAK,GAAIqG,KAAKvK,WAAU+D,kBAAkBgM,SAAS7L,GAAG8L,GACjDzF,IAAMjI,SACFtC,WAAU+D,kBAAkBgM,SAAS7L,GAAG8L,GAAGzF;EAMvDvK,UAAU2C,qBAAuB,SAAS2L,GAQzC,GANK2B,UAAU9L,SACdnE,UAAU+D,mBAAsBoF,WAChCnJ,UAAU0O,yBACV1O,UAAU6O,4BAGiB,gBAAjBP,GACVtO,UAAUyP,8BAA8BnB,OAClC,CAEDA,EAAcpM,YAAcoM,EAAcnM,WAC1CmM,EAActM,OACjBsM,EAActM,KAAO,YAClBsM,EAActN,QACjBsN,EAActN,MAAQ,WAGxB,IAAIkP,KACJ,IAAI5B,EAAchM,KAMjB4N,EAAM9K,KAAKkJ,EAAchM,UAJzB,KAAI,GAAIA,KAAQtC,WAAU6O,wBACzBqB,EAAM9K,KAAK9C,EASb,KAAK,GAFDiM,GAAUvO,UAAUqJ,0BAA0BiF,GAEzCpK,EAAE,EAAGA,EAAEqK,EAAQpK,OAAQD,IAG/B,IAAK,GADDjE,GAASsO,EAAQrK,GACZiM,EAAE,EAAGA,EAAID,EAAM/L,OAAQgM,IAAI,CACnC,GAAIC,GAAcpQ,UAAU2G,YAAY1G,EACxCmQ;EAAY9N,KAAO4N,EAAMC,GACzBnQ,UAAU2P,kCAAkCS,MAMhDpQ,UAAUqQ,qBAAuB,SAASC,EAAQC,GACjD,GAAIC,GAAkB,EAAWF,IACjC,KAAK,GAAIhO,KAAQiO,OACZA,EAASnG,eAAe9H,KAC3BkO,EAAgBlO,GAAQiO,EAASjO,GAGnC,OAAOkO,IAERxQ,UAAUyQ,uBAAyB,SAASP,GAC3C,GAAI3B,KACJ,KAAK,GAAIjM,KAAQ4N,GACZA,EAAM9F,eAAe9H,IACxBiM,EAAQnJ,KAAKwE,MAAM2E,EAAS2B,EAAM5N,GAGpC,OAAOiM,IAERvO,UAAU4C,YAAY,aAAc,SAASiJ,EAAMC,GAClD,IAAI9L,UAAUoI,aAAkC,SAAnBpI,UAAUqI,MAAvC,CAGA,GAAIzH,GAAYkL,EAAI7H,SAChBpD,EAAYiL,EAAIxI,UAChBH,EAAOgD,KAAKkC,MACZ1H,EAAYX,UAAU+D,kBACtBuF,IAEJ,IAAInD,KAAKjF,QAAUiF,KAAKjF,OAAOiC,GAAO,CACrC,GAAI7B,GAAO6E,KAAKjF,OAAOiC,GACnBuN,EAAQpP,EAAKS,QACb8I,EAAQ7K,UAAU2Q,gBAAgBrP,EAAMwK,GACxC8E,EAAOF,EAAM7F,EAEjB;GAAKvJ,EAAKU,KAAO,EAEZ,CACJ,GAAI6O,GAAK,MACLC,EAAUvE,KAAKC,OAAOV,EAAM9L,UAAU6H,WAAWgJ,EAErD/E,GAAM9L,UAAUkD,KAAKG,IAAIrD,UAAU6H,UAAW0E,KAAKC,MAAMsE,EAAQJ,EAAMvM,QAAS,OAChF2H,EAAM9L,UAAUkD,KAAKc,UAAU8H,OAN/BA,GAAM9L,UAAUkD,KAAKc,UAAU,GAAI/B,MAAKkE,KAAK4K,OAW9C,IAHAnQ,EAAYkL,EAAI7H,SAChBpD,EAAYiL,EAAIxI,UAEZ3C,EAAUwC,IAASxC,EAAUwC,GAAMyN,EAAKI,KAAM,CACjD,GAAIC,GAAatQ,EAAUwC,GAAMyN,EAAKI,KAClCE,EAAalR,UAAUqQ,qBAAqBY,EAAWrQ,GAAYqQ,EAAWpQ,GAClFyI,GAAUlE,KAAKwE,MAAMN,EAAWtJ,UAAUyQ,uBAAuBS,KAInE,GAAIC,GAAcxQ,EAAkB,OAChCyQ,EAAYD,EAAYtQ,IAAYsQ,EAAYvQ,EACpD0I,GAAUlE,KAAKwE,MAAMN,EAAWtJ,UAAUyQ,uBAAuBW,GAEjE,KAAK,GAAIlN,GAAE,EAAGA,EAAEoF,EAAUnF,OAAQD,IACjClE,UAAU6I,wBAAwBS,EAAUpF,GAAI2H,EAAMC;IAIxD9L,UAAUqR,6BAA+B,SAASC,EAAEC,GAC9CvR,UAAUC,OAAOuR,iBACrBxR,UAAU+F,UAAU,mBAAmB/F,UAAU+G,cAAcuK,GAAGpO,KAAKqO,EAAID,IAE5EtR,UAAUyR,YAAYzR,UAAU+G,cAAcuK,GAAGpO,KAAK,KAAKoO,KAI7DtR,UAAUQ"}