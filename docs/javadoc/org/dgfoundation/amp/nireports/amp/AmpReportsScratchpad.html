<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_292) on Thu Feb 16 18:19:40 ART 2023 -->
<title>AmpReportsScratchpad</title>
<meta name="date" content="2023-02-16">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AmpReportsScratchpad";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":9,"i5":10,"i6":9,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsSchema.NamedElemType.html" title="enum in org.dgfoundation.amp.nireports.amp"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpSqlSourcedColumn.html" title="class in org.dgfoundation.amp.nireports.amp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html" target="_top">Frames</a></li>
<li><a href="AmpReportsScratchpad.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.dgfoundation.amp.nireports.amp</div>
<h2 title="Class AmpReportsScratchpad" class="title">Class AmpReportsScratchpad</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.dgfoundation.amp.nireports.amp.AmpReportsScratchpad</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.AutoCloseable, <a href="../../../../../org/dgfoundation/amp/nireports/schema/SchemaSpecificScratchpad.html" title="interface in org.dgfoundation.amp.nireports.schema">SchemaSpecificScratchpad</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">AmpReportsScratchpad</span>
extends java.lang.Object
implements <a href="../../../../../org/dgfoundation/amp/nireports/schema/SchemaSpecificScratchpad.html" title="interface in org.dgfoundation.amp.nireports.schema">SchemaSpecificScratchpad</a></pre>
<div class="block">the AMP-schema-specific scratchpad <br />
 In short: each <a href="../../../../../org/dgfoundation/amp/nireports/NiReportsEngine.html" title="class in org.dgfoundation.amp.nireports"><code>NiReportsEngine</code></a> instance running a report has an <a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html" title="class in org.dgfoundation.amp.nireports.amp"><code>AmpReportsScratchpad</code></a> counterpart instance. 
 They each hold a reference to each other (for ease of coding) and they are both discarded as soon as a report run ends.
 please see <a href="../../../../../org/dgfoundation/amp/nireports/NiReportsEngine.html#schemaSpecificScratchpad"><code>NiReportsEngine.schemaSpecificScratchpad</code></a></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;<a href="../../../../../org/dgfoundation/amp/ar/viewfetcher/PropertyDescription.html" title="interface in org.dgfoundation.amp.ar.viewfetcher">PropertyDescription</a>,<a href="../../../../../org/dgfoundation/amp/ar/viewfetcher/ColumnValuesCacher.html" title="class in org.dgfoundation.amp.ar.viewfetcher">ColumnValuesCacher</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#columnCachers">columnCachers</a></span></code>
<div class="block">caching area for i18n fetchers</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/dgfoundation/amp/algo/Memoizer.html" title="class in org.dgfoundation.amp.algo">Memoizer</a>&lt;<a href="../../../../../org/dgfoundation/amp/nireports/amp/SelectedYearBlock.html" title="class in org.dgfoundation.amp.nireports.amp">SelectedYearBlock</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#computedMeasuresBlock">computedMeasuresBlock</a></span></code>
<div class="block">a <a href="../../../../../org/dgfoundation/amp/algo/Memoizer.html" title="class in org.dgfoundation.amp.algo"><code>Memoizer</code></a> of a block of various variables relevant for computed measures.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/dgfoundation/amp/algo/Memoizer.html" title="class in org.dgfoundation.amp.algo">Memoizer</a>&lt;java.util.Set&lt;java.lang.Long&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#computedPledgeIds">computedPledgeIds</a></span></code>
<div class="block">a <a href="../../../../../org/dgfoundation/amp/algo/Memoizer.html" title="class in org.dgfoundation.amp.algo"><code>Memoizer</code></a> for pledge ids.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.sql.Connection</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#connection">connection</a></span></code>
<div class="block">the JDBC connection used by the fetchers to run SQL queries</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.Boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#displayUnlinkedFundingInPledgesReports">displayUnlinkedFundingInPledgesReports</a></span></code>
<div class="block">FOR TESTCASES ONLY.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/dgfoundation/amp/nireports/NiReportsEngine.html" title="class in org.dgfoundation.amp.nireports">NiReportsEngine</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#engine">engine</a></span></code>
<div class="block">the counterpart engine</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.time.LocalDate</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#forcedNowDate">forcedNowDate</a></span></code>
<div class="block">FOR TESTCASES ONLY.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#lastEventId">lastEventId</a></span></code>
<div class="block">the last amp_etl_changelog event id which will be taken in consideration by fetchers while running this report</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.concurrent.ConcurrentHashMap&lt;java.lang.String,java.lang.Integer&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#monthNumbersCache">monthNumbersCache</a></span></code>
<div class="block">AMP-22850: fiscal calendars which start in the middle of a month have a maledefined behaviour regarding "what is the month number of month X?".</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../org/dgfoundation/amp/nireports/NiPrecisionSetting.html" title="interface in org.dgfoundation.amp.nireports">NiPrecisionSetting</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#precisionSetting">precisionSetting</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/digijava/module/aim/dbentity/AmpCurrency.html" title="class in org.digijava.module.aim.dbentity">AmpCurrency</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#usedCurrency">usedCurrency</a></span></code>
<div class="block">the currency used to render the report - do not write anything to it!</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#verticalSplitByModeOfPayment">verticalSplitByModeOfPayment</a></span></code>
<div class="block">this will be true IFF <a href="../../../../../org/digijava/module/aim/helper/GlobalSettingsConstants.html#SPLIT_BY_MODE_OF_PAYMENT"><code>GlobalSettingsConstants.SPLIT_BY_MODE_OF_PAYMENT</code></a> is true AND the report includes <a href="../../../../../org/dgfoundation/amp/ar/ColumnConstants.html#MODE_OF_PAYMENT"><code>ColumnConstants.MODE_OF_PAYMENT</code></a> as a column but not as a hierarchy</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#verticalSplitByTypeOfAssistance">verticalSplitByTypeOfAssistance</a></span></code>
<div class="block">this will be true IFF <a href="../../../../../org/digijava/module/aim/helper/GlobalSettingsConstants.html#SPLIT_BY_TYPE_OF_ASSISTANCE"><code>GlobalSettingsConstants.SPLIT_BY_TYPE_OF_ASSISTANCE</code></a> is true AND the report includes <a href="../../../../../org/dgfoundation/amp/ar/ColumnConstants.html#TYPE_OF_ASSISTANCE"><code>ColumnConstants.TYPE_OF_ASSISTANCE</code></a> as a column but not as a hierarchy</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#AmpReportsScratchpad-org.dgfoundation.amp.nireports.NiReportsEngine-">AmpReportsScratchpad</a></span>(<a href="../../../../../org/dgfoundation/amp/nireports/NiReportsEngine.html" title="class in org.dgfoundation.amp.nireports">NiReportsEngine</a>&nbsp;engine)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/dgfoundation/amp/nireports/runtime/CachingCalendarConverter.html" title="class in org.dgfoundation.amp.nireports.runtime">CachingCalendarConverter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#buildCalendarConverter--">buildCalendarConverter</a></span>()</code>
<div class="block">adds a caching layer in front of AMP's slow calendar converters.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/dgfoundation/amp/nireports/amp/PercentagesCorrector.Snapshot.html" title="class in org.dgfoundation.amp.nireports.amp">PercentagesCorrector.Snapshot</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#buildSnapshot-org.dgfoundation.amp.nireports.amp.PercentagesCorrector.Snapshot-org.dgfoundation.amp.nireports.amp.PercentagesCorrector-java.util.Set-">buildSnapshot</a></span>(<a href="../../../../../org/dgfoundation/amp/nireports/amp/PercentagesCorrector.Snapshot.html" title="class in org.dgfoundation.amp.nireports.amp">PercentagesCorrector.Snapshot</a>&nbsp;earlyEntries,
             <a href="../../../../../org/dgfoundation/amp/nireports/amp/PercentagesCorrector.html" title="class in org.dgfoundation.amp.nireports.amp">PercentagesCorrector</a>&nbsp;corrector,
             java.util.Set&lt;java.lang.Long&gt;&nbsp;ids)</code>
<div class="block">builds a <a href="../../../../../org/dgfoundation/amp/nireports/amp/PercentagesCorrector.html" title="class in org.dgfoundation.amp.nireports.amp"><code>PercentagesCorrector</code></a> <a href="../../../../../org/dgfoundation/amp/nireports/amp/PercentagesCorrector.Snapshot.html" title="class in org.dgfoundation.amp.nireports.amp"><code>PercentagesCorrector.Snapshot</code></a> based on a preexisting <a href="../../../../../org/dgfoundation/amp/nireports/amp/PercentagesCorrector.Snapshot.html" title="class in org.dgfoundation.amp.nireports.amp"><code>PercentagesCorrector.Snapshot</code></a>, a generating <a href="../../../../../org/dgfoundation/amp/nireports/amp/PercentagesCorrector.html" title="class in org.dgfoundation.amp.nireports.amp"><code>PercentagesCorrector</code></a> and a set of ids to fetch.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#close--">close</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>&lt;K extends <a href="../../../../../org/dgfoundation/amp/nireports/Cell.html" title="class in org.dgfoundation.amp.nireports">Cell</a>&gt;<br>java.util.Set&lt;java.lang.Long&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#differentiallyImportCells-org.dgfoundation.amp.algo.timing.InclusiveTimer-java.lang.String-org.dgfoundation.amp.nireports.amp.diff.DifferentialCache-java.util.function.Function-">differentiallyImportCells</a></span>(<a href="../../../../../org/dgfoundation/amp/algo/timing/InclusiveTimer.html" title="class in org.dgfoundation.amp.algo.timing">InclusiveTimer</a>&nbsp;timer,
                         java.lang.String&nbsp;mainColumn,
                         <a href="../../../../../org/dgfoundation/amp/nireports/amp/diff/DifferentialCache.html" title="class in org.dgfoundation.amp.nireports.amp.diff">DifferentialCache</a>&lt;K&gt;&nbsp;cache,
                         java.util.function.Function&lt;java.util.Set&lt;java.lang.Long&gt;,java.util.List&lt;K&gt;&gt;&nbsp;fetcher)</code>
<div class="block">given a <a href="../../../../../org/dgfoundation/amp/nireports/amp/diff/DifferentialCache.html" title="class in org.dgfoundation.amp.nireports.amp.diff"><code>DifferentialCache</code></a> instance, does the following:
 
 queries the database for the entities which have changed since the last time the cache instance has been populated (<a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#getChangedEntities-java.lang.String-long-"><code>getChangedEntities(String, long)</code></a>) - let's call it (a)
 queries the reports engine for the entities which are requested by the current report run (<a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#getRequestedEntityIds-java.lang.String-"><code>getRequestedEntityIds(String)</code></a>) - let's call it (b)
 gets the set of entity ids which are already present in the cache <a href="../../../../../org/dgfoundation/amp/nireports/amp/diff/DifferentialCache.html#getCachedEntityIds--"><code>DifferentialCache.getCachedEntityIds()</code></a> - let's call it (c)
 calculates the set of entity ids which have to be refetched as being (a - c + b).</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html" title="class in org.dgfoundation.amp.nireports.amp">AmpReportsScratchpad</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#get-org.dgfoundation.amp.nireports.NiReportsEngine-">get</a></span>(<a href="../../../../../org/dgfoundation/amp/nireports/NiReportsEngine.html" title="class in org.dgfoundation.amp.nireports">NiReportsEngine</a>&nbsp;engine)</code>
<div class="block">shorthand function to take repetitive casts out of common code: gets the AMP scratchpad attached to a running engine</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.Long&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#getChangedEntities-java.lang.String-long-">getChangedEntities</a></span>(java.lang.String&nbsp;entityType,
                  long&nbsp;firstEventId)</code>
<div class="block">returns the set of ids of entities of a given type which have been affected by an ETL-logged change between a given first-Event-Id and this scratchpad's max-event-id</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/dgfoundation/amp/nireports/amp/SelectedYearBlock.html" title="class in org.dgfoundation.amp.nireports.amp">SelectedYearBlock</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#getComputedMeasuresBlock-org.dgfoundation.amp.nireports.NiReportsEngine-">getComputedMeasuresBlock</a></span>(<a href="../../../../../org/dgfoundation/amp/nireports/NiReportsEngine.html" title="class in org.dgfoundation.amp.nireports">NiReportsEngine</a>&nbsp;engine)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/dgfoundation/amp/newreports/CalendarConverter.html" title="interface in org.dgfoundation.amp.newreports">CalendarConverter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#getDefaultCalendar--">getDefaultCalendar</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#getEntityType-java.lang.String-">getEntityType</a></span>(java.lang.String&nbsp;mainColumn)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/dgfoundation/amp/newreports/IReportEnvironment.html" title="interface in org.dgfoundation.amp.newreports">IReportEnvironment</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#getEnvironment--">getEnvironment</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.Long&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#getMainIds-org.dgfoundation.amp.nireports.NiReportsEngine-org.dgfoundation.amp.nireports.schema.NiReportColumn-">getMainIds</a></span>(<a href="../../../../../org/dgfoundation/amp/nireports/NiReportsEngine.html" title="class in org.dgfoundation.amp.nireports">NiReportsEngine</a>&nbsp;engine,
          <a href="../../../../../org/dgfoundation/amp/nireports/schema/NiReportColumn.html" title="class in org.dgfoundation.amp.nireports.schema">NiReportColumn</a>&lt;?&gt;&nbsp;col)</code>
<div class="block">given an engine context and a column, returns the set of ownerIds which should be fetched from the column</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/dgfoundation/amp/nireports/NiPrecisionSetting.html" title="interface in org.dgfoundation.amp.nireports">NiPrecisionSetting</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#getPrecisionSetting--">getPrecisionSetting</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.Long&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#getRequestedEntityIds-java.lang.String-">getRequestedEntityIds</a></span>(java.lang.String&nbsp;entityType)</code>
<div class="block">returns the set of ownerIds which should be fetched for a given sqlsourced column</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#getTimeRangeSubTotalColumnName-org.dgfoundation.amp.newreports.ReportSpecification-">getTimeRangeSubTotalColumnName</a></span>(<a href="../../../../../org/dgfoundation/amp/newreports/ReportSpecification.html" title="interface in org.dgfoundation.amp.newreports">ReportSpecification</a>&nbsp;spec)</code>
<div class="block">returns the localised name for column used for time range sub totals.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/digijava/module/aim/dbentity/AmpCurrency.html" title="class in org.digijava.module.aim.dbentity">AmpCurrency</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#getUsedCurrency--">getUsedCurrency</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/dgfoundation/amp/nireports/TranslatedDate.html" title="class in org.dgfoundation.amp.nireports">TranslatedDate</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#postprocessTranslatedDate-org.dgfoundation.amp.nireports.TranslatedDate-">postprocessTranslatedDate</a></span>(<a href="../../../../../org/dgfoundation/amp/nireports/TranslatedDate.html" title="class in org.dgfoundation.amp.nireports">TranslatedDate</a>&nbsp;in)</code>
<div class="block">postprocesses funding column's transaction dates for the sake of AMP-22850</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.dgfoundation.amp.nireports.schema.SchemaSpecificScratchpad">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.dgfoundation.amp.nireports.schema.<a href="../../../../../org/dgfoundation/amp/nireports/schema/SchemaSpecificScratchpad.html" title="interface in org.dgfoundation.amp.nireports.schema">SchemaSpecificScratchpad</a></h3>
<code><a href="../../../../../org/dgfoundation/amp/nireports/schema/SchemaSpecificScratchpad.html#buildUnderlyingCalendarConverter-org.dgfoundation.amp.newreports.ReportSpecification-">buildUnderlyingCalendarConverter</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="forcedNowDate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forcedNowDate</h4>
<pre>public static&nbsp;java.time.LocalDate forcedNowDate</pre>
<div class="block">FOR TESTCASES ONLY. In case it is non-null, for computed measures this value will be used in lieu of LocalDate.now()</div>
</li>
</ul>
<a name="displayUnlinkedFundingInPledgesReports">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>displayUnlinkedFundingInPledgesReports</h4>
<pre>public static&nbsp;java.lang.Boolean displayUnlinkedFundingInPledgesReports</pre>
<div class="block">FOR TESTCASES ONLY. When non-null will override the corresponding global setting.</div>
</li>
</ul>
<a name="columnCachers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>columnCachers</h4>
<pre>public final&nbsp;java.util.Map&lt;<a href="../../../../../org/dgfoundation/amp/ar/viewfetcher/PropertyDescription.html" title="interface in org.dgfoundation.amp.ar.viewfetcher">PropertyDescription</a>,<a href="../../../../../org/dgfoundation/amp/ar/viewfetcher/ColumnValuesCacher.html" title="class in org.dgfoundation.amp.ar.viewfetcher">ColumnValuesCacher</a>&gt; columnCachers</pre>
<div class="block">caching area for i18n fetchers</div>
</li>
</ul>
<a name="monthNumbersCache">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>monthNumbersCache</h4>
<pre>public final&nbsp;java.util.concurrent.ConcurrentHashMap&lt;java.lang.String,java.lang.Integer&gt; monthNumbersCache</pre>
<div class="block">AMP-22850: fiscal calendars which start in the middle of a month have a maledefined behaviour regarding "what is the month number of month X?".
 For example, if FY starts on the 16th of August, then the 2008-era workers will consider "September 15th" as being the first month, while "September 17th" as being the 2nd month.
 This leads to problems (e.g. crashes) later in the engine, as inconsistent ComparableValue<String> entries (one with id=1, an another with id=2) are equal by displayed value but different by ids. <br />
 What this map does is make sure all the TranslatedDate instances for a calendar map a given month to the same id, during the lifetime of a report. The right place to fix it would be a complete rewrite of <code>ICalendarWorker</code> 
 with its awful interface and bugs, but that's nontrivial and bug-prone</div>
</li>
</ul>
<a name="connection">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connection</h4>
<pre>public final&nbsp;java.sql.Connection connection</pre>
<div class="block">the JDBC connection used by the fetchers to run SQL queries</div>
</li>
</ul>
<a name="engine">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engine</h4>
<pre>public final&nbsp;<a href="../../../../../org/dgfoundation/amp/nireports/NiReportsEngine.html" title="class in org.dgfoundation.amp.nireports">NiReportsEngine</a> engine</pre>
<div class="block">the counterpart engine</div>
</li>
</ul>
<a name="lastEventId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastEventId</h4>
<pre>public final&nbsp;long lastEventId</pre>
<div class="block">the last amp_etl_changelog event id which will be taken in consideration by fetchers while running this report</div>
</li>
</ul>
<a name="computedMeasuresBlock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computedMeasuresBlock</h4>
<pre>public final&nbsp;<a href="../../../../../org/dgfoundation/amp/algo/Memoizer.html" title="class in org.dgfoundation.amp.algo">Memoizer</a>&lt;<a href="../../../../../org/dgfoundation/amp/nireports/amp/SelectedYearBlock.html" title="class in org.dgfoundation.amp.nireports.amp">SelectedYearBlock</a>&gt; computedMeasuresBlock</pre>
<div class="block">a <a href="../../../../../org/dgfoundation/amp/algo/Memoizer.html" title="class in org.dgfoundation.amp.algo"><code>Memoizer</code></a> of a block of various variables relevant for computed measures. Relatively expensive and relatively rarely used, thus memoized</div>
</li>
</ul>
<a name="computedPledgeIds">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computedPledgeIds</h4>
<pre>public final&nbsp;<a href="../../../../../org/dgfoundation/amp/algo/Memoizer.html" title="class in org.dgfoundation.amp.algo">Memoizer</a>&lt;java.util.Set&lt;java.lang.Long&gt;&gt; computedPledgeIds</pre>
<div class="block">a <a href="../../../../../org/dgfoundation/amp/algo/Memoizer.html" title="class in org.dgfoundation.amp.algo"><code>Memoizer</code></a> for pledge ids. Quite expensive to calculate and very rarely used, thus memoized</div>
</li>
</ul>
<a name="verticalSplitByModeOfPayment">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verticalSplitByModeOfPayment</h4>
<pre>public final&nbsp;boolean verticalSplitByModeOfPayment</pre>
<div class="block">this will be true IFF <a href="../../../../../org/digijava/module/aim/helper/GlobalSettingsConstants.html#SPLIT_BY_MODE_OF_PAYMENT"><code>GlobalSettingsConstants.SPLIT_BY_MODE_OF_PAYMENT</code></a> is true AND the report includes <a href="../../../../../org/dgfoundation/amp/ar/ColumnConstants.html#MODE_OF_PAYMENT"><code>ColumnConstants.MODE_OF_PAYMENT</code></a> as a column but not as a hierarchy</div>
</li>
</ul>
<a name="verticalSplitByTypeOfAssistance">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verticalSplitByTypeOfAssistance</h4>
<pre>public final&nbsp;boolean verticalSplitByTypeOfAssistance</pre>
<div class="block">this will be true IFF <a href="../../../../../org/digijava/module/aim/helper/GlobalSettingsConstants.html#SPLIT_BY_TYPE_OF_ASSISTANCE"><code>GlobalSettingsConstants.SPLIT_BY_TYPE_OF_ASSISTANCE</code></a> is true AND the report includes <a href="../../../../../org/dgfoundation/amp/ar/ColumnConstants.html#TYPE_OF_ASSISTANCE"><code>ColumnConstants.TYPE_OF_ASSISTANCE</code></a> as a column but not as a hierarchy</div>
</li>
</ul>
<a name="usedCurrency">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>usedCurrency</h4>
<pre>protected final&nbsp;<a href="../../../../../org/digijava/module/aim/dbentity/AmpCurrency.html" title="class in org.digijava.module.aim.dbentity">AmpCurrency</a> usedCurrency</pre>
<div class="block">the currency used to render the report - do not write anything to it!</div>
</li>
</ul>
<a name="precisionSetting">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>precisionSetting</h4>
<pre>protected final&nbsp;<a href="../../../../../org/dgfoundation/amp/nireports/NiPrecisionSetting.html" title="interface in org.dgfoundation.amp.nireports">NiPrecisionSetting</a> precisionSetting</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AmpReportsScratchpad-org.dgfoundation.amp.nireports.NiReportsEngine-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AmpReportsScratchpad</h4>
<pre>public&nbsp;AmpReportsScratchpad(<a href="../../../../../org/dgfoundation/amp/nireports/NiReportsEngine.html" title="class in org.dgfoundation.amp.nireports">NiReportsEngine</a>&nbsp;engine)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getUsedCurrency--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUsedCurrency</h4>
<pre>public&nbsp;<a href="../../../../../org/digijava/module/aim/dbentity/AmpCurrency.html" title="class in org.digijava.module.aim.dbentity">AmpCurrency</a>&nbsp;getUsedCurrency()</pre>
</li>
</ul>
<a name="buildSnapshot-org.dgfoundation.amp.nireports.amp.PercentagesCorrector.Snapshot-org.dgfoundation.amp.nireports.amp.PercentagesCorrector-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildSnapshot</h4>
<pre>public&nbsp;<a href="../../../../../org/dgfoundation/amp/nireports/amp/PercentagesCorrector.Snapshot.html" title="class in org.dgfoundation.amp.nireports.amp">PercentagesCorrector.Snapshot</a>&nbsp;buildSnapshot(<a href="../../../../../org/dgfoundation/amp/nireports/amp/PercentagesCorrector.Snapshot.html" title="class in org.dgfoundation.amp.nireports.amp">PercentagesCorrector.Snapshot</a>&nbsp;earlyEntries,
                                                   <a href="../../../../../org/dgfoundation/amp/nireports/amp/PercentagesCorrector.html" title="class in org.dgfoundation.amp.nireports.amp">PercentagesCorrector</a>&nbsp;corrector,
                                                   java.util.Set&lt;java.lang.Long&gt;&nbsp;ids)</pre>
<div class="block">builds a <a href="../../../../../org/dgfoundation/amp/nireports/amp/PercentagesCorrector.html" title="class in org.dgfoundation.amp.nireports.amp"><code>PercentagesCorrector</code></a> <a href="../../../../../org/dgfoundation/amp/nireports/amp/PercentagesCorrector.Snapshot.html" title="class in org.dgfoundation.amp.nireports.amp"><code>PercentagesCorrector.Snapshot</code></a> based on a preexisting <a href="../../../../../org/dgfoundation/amp/nireports/amp/PercentagesCorrector.Snapshot.html" title="class in org.dgfoundation.amp.nireports.amp"><code>PercentagesCorrector.Snapshot</code></a>, a generating <a href="../../../../../org/dgfoundation/amp/nireports/amp/PercentagesCorrector.html" title="class in org.dgfoundation.amp.nireports.amp"><code>PercentagesCorrector</code></a> and a set of ids to fetch.
 Works based on the same ideas as <a href="../../../../../org/dgfoundation/amp/nireports/amp/diff/DifferentialCache.html" title="class in org.dgfoundation.amp.nireports.amp.diff"><code>DifferentialCache</code></a></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>earlyEntries</code> - </dd>
<dd><code>corrector</code> - </dd>
<dd><code>ids</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="getChangedEntities-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChangedEntities</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.Long&gt;&nbsp;getChangedEntities(java.lang.String&nbsp;entityType,
                                                        long&nbsp;firstEventId)</pre>
<div class="block">returns the set of ids of entities of a given type which have been affected by an ETL-logged change between a given first-Event-Id and this scratchpad's max-event-id</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entityType</code> - the type of logged entity to query for. You can find a list of them in the ETL documentation here: https://wiki.dgfoundation.org/display/AMPDOC/AMP+2.10+ETL+process, file <i>etl_incremental_tables.png</i></dd>
<dd><code>firstEventId</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="getRequestedEntityIds-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequestedEntityIds</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.Long&gt;&nbsp;getRequestedEntityIds(java.lang.String&nbsp;entityType)</pre>
<div class="block">returns the set of ownerIds which should be fetched for a given sqlsourced column</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entityType</code> - the main-entity-type of the column we are trying to fetch</dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="getEntityType-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEntityType</h4>
<pre>public&nbsp;java.lang.String&nbsp;getEntityType(java.lang.String&nbsp;mainColumn)</pre>
</li>
</ul>
<a name="getMainIds-org.dgfoundation.amp.nireports.NiReportsEngine-org.dgfoundation.amp.nireports.schema.NiReportColumn-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMainIds</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.Long&gt;&nbsp;getMainIds(<a href="../../../../../org/dgfoundation/amp/nireports/NiReportsEngine.html" title="class in org.dgfoundation.amp.nireports">NiReportsEngine</a>&nbsp;engine,
                                                <a href="../../../../../org/dgfoundation/amp/nireports/schema/NiReportColumn.html" title="class in org.dgfoundation.amp.nireports.schema">NiReportColumn</a>&lt;?&gt;&nbsp;col)</pre>
<div class="block">given an engine context and a column, returns the set of ownerIds which should be fetched from the column</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/dgfoundation/amp/nireports/schema/SchemaSpecificScratchpad.html#getMainIds-org.dgfoundation.amp.nireports.NiReportsEngine-org.dgfoundation.amp.nireports.schema.NiReportColumn-">getMainIds</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/dgfoundation/amp/nireports/schema/SchemaSpecificScratchpad.html" title="interface in org.dgfoundation.amp.nireports.schema">SchemaSpecificScratchpad</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>engine</code> - the context of the asking report</dd>
<dd><code>col</code> - the column to be fetched</dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="differentiallyImportCells-org.dgfoundation.amp.algo.timing.InclusiveTimer-java.lang.String-org.dgfoundation.amp.nireports.amp.diff.DifferentialCache-java.util.function.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>differentiallyImportCells</h4>
<pre>public&nbsp;&lt;K extends <a href="../../../../../org/dgfoundation/amp/nireports/Cell.html" title="class in org.dgfoundation.amp.nireports">Cell</a>&gt;&nbsp;java.util.Set&lt;java.lang.Long&gt;&nbsp;differentiallyImportCells(<a href="../../../../../org/dgfoundation/amp/algo/timing/InclusiveTimer.html" title="class in org.dgfoundation.amp.algo.timing">InclusiveTimer</a>&nbsp;timer,
                                                                                java.lang.String&nbsp;mainColumn,
                                                                                <a href="../../../../../org/dgfoundation/amp/nireports/amp/diff/DifferentialCache.html" title="class in org.dgfoundation.amp.nireports.amp.diff">DifferentialCache</a>&lt;K&gt;&nbsp;cache,
                                                                                java.util.function.Function&lt;java.util.Set&lt;java.lang.Long&gt;,java.util.List&lt;K&gt;&gt;&nbsp;fetcher)</pre>
<div class="block">given a <a href="../../../../../org/dgfoundation/amp/nireports/amp/diff/DifferentialCache.html" title="class in org.dgfoundation.amp.nireports.amp.diff"><code>DifferentialCache</code></a> instance, does the following:
 <ol>
 <li>queries the database for the entities which have changed since the last time the cache instance has been populated (<a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#getChangedEntities-java.lang.String-long-"><code>getChangedEntities(String, long)</code></a>) - let's call it (a)</li>
 <li>queries the reports engine for the entities which are requested by the current report run (<a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html#getRequestedEntityIds-java.lang.String-"><code>getRequestedEntityIds(String)</code></a>) - let's call it (b)</li>
 <li>gets the set of entity ids which are already present in the cache <a href="../../../../../org/dgfoundation/amp/nireports/amp/diff/DifferentialCache.html#getCachedEntityIds--"><code>DifferentialCache.getCachedEntityIds()</code></a> - let's call it (c)</li>
 <li>calculates the set of entity ids which have to be refetched as being (a - c + b). Let's all it (d)</li>
 <li>fetches the (d) cells</li>
 <li>returns (d)</li>
 </ol></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timer</code> - the current-column-fetching timer so that the topmost node can be populated with statistics</dd>
<dd><code>mainColumn</code> - the "main" column name of the backing view of the fetched column. Used to decide whether to query the ETL log for activity IDs or pledge IDs</dd>
<dd><code>cache</code> - the cache to be used as a data repo</dd>
<dd><code>fetcher</code> - the function used for fetching cells with a given set of main IDs</dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="get-org.dgfoundation.amp.nireports.NiReportsEngine-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public static&nbsp;<a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html" title="class in org.dgfoundation.amp.nireports.amp">AmpReportsScratchpad</a>&nbsp;get(<a href="../../../../../org/dgfoundation/amp/nireports/NiReportsEngine.html" title="class in org.dgfoundation.amp.nireports">NiReportsEngine</a>&nbsp;engine)</pre>
<div class="block">shorthand function to take repetitive casts out of common code: gets the AMP scratchpad attached to a running engine</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>engine</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="getComputedMeasuresBlock-org.dgfoundation.amp.nireports.NiReportsEngine-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getComputedMeasuresBlock</h4>
<pre>public static&nbsp;<a href="../../../../../org/dgfoundation/amp/nireports/amp/SelectedYearBlock.html" title="class in org.dgfoundation.amp.nireports.amp">SelectedYearBlock</a>&nbsp;getComputedMeasuresBlock(<a href="../../../../../org/dgfoundation/amp/nireports/NiReportsEngine.html" title="class in org.dgfoundation.amp.nireports">NiReportsEngine</a>&nbsp;engine)</pre>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws java.lang.Exception</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="getPrecisionSetting--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPrecisionSetting</h4>
<pre>public&nbsp;<a href="../../../../../org/dgfoundation/amp/nireports/NiPrecisionSetting.html" title="interface in org.dgfoundation.amp.nireports">NiPrecisionSetting</a>&nbsp;getPrecisionSetting()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/dgfoundation/amp/nireports/schema/SchemaSpecificScratchpad.html#getPrecisionSetting--">getPrecisionSetting</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/dgfoundation/amp/nireports/schema/SchemaSpecificScratchpad.html" title="interface in org.dgfoundation.amp.nireports.schema">SchemaSpecificScratchpad</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the precision with which to run the internal calculations. Should be at least 2 orders of magnitude better than the format used for displaying</dd>
</dl>
</li>
</ul>
<a name="buildCalendarConverter--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildCalendarConverter</h4>
<pre>public&nbsp;<a href="../../../../../org/dgfoundation/amp/nireports/runtime/CachingCalendarConverter.html" title="class in org.dgfoundation.amp.nireports.runtime">CachingCalendarConverter</a>&nbsp;buildCalendarConverter()</pre>
<div class="block">adds a caching layer in front of AMP's slow calendar converters. Also translates the text headers for fiscal years and workarounds calendar bugs (AMP-22850)</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/dgfoundation/amp/nireports/schema/SchemaSpecificScratchpad.html#buildCalendarConverter--">buildCalendarConverter</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/dgfoundation/amp/nireports/schema/SchemaSpecificScratchpad.html" title="interface in org.dgfoundation.amp.nireports.schema">SchemaSpecificScratchpad</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Calendar to use in a report in case <a href="../../../../../org/dgfoundation/amp/newreports/ReportSpecification.html" title="interface in org.dgfoundation.amp.newreports"><code>ReportSpecification</code></a> does not specify one</dd>
</dl>
</li>
</ul>
<a name="getDefaultCalendar--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultCalendar</h4>
<pre>public&nbsp;<a href="../../../../../org/dgfoundation/amp/newreports/CalendarConverter.html" title="interface in org.dgfoundation.amp.newreports">CalendarConverter</a>&nbsp;getDefaultCalendar()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/dgfoundation/amp/nireports/schema/SchemaSpecificScratchpad.html#getDefaultCalendar--">getDefaultCalendar</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/dgfoundation/amp/nireports/schema/SchemaSpecificScratchpad.html" title="interface in org.dgfoundation.amp.nireports.schema">SchemaSpecificScratchpad</a></code></dd>
</dl>
</li>
</ul>
<a name="postprocessTranslatedDate-org.dgfoundation.amp.nireports.TranslatedDate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postprocessTranslatedDate</h4>
<pre>public&nbsp;<a href="../../../../../org/dgfoundation/amp/nireports/TranslatedDate.html" title="class in org.dgfoundation.amp.nireports">TranslatedDate</a>&nbsp;postprocessTranslatedDate(<a href="../../../../../org/dgfoundation/amp/nireports/TranslatedDate.html" title="class in org.dgfoundation.amp.nireports">TranslatedDate</a>&nbsp;in)</pre>
<div class="block">postprocesses funding column's transaction dates for the sake of AMP-22850</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>in</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="getTimeRangeSubTotalColumnName-org.dgfoundation.amp.newreports.ReportSpecification-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimeRangeSubTotalColumnName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getTimeRangeSubTotalColumnName(<a href="../../../../../org/dgfoundation/amp/newreports/ReportSpecification.html" title="interface in org.dgfoundation.amp.newreports">ReportSpecification</a>&nbsp;spec)</pre>
<div class="block">returns the localised name for column used for time range sub totals. if sub totals are not needed then null
 must be returned.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/dgfoundation/amp/nireports/schema/SchemaSpecificScratchpad.html#getTimeRangeSubTotalColumnName-org.dgfoundation.amp.newreports.ReportSpecification-">getTimeRangeSubTotalColumnName</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/dgfoundation/amp/nireports/schema/SchemaSpecificScratchpad.html" title="interface in org.dgfoundation.amp.nireports.schema">SchemaSpecificScratchpad</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>spec</code> - report specification</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>localized column name</dd>
</dl>
</li>
</ul>
<a name="getEnvironment--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getEnvironment</h4>
<pre>public&nbsp;<a href="../../../../../org/dgfoundation/amp/newreports/IReportEnvironment.html" title="interface in org.dgfoundation.amp.newreports">IReportEnvironment</a>&nbsp;getEnvironment()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpReportsSchema.NamedElemType.html" title="enum in org.dgfoundation.amp.nireports.amp"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/dgfoundation/amp/nireports/amp/AmpSqlSourcedColumn.html" title="class in org.dgfoundation.amp.nireports.amp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/dgfoundation/amp/nireports/amp/AmpReportsScratchpad.html" target="_top">Frames</a></li>
<li><a href="AmpReportsScratchpad.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
